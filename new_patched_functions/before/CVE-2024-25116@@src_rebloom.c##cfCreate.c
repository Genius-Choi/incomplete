static CuckooFilter *cfCreate(RedisModuleKey *key, size_t capacity, size_t bucketSize,
                              size_t maxIterations, size_t expansion) {
    if (capacity < bucketSize * 2)
        return NULL;

    CuckooFilter *cf = RedisModule_Calloc(1, sizeof(*cf));
    if (CuckooFilter_Init(cf, capacity, bucketSize, maxIterations, expansion) != 0) {
        RedisModule_Free(cf); // LCOV_EXCL_LINE
        cf = NULL;            // LCOV_EXCL_LINE
    }
    RedisModule_ModuleTypeSetValue(key, CFType, cf);
    return cf;
}
