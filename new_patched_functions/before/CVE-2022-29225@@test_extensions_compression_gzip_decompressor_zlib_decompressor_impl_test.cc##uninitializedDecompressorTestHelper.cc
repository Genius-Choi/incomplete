  static void uninitializedDecompressorTestHelper() {
    Buffer::OwnedImpl input_buffer;
    Buffer::OwnedImpl output_buffer;
    Stats::IsolatedStoreImpl stats_store{};
    ZlibDecompressorImpl decompressor{stats_store, "test."};
    TestUtility::feedBufferWithRandomCharacters(input_buffer, 100);
    decompressor.decompress(input_buffer, output_buffer);
    ASSERT_TRUE(decompressor.decompression_error_ < 0);
    ASSERT_EQ(stats_store.counterFromString("test.zlib_stream_error").value(), 1);
  }
