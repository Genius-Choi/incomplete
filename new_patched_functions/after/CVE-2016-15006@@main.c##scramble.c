void scramble(FILE* keyFile){
	printf("scrambling substitution's tables...\n");
	for (int j = 0; j < 16; ++j)
	{
		char temp = 0;

		for (int i = 0; i < 256; ++i)
		{
			scrambleAsciiTables[j][i] = i;
		}

		if (usingKeyFile){
			int size;
			char extractedString[BUFFER_SIZE] = "";
			unsigned char random256;
			while((size = fread(extractedString, 1, BUFFER_SIZE, keyFile)) > 0){
				for (int i = 0; i < size; ++i)
				{
					random256 = generateNumber() ^ extractedString[i];
					temp = scrambleAsciiTables[j][i%256];
					scrambleAsciiTables[j][i%256] = scrambleAsciiTables[j][random256];
					scrambleAsciiTables[j][random256] = temp;
				}
			}
			rewind(keyFile);
		} else {
			unsigned char random256;
			for (int i = 0; i < 10 * 256; ++i)
			{
				random256 = generateNumber() ^ passPhrase[passIndex];
				passIndex++;
				passIndex %= 16384;
				temp = scrambleAsciiTables[j][i%256];
				scrambleAsciiTables[j][i%256] = scrambleAsciiTables[j][random256];
				scrambleAsciiTables[j][random256] = temp;
			}
		}
	}
	if(usingKeyFile){
		int j = 0;
		char temp[BUFFER_SIZE];
		while(j < BUFFER_SIZE){
			int charactersRead = fread(temp, 1, BUFFER_SIZE, keyFile);
			if(charactersRead == 0){
				rewind(keyFile);
				continue;
			}
			for (int i = 0; i < charactersRead; ++i)
			{
				scramblingTablesOrder[j] = temp[i] & (1+2+4+8);
				j++;
				if(j == BUFFER_SIZE){
					break;
				}
			}
		}
	}
}
