TEST_P(Http2CodecImplTest, EmptyDataFloodOverride) {
  Runtime::LoaderSingleton::getExisting()->mergeValues(
      {{"envoy.reloadable_features.http2_protocol_options.max_consecutive_inbound_frames_with_"
        "empty_payload",
        "2147483647"}});
  Buffer::OwnedImpl data;
  emptyDataFlood(data);
  EXPECT_CALL(request_decoder_, decodeData(_, false))
      .Times(Http2Settings::DEFAULT_MAX_CONSECUTIVE_INBOUND_FRAMES_WITH_EMPTY_PAYLOAD + 1);
  EXPECT_NO_THROW(server_wrapper_.dispatch(data, *server_));
}
