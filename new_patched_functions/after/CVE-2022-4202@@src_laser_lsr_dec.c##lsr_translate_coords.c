static Fixed lsr_translate_coords(GF_LASeRCodec *lsr, u32 val, u32 nb_bits)
{
	if (!nb_bits) return 0;
	if (nb_bits>=32) return 0;

#ifdef GPAC_FIXED_POINT
	if (val >> (nb_bits-1) ) {
		s64 neg = (s64) val - (0x00000001UL << nb_bits);
		if (neg < -FIX_ONE / 2)
			return 2 * gf_divfix(INT2FIX(neg/2), lsr->res_factor);
		return gf_divfix(INT2FIX(neg), lsr->res_factor);
	} else {
		if (val > FIX_ONE / 2)
			return 2 * gf_divfix(INT2FIX(val/2), lsr->res_factor);
		return gf_divfix(INT2FIX(val), lsr->res_factor);
	}
#else
	if (val >> (nb_bits-1) ) {
		s64 neg = (s64) val - (0x00000001UL << nb_bits);
		return ((Fixed)neg) / lsr->res_factor;
	} else {
		return ((Fixed)val) / lsr->res_factor;
	}
#endif
}
