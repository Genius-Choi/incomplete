virtio_input_teardown(void *param)
{
	struct virtio_input *vi;

	vi = (struct virtio_input *)param;
	if (vi) {
		pthread_mutex_destroy(&vi->mtx);
		if (vi->event_queue)
			free(vi->event_queue);
		if (vi->fd > 0)
			close(vi->fd);
		if (vi->evdev)
			free(vi->evdev);
		if (vi->serial)
			free(vi->serial);

		virtio_input_reset(vi);
		free(vi);
		vi = NULL;
	}
}
