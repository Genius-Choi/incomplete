refer_to_spec(pbelle_sip_messageParser ctx, belle_sip_header_address_t* address)
{
    belle_sip_header_address_t* ret;


    /* Initialize rule variables
     */

    ret=address;

    {
        // ../grammars/belle_sip_message.g:1346:3: ( ( ( name_addr[address] | paramless_addr_spec[address] ) ( SEMI ( lws )? generic_param[BELLE_SIP_PARAMETERS(address)] ( lws )? )* ) )
        // ../grammars/belle_sip_message.g:1346:7: ( ( name_addr[address] | paramless_addr_spec[address] ) ( SEMI ( lws )? generic_param[BELLE_SIP_PARAMETERS(address)] ( lws )? )* )
        {
            // ../grammars/belle_sip_message.g:1346:7: ( ( name_addr[address] | paramless_addr_spec[address] ) ( SEMI ( lws )? generic_param[BELLE_SIP_PARAMETERS(address)] ( lws )? )* )
            // ../grammars/belle_sip_message.g:1346:8: ( name_addr[address] | paramless_addr_spec[address] ) ( SEMI ( lws )? generic_param[BELLE_SIP_PARAMETERS(address)] ( lws )? )*
            {
                // ../grammars/belle_sip_message.g:1346:8: ( name_addr[address] | paramless_addr_spec[address] )
                {
                    int alt121=2;
                    alt121 = cdfa121.predict(ctx, RECOGNIZER, ISTREAM, &cdfa121);
                    if  (HASEXCEPTION())
                    {
                        goto rulerefer_to_specEx;
                    }
                    if (HASFAILED())
                    {
                        return ret;
                    }

                    switch (alt121)
                    {
                	case 1:
                	    // ../grammars/belle_sip_message.g:1346:10: name_addr[address]
                	    {
                	        FOLLOWPUSH(FOLLOW_name_addr_in_refer_to_spec5120);
                	        name_addr(ctx, address);

                	        FOLLOWPOP();
                	        if  (HASEXCEPTION())
                	        {
                	            goto rulerefer_to_specEx;
                	        }
                	        if (HASFAILED())
                	        {
                	            return ret;
                	        }


                	    }
                	    break;
                	case 2:
                	    // ../grammars/belle_sip_message.g:1346:31: paramless_addr_spec[address]
                	    {
                	        FOLLOWPUSH(FOLLOW_paramless_addr_spec_in_refer_to_spec5125);
                	        paramless_addr_spec(ctx, address);

                	        FOLLOWPOP();
                	        if  (HASEXCEPTION())
                	        {
                	            goto rulerefer_to_specEx;
                	        }
                	        if (HASFAILED())
                	        {
                	            return ret;
                	        }


                	    }
                	    break;

                    }
                }

                // ../grammars/belle_sip_message.g:1346:62: ( SEMI ( lws )? generic_param[BELLE_SIP_PARAMETERS(address)] ( lws )? )*

                for (;;)
                {
                    int alt124=2;
                    switch ( LA(1) )
                    {
                    case SEMI:
                    	{
                    		alt124=1;
                    	}
                        break;

                    }

                    switch (alt124)
                    {
                	case 1:
                	    // ../grammars/belle_sip_message.g:1346:64: SEMI ( lws )? generic_param[BELLE_SIP_PARAMETERS(address)] ( lws )?
                	    {
                	         MATCHT(SEMI, &FOLLOW_SEMI_in_refer_to_spec5132);
                	        if  (HASEXCEPTION())
                	        {
                	            goto rulerefer_to_specEx;
                	        }
                	        if (HASFAILED())
                	        {
                	            return ret;
                	        }


                	        // ../grammars/belle_sip_message.g:1346:69: ( lws )?
                	        {
                	            int alt122=2;
                	            switch ( LA(1) )
                	            {
                	                case CRLF:
                	                case SP:
                	                	{
                	                		alt122=1;
                	                	}
                	                    break;
                	            }

                	            switch (alt122)
                	            {
                	        	case 1:
                	        	    // ../grammars/belle_sip_message.g:1346:69: lws
                	        	    {
                	        	        FOLLOWPUSH(FOLLOW_lws_in_refer_to_spec5134);
                	        	        lws(ctx);

                	        	        FOLLOWPOP();
                	        	        if  (HASEXCEPTION())
                	        	        {
                	        	            goto rulerefer_to_specEx;
                	        	        }
                	        	        if (HASFAILED())
                	        	        {
                	        	            return ret;
                	        	        }


                	        	    }
                	        	    break;

                	            }
                	        }

                	        FOLLOWPUSH(FOLLOW_generic_param_in_refer_to_spec5137);
                	        generic_param(ctx, BELLE_SIP_PARAMETERS(address));

                	        FOLLOWPOP();
                	        if  (HASEXCEPTION())
                	        {
                	            goto rulerefer_to_specEx;
                	        }
                	        if (HASFAILED())
                	        {
                	            return ret;
                	        }


                	        // ../grammars/belle_sip_message.g:1346:120: ( lws )?
                	        {
                	            int alt123=2;
                	            switch ( LA(1) )
                	            {
                	                case CRLF:
                	                case SP:
                	                	{
                	                		alt123=1;
                	                	}
                	                    break;
                	            }

                	            switch (alt123)
                	            {
                	        	case 1:
                	        	    // ../grammars/belle_sip_message.g:1346:120: lws
                	        	    {
                	        	        FOLLOWPUSH(FOLLOW_lws_in_refer_to_spec5141);
                	        	        lws(ctx);

                	        	        FOLLOWPOP();
                	        	        if  (HASEXCEPTION())
                	        	        {
                	        	            goto rulerefer_to_specEx;
                	        	        }
                	        	        if (HASFAILED())
                	        	        {
                	        	            return ret;
                	        	        }


                	        	    }
                	        	    break;

                	            }
                	        }

                	    }
                	    break;

                	default:
                	    goto loop124;	/* break out of the loop */
                	    break;
                    }
                }
                loop124: ; /* Jump out to here if this rule does not match */


            }


        }

    }

    // This is where rules clean up and exit
    //
    goto rulerefer_to_specEx; /* Prevent compiler warnings */
    rulerefer_to_specEx: ;

    if	(HASEXCEPTION())
    {
	/* catch(decl,action)
	 */
	{

	       belle_sip_message("[%s]  reason [%s]",(const char*)EXCEPTION->name,(const char*)EXCEPTION->message);
	       belle_sip_object_unref(address);
	       ret=NULL;


	}


    }
    else
    {
    }
    return ret;
}
