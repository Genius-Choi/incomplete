update_job_new (gpointer owner,
                UpdateRequest *request,
		update_result_cb callback,
		gpointer user_data,
		updateFlags flags)
{
	updateJobPtr	job;

	job = g_new0 (struct updateJob, 1);
	job->owner = owner;
	job->request = UPDATE_REQUEST (request);
	job->result = update_result_new ();
	job->callback = callback;
	job->user_data = user_data;
	job->flags = flags;
	job->state = REQUEST_STATE_INITIALIZED;

	job->cmd.fd = -1;
	job->cmd.pid = 0;

	return job;
}
