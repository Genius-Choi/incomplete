header_value(pbelle_sip_messageParser ctx, const char* name, ANTLR3_BOOLEAN is_http)
{
    belle_sip_messageParser_header_value_return retval;


    /* Initialize rule variables
     */

    retval.ret=NULL;

    retval.start = LT(1); retval.stop = retval.start;


    {
        // ../grammars/belle_sip_message.g:1769:3: ( (~ ( SP | CRLF ) ( ( CRLF SP ) |~ CRLF )* ) )
        // ../grammars/belle_sip_message.g:1769:6: (~ ( SP | CRLF ) ( ( CRLF SP ) |~ CRLF )* )
        {
            // ../grammars/belle_sip_message.g:1769:6: (~ ( SP | CRLF ) ( ( CRLF SP ) |~ CRLF )* )
            // ../grammars/belle_sip_message.g:1769:7: ~ ( SP | CRLF ) ( ( CRLF SP ) |~ CRLF )*
            {
                if ( ((LA(1) >= AND) && (LA(1) <= COMMON_CHAR)) || ((LA(1) >= DASH) && (LA(1) <= SLASH)) || ((LA(1) >= SQUOTE) && (LA(1) <= USCORE)) )
                {
                    CONSUME();
                    PERRORRECOVERY=ANTLR3_FALSE;
                    FAILEDFLAG=ANTLR3_FALSE;

                }
                else
                {
                    if (BACKTRACKING>0)
                    {
                        FAILEDFLAG = ANTLR3_TRUE;
                        return retval;
                    }

                    CONSTRUCTEX();
                    EXCEPTION->type         = ANTLR3_MISMATCHED_SET_EXCEPTION;
                    EXCEPTION->name         = (void *)ANTLR3_MISMATCHED_SET_NAME;
                    EXCEPTION->expectingSet = NULL;

                    goto ruleheader_valueEx;
                }


                // ../grammars/belle_sip_message.g:1769:18: ( ( CRLF SP ) |~ CRLF )*

                for (;;)
                {
                    int alt146=3;
                    switch ( LA(1) )
                    {
                    case CRLF:
                    	{
                    		switch ( LA(2) )
                    		{
                    		case SP:
                    			{
                    				alt146=1;
                    			}
                    		    break;

                    		}

                    	}
                        break;
                    case AND:
                    case AT:
                    case BQUOTE:
                    case BSLASH:
                    case COLON:
                    case COMMA:
                    case COMMON_CHAR:
                    case DASH:
                    case DIGIT:
                    case DOLLARD:
                    case DOT:
                    case DQUOTE:
                    case EMARK:
                    case EQUAL:
                    case HEX_CHAR:
                    case HTAB:
                    case LAQUOT:
                    case LBRACE:
                    case LPAREN:
                    case LSBRAQUET:
                    case OCTET:
                    case OR:
                    case PERCENT:
                    case PLUS:
                    case QMARK:
                    case RAQUOT:
                    case RBRACE:
                    case RPAREN:
                    case RSBRAQUET:
                    case SEMI:
                    case SLASH:
                    case SP:
                    case SQUOTE:
                    case STAR:
                    case TILDE:
                    case USCORE:
                    	{
                    		alt146=2;
                    	}
                        break;

                    }

                    switch (alt146)
                    {
                	case 1:
                	    // ../grammars/belle_sip_message.g:1769:19: ( CRLF SP )
                	    {
                	        // ../grammars/belle_sip_message.g:1769:19: ( CRLF SP )
                	        // ../grammars/belle_sip_message.g:1769:20: CRLF SP
                	        {
                	             MATCHT(CRLF, &FOLLOW_CRLF_in_header_value6596);
                	            if  (HASEXCEPTION())
                	            {
                	                goto ruleheader_valueEx;
                	            }
                	            if (HASFAILED())
                	            {
                	                return retval;
                	            }


                	             MATCHT(SP, &FOLLOW_SP_in_header_value6598);
                	            if  (HASEXCEPTION())
                	            {
                	                goto ruleheader_valueEx;
                	            }
                	            if (HASFAILED())
                	            {
                	                return retval;
                	            }


                	        }


                	    }
                	    break;
                	case 2:
                	    // ../grammars/belle_sip_message.g:1769:31: ~ CRLF
                	    {
                	        if ( ((LA(1) >= AND) && (LA(1) <= COMMON_CHAR)) || ((LA(1) >= DASH) && (LA(1) <= USCORE)) )
                	        {
                	            CONSUME();
                	            PERRORRECOVERY=ANTLR3_FALSE;
                	            FAILEDFLAG=ANTLR3_FALSE;

                	        }
                	        else
                	        {
                	            if (BACKTRACKING>0)
                	            {
                	                FAILEDFLAG = ANTLR3_TRUE;
                	                return retval;
                	            }

                	            CONSTRUCTEX();
                	            EXCEPTION->type         = ANTLR3_MISMATCHED_SET_EXCEPTION;
                	            EXCEPTION->name         = (void *)ANTLR3_MISMATCHED_SET_NAME;
                	            EXCEPTION->expectingSet = NULL;

                	            goto ruleheader_valueEx;
                	        }


                	    }
                	    break;

                	default:
                	    goto loop146;	/* break out of the loop */
                	    break;
                    }
                }
                loop146: ; /* Jump out to here if this rule does not match */


            }


            if ( BACKTRACKING==0 )
            {

                                    if (is_http) {
                                    	
                retval.ret=belle_http_header_create(name,(const char*)
                STRSTREAM->toStringTT(STRSTREAM, retval.start, LT(-1))
                ->chars);

                                    }else {
                                    	retval.ret=belle_sip_header_create(name,(const char*)
                STRSTREAM->toStringTT(STRSTREAM, retval.start, LT(-1))
                ->chars);

                                    }
                                   
            }


        }

    }

    // This is where rules clean up and exit
    //
    goto ruleheader_valueEx; /* Prevent compiler warnings */
    ruleheader_valueEx: ;
    retval.stop = LT(-1);



                if (HASEXCEPTION())
                {

                // This is ugly.  We set the exception type to ANTLR3_RECOGNITION_EXCEPTION so we can always
                // catch them.
                //PREPORTERROR();
                EXCEPTION->type = ANTLR3_RECOGNITION_EXCEPTION;
                }

    return retval;
}
