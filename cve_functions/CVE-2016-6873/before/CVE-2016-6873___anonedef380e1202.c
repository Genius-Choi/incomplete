              [&](const TypedValue* key, const TypedValue* tv) -> bool {
                if (HPHP::equal(tvAsCVarRef(tv), needle)) {
                  ret = tvAsCVarRef(key);
                  return true;
                }
                return false;
              },
