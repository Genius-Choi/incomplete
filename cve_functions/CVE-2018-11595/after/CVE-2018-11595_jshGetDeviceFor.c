JshPinFunction jshGetDeviceFor(JshPinFunction deviceMin, JshPinFunction deviceMax, Pin pin) {
  if (!jshIsPinValid(pin)) return JSH_NOTHING;
  int i;
  for (i=0;i<JSH_PININFO_FUNCTIONS;i++) {
    JshPinFunction f = pinInfo[pin].functions[i];
    if ((f&JSH_MASK_TYPE) >= deviceMin &&
        (f&JSH_MASK_TYPE) <= deviceMax)
      return f;
  }
  return JSH_NOTHING;
}
