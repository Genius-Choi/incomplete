PHP_FUNCTION(proc_nice)
{
	zend_long pri;

	if (zend_parse_parameters(ZEND_NUM_ARGS(), "l", &pri) == FAILURE) {
		RETURN_FALSE;
	}

	errno = 0;
	php_ignore_value(nice(pri));
	if (errno) {
		php_error_docref(NULL, E_WARNING, "Only a super user may attempt to increase the priority of a process");
		RETURN_FALSE;
	}

	RETURN_TRUE;
}
