void PrintTo(const GrpcHealthCheckerImplTestBase::ResponseSpec& spec, std::ostream* os) {
  (*os) << "(headers{" << absl::StrJoin(spec.response_headers, ",", absl::PairFormatter(":"))
        << "},";
  (*os) << "body{" << absl::StrJoin(spec.body_chunks, ",", [](std::string* out, const auto& spec) {
    absl::StrAppend(out, spec.valid ? "valid" : "invalid", ",{",
                    absl::StrJoin(spec.data, "-",
                                  [](std::string* out, uint8_t byte) {
                                    absl::StrAppend(out, absl::Hex(byte, absl::kZeroPad2));
                                  }),
                    "}");
  }) << "}";
  (*os) << "trailers{" << absl::StrJoin(spec.trailers, ",", absl::PairFormatter(":")) << "})";
}
