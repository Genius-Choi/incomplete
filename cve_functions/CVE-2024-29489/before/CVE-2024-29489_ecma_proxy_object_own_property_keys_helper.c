ecma_proxy_object_own_property_keys_helper (ecma_collection_t *target_collection, /**< target keys */
                                            ecma_collection_t *unchecked_result_keys, /**< unchecked keys */
                                            uint32_t *counter) /**< unchecked property counter */
{
  ecma_value_t ret_value = ECMA_VALUE_EMPTY;

  for (uint32_t i = 0; i < target_collection->item_count; i++)
  {
    ecma_string_t *current_prop_name = ecma_get_prop_name_from_value (target_collection->buffer_p[i]);

    ret_value = ECMA_VALUE_ERROR;

    for (uint32_t j = 0; j < unchecked_result_keys->item_count; j++)
    {
      if (ecma_is_value_empty (unchecked_result_keys->buffer_p[j]))
      {
        continue;
      }

      ecma_string_t *unchecked_prop_name = ecma_get_prop_name_from_value (unchecked_result_keys->buffer_p[j]);

      if (ecma_compare_ecma_strings (current_prop_name, unchecked_prop_name))
      {
        ecma_deref_ecma_string (unchecked_prop_name);
        ret_value = ECMA_VALUE_EMPTY;
        unchecked_result_keys->buffer_p[j] = ECMA_VALUE_EMPTY;
        (*counter)++;
      }
    }

    if (ECMA_IS_VALUE_ERROR (ret_value))
    {
      break;
    }
  }

  return ret_value;
} /* ecma_proxy_object_own_property_keys_helper */
