GF_Err gf_odf_opus_cfg_parse_bs(GF_BitStream *bs, GF_OpusConfig *cfg)
{
	memset(cfg, 0, sizeof(GF_OpusConfig));
	cfg->version = gf_bs_read_u8(bs);
	cfg->OutputChannelCount = gf_bs_read_u8(bs);
	cfg->PreSkip = gf_bs_read_u16_le(bs);
	cfg->InputSampleRate = gf_bs_read_u32_le(bs);
	cfg->OutputGain = gf_bs_read_u16_le(bs);
	cfg->ChannelMappingFamily = gf_bs_read_u8(bs);
	if (cfg->ChannelMappingFamily) {
		cfg->StreamCount = gf_bs_read_u8(bs);
		cfg->CoupledCount = gf_bs_read_u8(bs);
		gf_bs_read_data(bs, (char *) cfg->ChannelMapping, cfg->OutputChannelCount);
	}
	return GF_OK;
}
