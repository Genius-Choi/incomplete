challenge(pbelle_sip_messageParser ctx, belle_sip_header_www_authenticate_t* www_authenticate)
{
    /* Initialize rule variables
     */

    {
        {
            //  ../grammars/belle_sip_message.g:1076:3: ( ({...}? token lws digest_cln[www_authenticate] ( comma digest_cln[www_authenticate] )* ) | other_challenge[www_authenticate] )

            ANTLR3_UINT32 alt95;

            alt95=2;

            alt95 = cdfa95.predict(ctx, RECOGNIZER, ISTREAM, &cdfa95);
            if  (HASEXCEPTION())
            {
                goto rulechallengeEx;
            }
            if (HASFAILED())
            {
                return ;
            }

            switch (alt95)
            {
        	case 1:
        	    // ../grammars/belle_sip_message.g:1076:7: ({...}? token lws digest_cln[www_authenticate] ( comma digest_cln[www_authenticate] )* )
        	    {
        	        // ../grammars/belle_sip_message.g:1076:7: ({...}? token lws digest_cln[www_authenticate] ( comma digest_cln[www_authenticate] )* )
        	        // ../grammars/belle_sip_message.g:1076:8: {...}? token lws digest_cln[www_authenticate] ( comma digest_cln[www_authenticate] )*
        	        {
        	            if ( !((IS_TOKEN(Digest))) )
        	            {
        	                if (BACKTRACKING>0)
        	                {
        	                    FAILEDFLAG = ANTLR3_TRUE;
        	                    return ;
        	                }

        	                    CONSTRUCTEX();
        	                    EXCEPTION->type         = ANTLR3_FAILED_PREDICATE_EXCEPTION;
        	                    EXCEPTION->message      = (void *)"IS_TOKEN(Digest)";
        	                    EXCEPTION->ruleName	 = (void *)"challenge";


        	            }

        	            FOLLOWPUSH(FOLLOW_token_in_challenge3950);
        	            token(ctx);

        	            FOLLOWPOP();
        	            if  (HASEXCEPTION())
        	            {
        	                goto rulechallengeEx;
        	            }
        	            if (HASFAILED())
        	            {
        	                return ;
        	            }


        	            if ( BACKTRACKING==0 )
        	            {
        	                belle_sip_header_www_authenticate_set_scheme(www_authenticate,"Digest");
        	            }


        	            FOLLOWPUSH(FOLLOW_lws_in_challenge3961);
        	            lws(ctx);

        	            FOLLOWPOP();
        	            if  (HASEXCEPTION())
        	            {
        	                goto rulechallengeEx;
        	            }
        	            if (HASFAILED())
        	            {
        	                return ;
        	            }


        	            FOLLOWPUSH(FOLLOW_digest_cln_in_challenge3963);
        	            digest_cln(ctx, www_authenticate);

        	            FOLLOWPOP();
        	            if  (HASEXCEPTION())
        	            {
        	                goto rulechallengeEx;
        	            }
        	            if (HASFAILED())
        	            {
        	                return ;
        	            }


        	            // ../grammars/belle_sip_message.g:1077:39: ( comma digest_cln[www_authenticate] )*

        	            for (;;)
        	            {
        	                int alt94=2;
        	                switch ( LA(1) )
        	                {
        	                case COMMA:
        	                case CRLF:
        	                case SP:
        	                	{
        	                		alt94=1;
        	                	}
        	                    break;

        	                }

        	                switch (alt94)
        	                {
        	            	case 1:
        	            	    // ../grammars/belle_sip_message.g:1077:40: comma digest_cln[www_authenticate]
        	            	    {
        	            	        FOLLOWPUSH(FOLLOW_comma_in_challenge3967);
        	            	        comma(ctx);

        	            	        FOLLOWPOP();
        	            	        if  (HASEXCEPTION())
        	            	        {
        	            	            goto rulechallengeEx;
        	            	        }
        	            	        if (HASFAILED())
        	            	        {
        	            	            return ;
        	            	        }


        	            	        FOLLOWPUSH(FOLLOW_digest_cln_in_challenge3969);
        	            	        digest_cln(ctx, www_authenticate);

        	            	        FOLLOWPOP();
        	            	        if  (HASEXCEPTION())
        	            	        {
        	            	            goto rulechallengeEx;
        	            	        }
        	            	        if (HASFAILED())
        	            	        {
        	            	            return ;
        	            	        }


        	            	    }
        	            	    break;

        	            	default:
        	            	    goto loop94;	/* break out of the loop */
        	            	    break;
        	                }
        	            }
        	            loop94: ; /* Jump out to here if this rule does not match */


        	        }


        	    }
        	    break;
        	case 2:
        	    // ../grammars/belle_sip_message.g:1078:26: other_challenge[www_authenticate]
        	    {
        	        FOLLOWPUSH(FOLLOW_other_challenge_in_challenge4000);
        	        other_challenge(ctx, www_authenticate);

        	        FOLLOWPOP();
        	        if  (HASEXCEPTION())
        	        {
        	            goto rulechallengeEx;
        	        }
        	        if (HASFAILED())
        	        {
        	            return ;
        	        }


        	    }
        	    break;

            }
        }
    }

    // This is where rules clean up and exit
    //
    goto rulechallengeEx; /* Prevent compiler warnings */
    rulechallengeEx: ;


                if (HASEXCEPTION())
                {

                // This is ugly.  We set the exception type to ANTLR3_RECOGNITION_EXCEPTION so we can always
                // catch them.
                //PREPORTERROR();
                EXCEPTION->type = ANTLR3_RECOGNITION_EXCEPTION;
                }

    return ;
}
