static float get_iscale(AVFilterContext *ctx, int scale, float a)
{
    ShowSpectrumContext *s = ctx->priv;
    const float dmin = s->dmin;
    const float dmax = s->dmax;

    switch (scale) {
    case LINEAR:
        break;
    case SQRT:
        a = a * a;
        break;
    case CBRT:
        a = a * a * a;
        break;
    case FOURTHRT:
        a = a * a * a * a;
        break;
    case FIFTHRT:
        a = a * a * a * a * a;
        break;
    case LOG:
        a = expf(M_LN10 * (a * s->drange - s->drange + s->limit) / 20.f);
        break;
    default:
        av_assert0(0);
    }

    if (scale != LOG)
        a = a * (dmax - dmin) + dmin;

    return a;
}
