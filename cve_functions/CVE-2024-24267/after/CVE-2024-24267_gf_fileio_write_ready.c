GF_FileIOWriteState gf_fileio_write_ready(FILE *fp)
{
	GF_FileIO *fio = (GF_FileIO *)fp;
	if ((fp==stdin) || (fp==stderr) || (fp==stdout))
		return GF_FIO_WRITE_READY;

	//GFIO, check state
	if (fio && !fio->_reserved_null && (fio->__this==fio)) {
		return fio->write_state;
	}
	//sync stdio
	return GF_FIO_WRITE_READY;
}
