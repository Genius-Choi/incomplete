bool tr_variantGetBool(tr_variant const* v, bool* setme)
{
    char const* str;
    bool success = false;

    if (tr_variantIsBool(v))
    {
        *setme = v->val.b;
        success = true;
    }

    if (!success && tr_variantIsInt(v))
    {
        if (v->val.i == 0 || v->val.i == 1)
        {
            *setme = v->val.i != 0;
            success = true;
        }
    }

    if (!success && tr_variantGetStr(v, &str, NULL))
    {
        if (strcmp(str, "true") == 0 || strcmp(str, "false") == 0)
        {
            *setme = strcmp(str, "true") == 0;
            success = true;
        }
    }

    return success;
}
