static pj_status_t create_subsequent_offer(struct transport_ice *tp_ice,
                                           pj_pool_t *sdp_pool,
                                           pjmedia_sdp_session *loc_sdp,
                                           unsigned media_index)
{
    unsigned comp_cnt;

    if (pj_ice_strans_has_sess(tp_ice->ice_st) == PJ_FALSE) {
        /* We don't have ICE */
        encode_no_ice_in_sdp(tp_ice, sdp_pool, loc_sdp, NULL, media_index);
        return PJ_SUCCESS;
    }

    comp_cnt = pj_ice_strans_get_running_comp_cnt(tp_ice->ice_st);
    return encode_session_in_sdp(tp_ice, sdp_pool, loc_sdp, media_index,
                                 comp_cnt, PJ_FALSE, tp_ice->enable_rtcp_mux,
                                 PJ_FALSE);
}
