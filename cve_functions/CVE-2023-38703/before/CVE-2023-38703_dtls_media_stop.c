static pj_status_t dtls_media_stop(pjmedia_transport *tp)
{
    dtls_srtp *ds = (dtls_srtp *)tp;

#if DTLS_DEBUG
    PJ_LOG(2,(ds->base.name, "dtls_media_stop()"));
#endif

    dtls_media_stop_channel(ds, RTP_CHANNEL);
    dtls_media_stop_channel(ds, RTCP_CHANNEL);

    ds->setup = DTLS_SETUP_UNKNOWN;
    ds->use_ice = PJ_FALSE;
    ds->got_keys = PJ_FALSE;
    ds->rem_fingerprint.slen = 0;
    ds->rem_fprint_status = PJ_EPENDING;

    return PJ_SUCCESS;
}
