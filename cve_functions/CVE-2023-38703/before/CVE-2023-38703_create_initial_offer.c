static pj_status_t create_initial_offer(struct transport_ice *tp_ice,
                                        pj_pool_t *sdp_pool,
                                        pjmedia_sdp_session *loc_sdp,
                                        unsigned media_index)
{
    pj_status_t status;

    /* Encode ICE in SDP */
    status = encode_session_in_sdp(tp_ice, sdp_pool, loc_sdp, media_index, 
                                   tp_ice->comp_cnt, PJ_FALSE,
                                   tp_ice->enable_rtcp_mux,
                                   tp_ice->trickle_ice !=
                                        PJ_ICE_SESS_TRICKLE_DISABLED);
    if (status != PJ_SUCCESS) {
        set_no_ice(tp_ice, "Error encoding SDP answer", status);
        return status;
    }

    return PJ_SUCCESS;
}
