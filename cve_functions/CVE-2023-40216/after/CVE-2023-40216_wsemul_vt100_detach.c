wsemul_vt100_detach(void *cookie, u_int *crowp, u_int *ccolp)
{
	struct wsemul_vt100_emuldata *edp = cookie;

	*crowp = edp->crow;
	*ccolp = edp->ccol;
#define f(ptr) do { free(ptr, M_DEVBUF, 0); ptr = NULL; } while (0)
	f(edp->tabs);
#ifdef HAVE_DOUBLE_WIDTH_HEIGHT
	f(edp->dblwid);
#endif
	f(edp->dcsarg);
	f(edp->isolatin1tab);
	f(edp->decgraphtab);
	f(edp->dectechtab);
	f(edp->nrctab);
#undef f
	if (edp != &wsemul_vt100_console_emuldata)
		free(edp, M_DEVBUF, sizeof *edp);
}
