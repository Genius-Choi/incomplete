static int iwbmp_write_bitfields(struct iwbmpwcontext *wctx)
{
	iw_byte buf[12];
	int k;

	if(wctx->bitcount!=16 && wctx->bitcount!=32) return 0;

	for(k=0;k<3;k++) {
		iw_set_ui32le(&buf[4*k],wctx->bf_mask[k]);
	}
	iwbmp_write(wctx,buf,12);
	return 1;
}
