fribidi_char_set_desc_cap_rtl (
  void
)
{
  static char *s = 0;
  int l, i, j;

  if (s)
    return s;

  l = 10000;
  s = (char *) fribidi_malloc (l);
  i = 0;
  i += sprintf (s + i,		/*l - i, */
		"CapRTL is a character set for testing with the reference\n"
		"implementation, with explicit marks escape strings, and\n"
		"the property that contains all unicode character types in\n"
		"ASCII range 1-127.\n"
		"\n"
		"Warning: CapRTL character types are subject to change.\n"
		"\n" "CapRTL's character types:\n");
  for (j = 0; j < CAPRTL_CHARS; j++)
    {
      if (j % 4 == 0)
	s[i++] = '\n';
      i += sprintf (s + i, /*l - i, */ "  * 0x%02x %c%c %-3s ", j,
		    j < 0x20 ? '^' : ' ',
		    j < 0x20 ? j + '@' : j < 0x7f ? j : ' ',
		    fribidi_get_bidi_type_name (CapRTLCharTypes[j]));
    }
  i += sprintf (s + i,		/*l - i, */
		"\n\n"
		"Escape sequences:\n"
		"  Character `_' is used to escape explicit marks. The list is:\n"
		"    * _>  LRM\n" "    * _<  RLM\n"
		"    * _l  LRE\n" "    * _r  RLE\n"
		"    * _L  LRO\n" "    * _R  RLO\n"
		"    * _o  PDF\n" "    * _i  LRI\n"
		"    * _y  RLI\n" "    * _f  FSI\n"
		"    * _I  PDI\n" "    * __  `_' itself\n"
                "\n");
  return s;
}
