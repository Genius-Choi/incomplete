static bool is_first_func_insn(struct objtool_file *file, struct instruction *insn)
{
	if (insn->offset == insn->func->offset)
		return true;

	if (opts.ibt) {
		struct instruction *prev = prev_insn_same_sym(file, insn);

		if (prev && prev->type == INSN_ENDBR &&
		    insn->offset == insn->func->offset + prev->len)
			return true;
	}

	return false;
}
