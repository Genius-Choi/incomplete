void QODBCDriverPrivate::checkDateTimePrecision()
{
    SQLINTEGER columnSize;
    SQLHANDLE hStmt;

    SQLRETURN r = SQLAllocHandle(SQL_HANDLE_STMT, hDbc, &hStmt);
    if (r != SQL_SUCCESS) {
        return;
    }

    r = SQLGetTypeInfo(hStmt, SQL_TIMESTAMP);
    if (r == SQL_SUCCESS || r == SQL_SUCCESS_WITH_INFO) {
        r = SQLFetch(hStmt);
        if ( r == SQL_SUCCESS || r == SQL_SUCCESS_WITH_INFO )
        {
            if (SQLGetData(hStmt, 3, SQL_INTEGER, &columnSize, sizeof(columnSize), 0) == SQL_SUCCESS) {
                datetimePrecision = (int)columnSize;
            }
        }
    }
    SQLFreeHandle(SQL_HANDLE_STMT, hStmt);
}
