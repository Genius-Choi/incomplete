bool DiagState::pop()
{
  if (!m_pStack) return false;
  DiagState *pPop = m_pStack; // Get the item on the top of the stack
  *this = *pPop; // ...and assign it as the current state
  pPop->m_pStack = 0; // The pop'ed item no longer owns the next item on the stack
  delete pPop;
  return true;
}
