JsVar *jsvSkipName(JsVar *a) {
  if (!a) return 0;
  if (jsvIsArrayBufferName(a)) return jsvArrayBufferGetFromName(a);
  if (jsvIsNameInt(a)) return jsvNewFromInteger((JsVarInt)jsvGetFirstChildSigned(a));
  if (jsvIsNameIntBool(a)) return jsvNewFromBool(jsvGetFirstChild(a)!=0);
  JsVar *pa = jsvLockAgain(a);
  while (jsvIsName(pa)) {
    JsVarRef n = jsvGetFirstChild(pa);
    jsvUnLock(pa);
    if (!n) {
      if (pa==a && jsvGetRefs(a)==0 && !jsvIsNewChild(a)) {
        jsExceptionHere(JSET_REFERENCEERROR, "%q is not defined", a);
      }
      return 0;
    }
    pa = jsvLock(n);
    assert(pa!=a);
  }
  return pa;
}
