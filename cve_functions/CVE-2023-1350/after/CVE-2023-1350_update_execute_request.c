update_execute_request (gpointer owner,
                        UpdateRequest *request,
			update_result_cb callback,
			gpointer user_data,
			updateFlags flags)
{
	updateJobPtr job;

	g_assert (request->options != NULL);
	g_assert (request->source != NULL);

	job = update_job_new (owner, request, callback, user_data, flags);
	job->state = REQUEST_STATE_PENDING;
	jobs = g_slist_append (jobs, job);

	if (flags & FEED_REQ_PRIORITY_HIGH) {
		g_async_queue_push (pendingHighPrioJobs, (gpointer)job);
	} else {
		g_async_queue_push (pendingJobs, (gpointer)job);
	}

	g_idle_add (update_dequeue_job, NULL);
	return job;
}
