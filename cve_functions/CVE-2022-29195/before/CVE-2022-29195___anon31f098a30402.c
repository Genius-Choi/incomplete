        lock, [index, this]() { return index < this->buf_.size(); });
