        {
            length = saveLength;
            ClearSegmentMap(); // Dump the segmentMap again in case user compare function rebuilds it
            if (hasException)
            {
                head = startSeg;
                this->InvalidateLastUsedSegment();
            }
        });
