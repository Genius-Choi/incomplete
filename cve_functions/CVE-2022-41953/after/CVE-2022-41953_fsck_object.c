int fsck_object(struct object *obj, void *data, unsigned long size,
	struct fsck_options *options)
{
	if (!obj)
		return report(options, NULL, OBJ_NONE, FSCK_MSG_BAD_OBJECT_SHA1, "no valid object to fsck");

	if (obj->type == OBJ_BLOB)
		return fsck_blob(&obj->oid, data, size, options);
	if (obj->type == OBJ_TREE)
		return fsck_tree(&obj->oid, data, size, options);
	if (obj->type == OBJ_COMMIT)
		return fsck_commit(&obj->oid, data, size, options);
	if (obj->type == OBJ_TAG)
		return fsck_tag(&obj->oid, data, size, options);

	return report(options, &obj->oid, obj->type,
		      FSCK_MSG_UNKNOWN_TYPE,
		      "unknown type '%d' (internal fsck error)",
		      obj->type);
}
