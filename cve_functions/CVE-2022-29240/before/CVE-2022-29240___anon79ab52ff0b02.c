        auto stop_trace = defer([&] {
            tracing::stop_foreground(trace_state);
        });
