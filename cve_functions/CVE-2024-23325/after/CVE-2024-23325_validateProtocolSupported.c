absl::Status Ipv6Instance::validateProtocolSupported() {
  static const bool supported = SocketInterfaceSingleton::get().ipFamilySupported(AF_INET6);
  if (supported && !force_ipv6_unsupported_for_test) {
    return absl::OkStatus();
  }
  return absl::FailedPreconditionError("IPv6 addresses are not supported on this machine");
}
