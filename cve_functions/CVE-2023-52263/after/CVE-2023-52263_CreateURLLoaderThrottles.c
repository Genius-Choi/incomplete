BraveContentBrowserClient::CreateURLLoaderThrottles(
    const network::ResourceRequest& request,
    content::BrowserContext* browser_context,
    const content::WebContents::Getter& wc_getter,
    content::NavigationUIData* navigation_ui_data,
    int frame_tree_node_id) {
  auto result = ChromeContentBrowserClient::CreateURLLoaderThrottles(
      request, browser_context, wc_getter, navigation_ui_data,
      frame_tree_node_id);
  content::WebContents* contents = wc_getter.Run();

  if (contents) {
    const bool isMainFrame =
        request.resource_type ==
        static_cast<int>(blink::mojom::ResourceType::kMainFrame);

    // Speedreader
#if BUILDFLAG(ENABLE_SPEEDREADER)
    auto* tab_helper =
        speedreader::SpeedreaderTabHelper::FromWebContents(contents);
    auto* settings_map = HostContentSettingsMapFactory::GetForProfile(
        Profile::FromBrowserContext(browser_context));
    if (tab_helper && isMainFrame) {
      const bool check_disabled_sites =
          tab_helper->PageDistillState() ==
          speedreader::DistillState::kSpeedreaderModePending;
      auto* speedreader_service =
          speedreader::SpeedreaderServiceFactory::GetForProfile(
              Profile::FromBrowserContext(browser_context));
      std::unique_ptr<speedreader::SpeedReaderThrottle> throttle =
          speedreader::SpeedReaderThrottle::MaybeCreateThrottleFor(
              g_brave_browser_process->speedreader_rewriter_service(),
              speedreader_service, settings_map, tab_helper->GetWeakPtr(),
              request.url, check_disabled_sites,
              base::SingleThreadTaskRunner::GetCurrentDefault());
      if (throttle) {
        result.push_back(std::move(throttle));
      }
    }
#endif  // ENABLE_SPEEDREADER

    if (isMainFrame) {
      // De-AMP
      if (auto de_amp_throttle = de_amp::DeAmpThrottle::MaybeCreateThrottleFor(
              base::SingleThreadTaskRunner::GetCurrentDefault(), request,
              wc_getter)) {
        result.push_back(std::move(de_amp_throttle));
      }
    }

    if (auto google_sign_in_permission_throttle =
            google_sign_in_permission::GoogleSignInPermissionThrottle::
                MaybeCreateThrottleFor(request, wc_getter)) {
      result.push_back(std::move(google_sign_in_permission_throttle));
    }
  }

  return result;
}
