conn_param_free(conn_param *cparam)
{
	if (cparam == NULL) {
		return;
	}
	if (nni_atomic_dec_nv(&cparam->refcnt) != 0) {
		return;
	}
	log_trace("destroy conn param");
	nng_free(cparam->pro_name.body, cparam->pro_name.len);
	nng_free(cparam->clientid.body, cparam->clientid.len);
	nng_free(cparam->will_topic.body, cparam->will_topic.len);
	nng_free(cparam->will_msg.body, cparam->will_msg.len);
	nng_free(cparam->username.body, cparam->username.len);
	nng_free(cparam->password.body, cparam->password.len);

	property_free(cparam->properties);
	property_free(cparam->will_properties);


	nng_free(cparam, sizeof(struct conn_param));
	cparam = NULL;
}
