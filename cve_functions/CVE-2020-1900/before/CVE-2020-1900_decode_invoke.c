static bool decode_invoke(const String& s, ObjectData* obj, bool fatal,
                          CallCtx& ctx) {
  ctx.this_ = obj;
  ctx.cls = obj->getVMClass();
  ctx.dynamic = true;

  ctx.func = ctx.cls->lookupMethod(s.get());
  if (!ctx.func) {
    // Bail if this_ is non-null AND we could not find a method.
    o_invoke_failed(ctx.cls->name()->data(), s.data(), fatal);
    return false;
  }

  // Null out this_ for statically called methods
  if (ctx.func->isStaticInPrologue()) {
    ctx.this_ = nullptr;
  }
  return true;
}
