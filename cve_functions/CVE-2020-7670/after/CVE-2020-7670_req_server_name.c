req_server_name(agooReq r) {
    int		len;
    const char	*host;

    if (NULL == r) {
	rb_raise(rb_eArgError, "Request is no longer valid.");
    }
    if (NULL == (host = agoo_req_host(r, &len))) {
	return rb_str_new2("unknown");
    }
    return rb_str_new(host, len);
}
