unsubscribe_pub(agooPub pub) {
    if (NULL == pub->up) {
	agooUpgraded	up;

	for (up = agoo_server.up_list; NULL != up; up = up->next) {
	    agoo_upgraded_del_subject(up, pub->subject);
	}
    } else {
	agoo_upgraded_del_subject(pub->up, pub->subject);
    }
}
