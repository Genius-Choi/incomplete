agoo_server_publish(struct _agooPub *pub) {
    agooConLoop	loop;

    for (loop = agoo_server.con_loops; NULL != loop; loop = loop->next) {
	if (NULL == loop->next) {
	    agoo_queue_push(&loop->pub_queue, pub);
	} else {
	    agoo_queue_push(&loop->pub_queue, agoo_pub_dup(pub));
	}
    }
}
