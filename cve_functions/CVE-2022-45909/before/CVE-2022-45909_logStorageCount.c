    void SipDialogController::logStorageCount(bool bDetail)  {

        DR_LOG(bDetail ? log_info : log_debug) << "SipDialogController storage counts"  ;
        DR_LOG(bDetail ? log_info : log_debug) << "----------------------------------"  ;
        IIP_Log(m_invitesInProgress, bDetail);
        SD_Log(m_dialogs, bDetail);

        std::lock_guard<std::mutex> lock(m_mutex) ;
        DR_LOG(bDetail ? log_info : log_debug) << "m_mapTransactionId2Irq size:                                     " << m_mapTransactionId2Irq.size()  ;
        DR_LOG(bDetail ? log_info : log_debug) << "number of outgoing transactions held for timerD:                 " << m_timerDHandler.countTimerD()  ;
        DR_LOG(bDetail ? log_info : log_debug) << "number of outgoing transactions waiting for ACK from app:        " << m_timerDHandler.countPending()  ;
        m_pTQM->logQueueSizes() ;

        // stats
        if (theOneAndOnlyController->getStatsCollector().enabled()) {

            size_t nUas = 0, nUac = 0;
            size_t total = SD_Size(m_dialogs, nUac, nUas);
            STATS_GAUGE_SET_NOCHECK(STATS_GAUGE_STABLE_DIALOGS, nUas, {{"type", "inbound"}})
            STATS_GAUGE_SET_NOCHECK(STATS_GAUGE_STABLE_DIALOGS, nUac, {{"type", "outbound"}})
        }
    }
