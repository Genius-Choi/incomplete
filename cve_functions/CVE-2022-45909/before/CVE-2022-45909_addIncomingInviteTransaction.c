    void SipDialogController::addIncomingInviteTransaction( nta_leg_t* leg, nta_incoming_t* irq, sip_t const *sip, const string& transactionId, std::shared_ptr<SipDialog> dlg, const string& tag ) {
        const char* a_tag = nta_incoming_tag( irq, tag.length() == 0 ? NULL : tag.c_str()) ;
        nta_leg_tag( leg, a_tag ) ;
        dlg->setLocalTag( a_tag ) ;

        IIP_Insert(m_invitesInProgress, leg, irq, transactionId, dlg);

        this->bindIrq( irq ) ;
    }
