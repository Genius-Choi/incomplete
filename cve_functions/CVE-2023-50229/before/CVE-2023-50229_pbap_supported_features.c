static void *pbap_supported_features(struct obc_session *session)
{
	const void *data;
	uint16_t version;

	/* Version */
	data = obc_session_get_attribute(session, SDP_ATTR_PFILE_DESC_LIST);
	if (!data)
		return NULL;

	version = GPOINTER_TO_UINT(data);

	if (version < 0x0102)
		return NULL;

	/* Supported Feature Bits */
	data = obc_session_get_attribute(session,
					SDP_ATTR_PBAP_SUPPORTED_FEATURES);
	if (!data)
		return NULL;

	return g_obex_apparam_set_uint32(NULL, SUPPORTED_FEATURES_TAG,
						DOWNLOAD_FEATURE |
						BROWSE_FEATURE |
						DATABASEID_FEATURE |
						FOLDER_VERSION_FEATURE |
						VCARD_SELECTING_FEATURE |
						ENHANCED_CALLS_FEATURE |
						UCI_FEATURE |
						UID_FEATURE |
						REFERENCING_FEATURE |
						DEFAULT_IMAGE_FEATURE);
}
