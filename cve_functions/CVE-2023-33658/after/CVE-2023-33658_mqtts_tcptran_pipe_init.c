mqtts_tcptran_pipe_init(void *arg, nni_pipe *npipe)
{
	mqtts_tcptran_pipe *p = arg;
	nni_pipe_set_conn_param(npipe, p->cparam);

	p->npipe              = npipe;

	nni_lmq_init(&p->rslmq, 16);
	p->busy = false;
	p->packmax = 0xFFFF;
	p->qosmax  = 2;
	p->pingcnt = 0;
	nni_sleep_aio(p->keepalive, &p->tmaio);
	return (0);
}
