tlstran_ep_match(tlstran_ep *ep)
{
	nni_aio *     aio;
	tlstran_pipe *p;

	if (((aio = ep->useraio) == NULL) ||
	    ((p = nni_list_first(&ep->waitpipes)) == NULL)) {
		return;
	}
	nni_list_remove(&ep->waitpipes, p);
	nni_list_append(&ep->busypipes, p);
	ep->useraio = NULL;
	p->rcvmax   = ep->rcvmax;
	p->conf     = ep->conf;
	nni_aio_set_output(aio, 0, p);
	nni_aio_finish(aio, 0, 0);
}
