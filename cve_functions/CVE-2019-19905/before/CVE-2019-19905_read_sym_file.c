read_sym_file(which_set)
int which_set;
{
    FILE *fp;

    symset[which_set].explicitly = FALSE;
    if (!(fp = fopen_sym_file()))
        return 0;

    symset[which_set].explicitly = TRUE;
    symset_count = 0;
    chosen_symset_start = chosen_symset_end = FALSE;
    symset_which_set = which_set;

    config_error_init(TRUE, "symbols", FALSE);

    parse_conf_file(fp, proc_symset_line);
    (void) fclose(fp);

    if (!chosen_symset_start && !chosen_symset_end) {
        /* name caller put in symset[which_set].name was not found;
           if it looks like "Default symbols", null it out and return
           success to use the default; otherwise, return failure */
        if (symset[which_set].name
            && (fuzzymatch(symset[which_set].name, "Default symbols",
                           " -_", TRUE)
                || !strcmpi(symset[which_set].name, "default")))
            clear_symsetentry(which_set, TRUE);
        config_error_done();

        /* If name was defined, it was invalid... Then we're loading fallback */
        if (symset[which_set].name) {
            symset[which_set].explicitly = FALSE;
            return 0;
        }

        return 1;
    }
    if (!chosen_symset_end)
        config_error_add("Missing finish for symset \"%s\"",
                         symset[which_set].name ? symset[which_set].name
                                                : "unknown");
    config_error_done();
    return 1;
}
