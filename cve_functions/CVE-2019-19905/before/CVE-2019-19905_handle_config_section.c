handle_config_section(buf)
char *buf;
{
    if (is_config_section(buf)) {
        char *send;
        if (config_section_current) {
            free(config_section_current);
        }
        config_section_current = dupstr(&buf[1]);
        send = rindex(config_section_current, ']');
        *send = '\0';
        debugpline1("set config section: '%s'", config_section_current);
        return TRUE;
    }

    if (config_section_current) {
        if (!config_section_chosen)
            return TRUE;
        if (strcmp(config_section_current, config_section_chosen))
            return TRUE;
    }
    return FALSE;
}
