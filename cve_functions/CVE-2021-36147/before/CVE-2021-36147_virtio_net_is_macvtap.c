virtio_net_is_macvtap(char *devname, int *ifindex)
{
	char tempbuf[IFNAMSIZ];
	int rc;
	int ifidx;

	ifidx = virtio_net_get_ifindex(devname);
	if (ifidx < 0)
		return false;

	/*check if the char device exists*/
	rc = snprintf(tempbuf, IFNAMSIZ, "/dev/tap%d", ifidx);
	if (rc < 0 || rc >= IFNAMSIZ) {
		WPRINTF(("Failed to check interface name %s\n", tempbuf));
		return false;
	}

	if (access(tempbuf, F_OK) != 0)
		return false;

	*ifindex = ifidx;
	return true;
}
