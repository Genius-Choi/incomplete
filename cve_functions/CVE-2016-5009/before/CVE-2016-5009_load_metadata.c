int Monitor::load_metadata(map<int, Metadata>& metadata)
{
  bufferlist bl;
  int r = store->get(MONITOR_STORE_PREFIX, "last_metadata", bl);
  if (r)
    return r;
  bufferlist::iterator it = bl.begin();
  ::decode(metadata, it);
  return 0;
}
