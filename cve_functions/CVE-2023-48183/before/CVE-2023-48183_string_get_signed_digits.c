static int string_get_signed_digits(JSString *sp, int *pp, int64_t *pval) {
    int res, sgn, p = *pp;
    
    if (p >= sp->len)
        return -1;

    sgn = string_get(sp, p);
    if (sgn == '-' || sgn == '+')
        p++;
 
    res = string_get_digits(sp, &p, pval);
    if (res == 0 && sgn == '-') {
        if (*pval == 0)
            return -1; // reject negative zero
        *pval = -*pval;
    }
    *pp = p;
    return res;
}
