int fdt_node_depth(const void *fdt, int nodeoffset)
{
	int nodedepth;
	int err;

	err = fdt_supernode_atdepth_offset(fdt, nodeoffset, 0, &nodedepth);
	if (err)
		return (!fdt_chk_extra() || err < 0) ? err : -FDT_ERR_INTERNAL;
	return nodedepth;
}
