int IniSection::getMyValue (const YCPPath &p, YCPValue &out, int what, int depth)
{
    string k = ip->changeCase (p->component_str (depth));
    // Find all values and return them according to repeat_names
    YCPList results;
    bool found = false;
    pair <IniEntryIdxIterator, IniEntryIdxIterator> r =
	ivalues.equal_range (k);
    IniEntryIdxIterator xi = r.first, xe = r.second;
    for (; xi != xe; ++xi)
    {
	found = true;
	IniEntry& e = xi->second-> e ();
	switch (what)
	{
	    case 0:  out = YCPString (e.getValue ());  break;
	    case 1:  out = YCPString (e.getComment()); break;
	    default: out = YCPInteger(e.getReadBy ()); break;
	}
	results->add (out);
    }

    if (ip->repeatNames ())
    {
	out = results;
	return 0;
    }
    else if (found)
    {
	// nonempty range, the cycle ran once, out has the right value
	return 0;
    }
    // empty range, no such key

    y2debug ("Read: Invalid path %s [%d]", p->toString ().c_str(), depth);
    return -1;
}
