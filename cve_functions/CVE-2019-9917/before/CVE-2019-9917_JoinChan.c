bool CIRCNetwork::JoinChan(CChan* pChan) {
    bool bReturn = false;
    NETWORKMODULECALL(OnJoining(*pChan), m_pUser, this, nullptr, &bReturn);

    if (bReturn) return false;

    if (m_pUser->JoinTries() != 0 &&
        pChan->GetJoinTries() >= m_pUser->JoinTries()) {
        PutStatus(t_f("The channel {1} could not be joined, disabling it.")(
            pChan->GetName()));
        pChan->Disable();
    } else {
        pChan->IncJoinTries();
        bool bFailed = false;
        NETWORKMODULECALL(OnTimerAutoJoin(*pChan), m_pUser, this, nullptr,
                          &bFailed);
        if (bFailed) return false;
        return true;
    }
    return false;
}
