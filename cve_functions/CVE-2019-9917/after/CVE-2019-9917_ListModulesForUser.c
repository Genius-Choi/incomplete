    void ListModulesForUser(const CString& sLine) {
        CString sUsername = sLine.Token(1);

        if (sUsername.empty()) {
            PutModule("Usage: ListMods <username>");
            return;
        }

        CUser* pUser = FindUser(sUsername);
        if (!pUser) return;

        if (pUser->GetModules().empty()) {
            PutModule(
                t_f("User {1} has no modules loaded.")(pUser->GetUserName()));
            return;
        }

        PutModule(t_f("Modules loaded for user {1}:")(pUser->GetUserName()));
        ListModulesFor(pUser->GetModules());
    }
