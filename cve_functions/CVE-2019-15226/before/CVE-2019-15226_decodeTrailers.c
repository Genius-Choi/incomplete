void Filter::UpstreamRequest::decodeTrailers(Http::HeaderMapPtr&& trailers) {
  ScopeTrackerScopeState scope(&parent_.callbacks_->scope(), parent_.callbacks_->dispatcher());

  maybeEndDecode(true);
  if (!parent_.config_.upstream_logs_.empty()) {
    upstream_trailers_ = std::make_unique<Http::HeaderMapImpl>(*trailers);
  }
  parent_.onUpstreamTrailers(std::move(trailers), *this);
}
