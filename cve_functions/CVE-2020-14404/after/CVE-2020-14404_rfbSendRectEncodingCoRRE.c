rfbSendRectEncodingCoRRE(rfbClientPtr cl,
                         int x,
                         int y,
                         int w,
                         int h)
{
    if (h > cl->correMaxHeight) {
        return (rfbSendRectEncodingCoRRE(cl, x, y, w, cl->correMaxHeight) &&
		rfbSendRectEncodingCoRRE(cl, x, y + cl->correMaxHeight, w,
					 h - cl->correMaxHeight));
    }

    if (w > cl->correMaxWidth) {
        return (rfbSendRectEncodingCoRRE(cl, x, y, cl->correMaxWidth, h) &&
		rfbSendRectEncodingCoRRE(cl, x + cl->correMaxWidth, y,
					 w - cl->correMaxWidth, h));
    }

    rfbSendSmallRectEncodingCoRRE(cl, x, y, w, h);
    return TRUE;
}
