std::optional<std::filesystem::path> cachedDownload(const std::string &url) {
  auto downloadsPath = cacheDir() / "downloadCache";
  if (!std::filesystem::exists(downloadsPath)) {
    std::filesystem::create_directories(downloadsPath);
  }
  auto key = hash(url) + ".cached";
  auto cachedFile = downloadsPath / key;
  if (std::filesystem::exists(cachedFile)) {
    return cachedFile;
  }
  if (downloadFile(url, cachedFile)) {
    return cachedFile;
  }
  return std::nullopt;
}
