static Jsi_RC SysGetUserCmd(Jsi_Interp *interp, Jsi_Value *args, Jsi_Value *_this,
                        Jsi_Value **ret, Jsi_Func *funcPtr)
{
    char buf[JSI_BUFSIZ];
    const char* name, *cname;
#ifdef __WIN32
    cname = name = getenv("USERNAME");
#else
    char tbuf[L_cuserid] = {}, cbuf[L_cuserid] = {};
    cname = cuserid(cbuf);
    getlogin_r(tbuf, sizeof(tbuf));
    name = tbuf;
#endif
    if (!cname) cname = "";
    if (!name || !name[0]) name = cname;
    snprintf(buf, sizeof(buf),
        "{uid:%d, gid:%d, uid:%d, guid:%d, pid:%d, pidp:%d, user:\"%s\", cuserid:\"%s\"}",
#ifdef __WIN32
        0, 0, 0, 0, 0, 0, name, name);
#else
        (int)getuid(), (int)getgid(), (int)geteuid(), getpid(), getppid(), (int)getegid(), name, cname);
#endif
    return Jsi_JSONParse(interp, buf, ret, 0);
}
