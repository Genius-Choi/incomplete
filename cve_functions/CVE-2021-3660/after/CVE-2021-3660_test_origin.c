test_origin (TestCase *tc,
             gconstpointer data)
{
  const TestFixture *fixture = data;
  GBytes *content;

  if (fixture->for_tls_proxy)
    g_assert_cmpstr (cockpit_web_response_get_origin (tc->response), ==, "https://somemachine");
  else
    g_assert_cmpstr (cockpit_web_response_get_origin (tc->response), ==, "http://somemachine");

  content = g_bytes_new_static ("the content", 11);
  cockpit_web_response_content (tc->response, NULL, content, NULL);
  g_bytes_unref (content);
  output_as_string (tc);
}
