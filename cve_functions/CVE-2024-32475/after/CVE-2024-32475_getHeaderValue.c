int64_t getHeaderValue(const Http::ResponseHeaderMap& headers, absl::string_view name) {
  EXPECT_FALSE(headers.get(Http::LowerCaseString(name)).empty()) << "Missing " << name;
  int64_t val;
  if (!headers.get(Http::LowerCaseString(name)).empty() &&
      absl::SimpleAtoi(headers.get(Http::LowerCaseString(name))[0]->value().getStringView(),
                       &val)) {
    return val;
  }
  return 0;
}
