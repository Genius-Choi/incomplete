static void add_filtered_history(const char *string)
{
  if (!check_histignore(string))
  {
#ifdef HAVE_READLINE
    if (not_in_history(string))
      add_history(string);
#endif
    if (opt_syslog)
      add_syslog(string);
  }
}
