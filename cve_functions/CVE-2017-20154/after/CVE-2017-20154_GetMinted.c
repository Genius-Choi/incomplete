int64 CWallet::GetMinted(uint nSettings) const {
    int64 nTotal = 0;
    LOCK(cs_wallet);
    for(map<uint256, CWalletTx>::const_iterator it = mapWallet.begin(); it != mapWallet.end(); ++it) {
        const CWalletTx* pcoin = &(*it).second;
        if(((nSettings & 0x1) && pcoin->IsCoinBase())) {
            int nDepth = pcoin->GetDepthInMainChain();
            if(nDepth > 0) {
                if(((nSettings & 0x4) && (nDepth < nBaseMaturity)) || !(nSettings & 0x4)) {
                    /* PoW base transactions have zero debit */                
                      nTotal += CWallet::GetCredit(*pcoin);
                }
            }
        }
    }
    return(nTotal);
}
