static void calc_bw_exp(uint32_t bps, uint8_t bits, rtcp_tmmbx_t *tmmbx)
{
	uint32_t mantissa_max, i = 0;
	uint8_t exp = 0;
	uint32_t mantissa = 0;
	uint16_t overhead = 60;

	switch_assert(bits<=32);

	mantissa_max = (1 << bits) - 1;

	for (i = 0; i < 32; ++i) {
		if (bps <= (mantissa_max << i)) {
			exp = i;
			break;
		}
	}

	mantissa = (bps >> exp);

	tmmbx->parts[0] = (uint8_t) ((exp << 2) + ((mantissa >> 15) & 0x03));
	tmmbx->parts[1] = (uint8_t) (mantissa >> 7);
	tmmbx->parts[2] = (uint8_t) ((mantissa >> 1) + ((overhead >> 8) & 0x01));
	tmmbx->parts[3] = (uint8_t) (overhead);
}
