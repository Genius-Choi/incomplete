mmsClient_createFileReadRequest(uint32_t invokeId, ByteBuffer* request, int32_t frsmId)
{
    uint32_t invokeIdSize = BerEncoder_UInt32determineEncodedSize(invokeId);

    uint8_t frsmIdBuf[5];
    Asn1PrimitiveValue frsmIdBer;
    frsmIdBer.octets = frsmIdBuf;
    frsmIdBer.maxSize = 5;
    frsmIdBer.size = 0;

    BerInteger_setInt32(&frsmIdBer, frsmId);

    uint32_t frsmIdSize = frsmIdBer.size;

    uint32_t confirmedRequestPduSize = 1 + 2 + 2  + invokeIdSize + frsmIdSize;

    int bufPos = 0;
    uint8_t* buffer = request->buffer;

    bufPos = BerEncoder_encodeTL(0xa0, confirmedRequestPduSize, buffer, bufPos);
    bufPos = BerEncoder_encodeTL(0x02, invokeIdSize, buffer, bufPos);
    bufPos = BerEncoder_encodeUInt32(invokeId, buffer, bufPos);

    /* Encode FileRead tag (context | primitive ) [73 = 49h] */
    buffer[bufPos++] = 0x9f;
    bufPos = BerEncoder_encodeOctetString(0x49, frsmIdBer.octets, frsmIdBer.size, buffer, bufPos);

    request->size = bufPos;
}
