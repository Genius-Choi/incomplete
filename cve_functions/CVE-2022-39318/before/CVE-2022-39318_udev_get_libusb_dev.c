static LIBUSB_DEVICE* udev_get_libusb_dev(libusb_context* context, uint8_t bus_number,
                                          uint8_t dev_number)
{
	ssize_t i, total_device;
	LIBUSB_DEVICE** libusb_list;
	LIBUSB_DEVICE* device = NULL;
	total_device = libusb_get_device_list(context, &libusb_list);

	for (i = 0; i < total_device; i++)
	{
		LIBUSB_DEVICE* dev = libusb_list[i];
		if ((bus_number == libusb_get_bus_number(dev)) &&
		    (dev_number == libusb_get_device_address(dev)))
		{
			device = dev;
		}
		else
		{
			libusb_unref_device(dev);
		}
	}

	libusb_free_device_list(libusb_list, 0);
	return device;
}
