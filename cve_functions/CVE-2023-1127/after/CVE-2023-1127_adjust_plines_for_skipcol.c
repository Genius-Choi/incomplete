adjust_plines_for_skipcol(win_T *wp, int n)
{
    if (wp->w_skipcol == 0)
	return n;

    int off = 0;
    int width = wp->w_width - win_col_off(wp);
    if (wp->w_skipcol >= width)
    {
	++off;
	int skip = wp->w_skipcol - width;
	width += win_col_off2(wp);
	while (skip >= width)
	{
	    ++off;
	    skip -= width;
	}
    }
    wp->w_valid &= ~VALID_WROW;
    return n - off;
}
