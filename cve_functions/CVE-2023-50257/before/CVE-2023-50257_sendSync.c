void RTPSParticipantImpl::sendSync(CDRMessage_t* msg, Endpoint *pend, const Locator_t& destination_loc)
{
    boost::lock_guard<boost::mutex> guard(m_send_resources_mutex);
    for (auto it = m_senderResource.begin(); it != m_senderResource.end(); ++it)
    {
        bool sendThroughResource = false;
        for (auto sit = pend->m_att.outLocatorList.begin(); sit != pend->m_att.outLocatorList.end(); ++sit)
        {
            if ((*it).SupportsLocator((*sit)))
            {
                sendThroughResource = true;
                break;
            }
        }

        if (sendThroughResource)
            (*it).Send(msg->buffer, msg->length, destination_loc);
    }
}
