static int dialog_can_create_request(belle_sip_dialog_t *obj, const char *method){
	if (obj->state != BELLE_SIP_DIALOG_CONFIRMED && obj->state != BELLE_SIP_DIALOG_EARLY
		&& (strcmp("NOTIFY", method) != 0
			|| !obj->is_server
			|| !obj->last_transaction
			|| strcmp("SUBSCRIBE", belle_sip_transaction_get_method(obj->last_transaction)) !=0)) {
		belle_sip_error("belle_sip_dialog_create_request(): cannot create [%s] request from dialog [%p] in state [%s]",method,obj,belle_sip_dialog_state_to_string(obj->state));
		return FALSE;
	}
	return TRUE;
}
