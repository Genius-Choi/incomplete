MOBIFiletype mobi_determine_font_type(const unsigned char *font_data, const size_t font_size) {
    const char otf_magic[] = "OTTO";
    const char ttf_magic[] = "\0\1\0\0";
    const char ttf2_magic[] = "true";

    if (font_size >= 4) {
        if (memcmp(font_data, otf_magic, 4) == 0) {
            return T_OTF;
        }
        if (memcmp(font_data, ttf_magic, 4) == 0) {
            return T_TTF;
        }
        if (memcmp(font_data, ttf2_magic, 4) == 0) {
            return T_TTF;
        }
    }
    debug_print("Unknown font resource type%s", "\n");
    return T_UNKNOWN;
}
