MOBI_RET mobi_delete_exthrecord_by_tag(MOBIData *m, const MOBIExthTag tag) {
    size_t count = 2;
    while (m && count--) {
        if (m->eh == NULL) {
            debug_print("%s", "No exth records\n");
            return MOBI_SUCCESS;
        }
        MOBIExthHeader *curr = m->eh;
        while (curr) {
            if (curr->tag == tag) {
                curr = mobi_delete_exthrecord(m, curr);
            } else {
                curr = curr->next;
            }
        }
        m = m->next;
    }
    return MOBI_SUCCESS;
}
