static OperationStatus exponentiatePowerOf2(
    MutableBigIntRef dst,
    uint32_t exponent) {
  const uint32_t numDigitsResult = 1 + (exponent / BigIntDigitSizeInBits);
  const uint32_t numDigits = 1 + numDigitsResult;
  const uint32_t bitToSet = exponent % BigIntDigitSizeInBits;

  if (BigIntMaxSizeInDigits < numDigits) {
    return OperationStatus::TOO_MANY_DIGITS;
  }

  if (dst.numDigits < numDigits) {
    return OperationStatus::DEST_TOO_SMALL;
  }
  dst.numDigits = numDigits;

  // dummyDigit is used for creating a temporary 0n that is used to initialize
  // dst -- i.e., zero-initialize all elements in dst.
  BigIntDigitType dummyDigit[1];
  ImmutableBigIntRef zero{dummyDigit, 0};
  auto res = initNonCanonicalWithReadOnlyBigInt(dst, zero);
  if (LLVM_UNLIKELY(res != OperationStatus::RETURNED)) {
    return res;
  }
  // then set the only bit in result.
  dst.digits[numDigitsResult - 1] = 1ull << bitToSet;
  return OperationStatus::RETURNED;
}
