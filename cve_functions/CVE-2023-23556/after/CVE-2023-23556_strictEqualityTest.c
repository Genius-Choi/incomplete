bool strictEqualityTest(HermesValue x, HermesValue y) {
  // Numbers are special because they can have different tags and they don't
  // obey bit-exact equality (because of NaN).
  if (x.isNumber())
    return y.isNumber() && x.getNumber() == y.getNumber();
  // If they are not numbers and are bit exact, they must be the same.
  if (x.getRaw() == y.getRaw())
    return true;
  // All the rest of the cases need to have the same tags.
  if (x.getTag() != y.getTag())
    return false;
  // Strings need deep comparison.
  if (x.isString())
    return x.getString()->equals(y.getString());

  // The only remaining case is bigint, which also needs a deep comparison.
  return x.isBigInt() && x.getBigInt()->compare(y.getBigInt()) == 0;
}
