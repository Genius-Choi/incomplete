uint32_t asIntNResultSize(uint64_t n, ImmutableBigIntRef src) {
  static_assert(
      BigIntMaxSizeInDigits < std::numeric_limits<uint32_t>::max(),
      "uint32_t is not large enough to represent max bigint digits.");

  // The result size for asIntN is limited to src.numDigits. Moreover, there's
  // no need to account for a sign bit due to the two's complement
  // representation.
  const uint64_t numDigitsN = numDigitsForSizeInBits(n);

  return std::min<uint64_t>(src.numDigits, numDigitsN);
}
