static Array * arrayFromSet(struct mailimap_set * imap_set)
{
    Array * result;
    clistiter * iter;
    
    result = Array::array();
    for(iter = clist_begin(imap_set->set_list) ; iter != NULL ; iter = clist_next(iter)) {
        struct mailimap_set_item * item;
        unsigned long i;
        
        item = (struct mailimap_set_item *) clist_content(iter);
        for(i = item->set_first ; i <= item->set_last ; i ++) {
            Value * nb;
            
            nb = Value::valueWithUnsignedLongValue(i);
            result->addObject(nb);
        }
    }
    
    return result;
}
