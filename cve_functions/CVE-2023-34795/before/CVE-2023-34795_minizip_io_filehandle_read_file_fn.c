uLong ZCALLBACK minizip_io_filehandle_read_file_fn (voidpf opaque, voidpf stream, void* buf, uLong size)
{
  IOSIZETYPE len;
  if (!opaque || !stream || !buf || size == 0)
    return 0;
  if ((len = IOFN(read)(*(int*)stream, buf, size)) < 0)
    return 0;
  return len;
}
