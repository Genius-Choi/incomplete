int ss_on_message_complete(http_parser *p) {
    Request *req = (Request *) p->data;
    std::string ct_header = req->get_header("Content-Type");
    // parse body params
    if (ct_header == "application/x-www-form-urlencoded") {
        std::string *raw_str = req->get_body()->get_raw_string();
        if (raw_str->size()) {
            req->get_body()->get_req_params()->parse_query_url(*raw_str);
        }
    }
    int parse_ret = 0;
    if (ct_header.find("multipart/form-data") != std::string::npos) {
        LOG_DEBUG("start parse multipart data! content type:%s", ct_header.c_str());
        parse_ret = ss_parse_multipart_data(req);
        if (parse_ret != 0) {
            req->_parse_err = PARSE_MULTIPART_ERR;
        }
    }
    req->_parse_part = PARSE_REQ_OVER;
    LOG_DEBUG("msg COMPLETE! parse_err:%d", req->_parse_err);
    return parse_ret;
}
