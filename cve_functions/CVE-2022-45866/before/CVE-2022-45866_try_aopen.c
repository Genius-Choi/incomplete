void try_aopen(const char *file, char mode)
{
    if(mode == 'w')
    {
        if (!aopen_write(file))
            abort("Error creating destination file '%s' - aborted", file);
    }
    else
    {
        if (!aopen_read(file))
            abort("Error opening source file '%s' - aborted", file);
    }
}
