FindListeningPortNumber(const HttpRequest *callerRequest, const AccessLogEntry *ale)
{
    const auto ip = FindGoodListeningPortAddress(callerRequest, ale, [](const Ip::Address &address) {
        return address.port() > 0;
    });
    return ip ? ip->port() : 0;
}
