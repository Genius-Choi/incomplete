static void mf_restart_handler(struct iflow *iflow,
			       bool force_cbr,
			       void *arg)
{
	struct ecall *ecall = arg;

	assert(ECALL_MAGIC == ecall->magic);

	if (iflow != ecall->flow) {
		info("ecall(%p): ignoring %s on wrong flow\n", ecall, __FUNCTION__);
		return;
	}
	if (ECONN_ANSWERED == econn_current_state(ecall->econn) && force_cbr) {
		info("ecall(%p): mf_restart_handler: triggering restart due to CBR request\n",
			ecall);
		ecall->audio_cbr = true;
		ecall->delayed_restart = true;
	}
	if (ECONN_DATACHAN_ESTABLISHED == econn_current_state(ecall->econn)) {
		info("ecall(%p): mf_restart_handler: triggering restart due to network drop\n",
			ecall);
		ecall_restart(ecall, ecall->call_type);
	}
}
