void wcall_i_set_video_send_state(struct wcall *wcall, int state)
{
	char convid_anon[ANON_ID_LEN];
	enum icall_vstate vstate;

	if (!wcall)
		return;

	if (!wcall->inst)
		return;

	info(APITAG "wcall(%p): set_video_send_state convid=%s vstate=%s "
	     "state=%s\n",
	     wcall, anon_id(convid_anon, wcall->convid),
	     wcall_vstate_name(state),
	     wcall_state_name(wcall->state));

	switch (state) {
	case WCALL_VIDEO_STATE_BAD_CONN:
		/* not set from UI, ignore */
		return;
	case WCALL_VIDEO_STATE_STARTED:
		vstate = ICALL_VIDEO_STATE_STARTED;
		break;
	case WCALL_VIDEO_STATE_SCREENSHARE:
		vstate = ICALL_VIDEO_STATE_SCREENSHARE;
		break;
	case WCALL_VIDEO_STATE_PAUSED:
		vstate = ICALL_VIDEO_STATE_PAUSED;
		break;
	case WCALL_VIDEO_STATE_STOPPED:
	default:
		vstate = ICALL_VIDEO_STATE_STOPPED;
		break;
	}

	if (wcall->icall) {
		ICALL_CALL(wcall->icall,
			   set_video_send_state,
			   vstate);
	}

	if (wcall->state == WCALL_STATE_MEDIA_ESTAB) {
		mediamgr_set_call_state(wcall->inst->mm,
					(state == WCALL_VIDEO_STATE_STARTED)
					        ? MEDIAMGR_STATE_INVIDEOCALL
					        : MEDIAMGR_STATE_INCALL);
	}
}
