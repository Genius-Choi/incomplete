void wcall_set_log_handler(wcall_log_h *logh, void *arg)
{
	struct log_entry *loge;
		
	loge = mem_zalloc(sizeof(*loge), NULL);
	if (!loge)
		return;

	log_enable_stderr(false);
	
	loge->logh = logh;
	loge->arg = arg;

	loge->logger.h = wcall_log_handler;
	loge->logger.arg = loge;

	log_register_handler(&loge->logger);

	lock_write_get(calling.lock);
	list_append(&calling.logl, &loge->le, loge);
	lock_rel(calling.lock);
}
