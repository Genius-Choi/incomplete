NOEXPORT void signal_handler(int sig) {
    int saved_errno;

    saved_errno=errno;
    signal_post((uint8_t)sig);
    signal(sig, signal_handler);
    errno=saved_errno;
}
