advance_resize_state_machine(struct xrdp_mm *mm,
                             enum display_resize_state new_state)
{
    struct display_control_monitor_layout_data *description = mm->resize_data;
    LOG_DEVEL(LOG_LEVEL_INFO,
              "advance_resize_state_machine:"
              " Processing resize to: %d x %d."
              " Advancing state from %s to %s."
              " Previous state took %d MS.",
              description->description.session_width,
              description->description.session_height,
              XRDP_DISPLAY_RESIZE_STATE_TO_STR(description->state),
              XRDP_DISPLAY_RESIZE_STATE_TO_STR(new_state),
              g_time3() - description->last_state_update_timestamp);
    description->state = new_state;
    description->last_state_update_timestamp = g_time3();
    g_set_wait_obj(mm->resize_ready);
    return 0;
}
