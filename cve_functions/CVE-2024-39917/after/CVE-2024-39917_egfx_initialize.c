egfx_initialize(struct xrdp_mm *self)
{
    LOG_DEVEL(LOG_LEVEL_TRACE, "egfx_initialize");
    if (!(self->wm->client_info->gfx))
    {
        return 0;
    }
    LOG_DEVEL(LOG_LEVEL_INFO, "egfx_initialize: gfx capable client");
    if (xrdp_egfx_create(self, &(self->egfx)) == 0)
    {
        self->egfx->user = self;
        self->egfx->caps_advertise = xrdp_mm_egfx_caps_advertise;
        self->egfx->frame_ack = xrdp_mm_egfx_frame_ack;
        return 0;
    }
    LOG_DEVEL(LOG_LEVEL_INFO, "egfx_initialize: xrdp_egfx_create failed");
    return 1;
}
