public char * homefile(constant char *filename)
{
	char *pathname;

	/* Try $HOME/filename. */
	pathname = dirfile(lgetenv("HOME"), filename, 1);
	if (pathname != NULL)
		return (pathname);
#if OS2
	/* Try $INIT/filename. */
	pathname = dirfile(lgetenv("INIT"), filename, 1);
	if (pathname != NULL)
		return (pathname);
#endif
#if MSDOS_COMPILER || OS2
	/* Look for the file anywhere on search path. */
	pathname = (char *) ecalloc(_MAX_PATH, sizeof(char));
#if MSDOS_COMPILER==DJGPPC
	{
		char *res = searchpath(filename);
		if (res == 0)
			*pathname = '\0';
		else
			strcpy(pathname, res);
	}
#else
	_searchenv(filename, "PATH", pathname);
#endif
	if (*pathname != '\0')
		return (pathname);
	free(pathname);
#endif
	return (NULL);
}
