public lbool is_dir(constant char *filename)
{
	lbool isdir = FALSE;

#if HAVE_STAT
{
	int r;
	less_stat_t statbuf;

	r = less_stat(filename, &statbuf);
	isdir = (r >= 0 && S_ISDIR(statbuf.st_mode));
}
#else
#ifdef _OSK
{
	int f;

	f = open(filename, S_IREAD | S_IFDIR);
	if (f >= 0)
		close(f);
	isdir = (f >= 0);
}
#endif
#endif
	return (isdir);
}
