set_gpass_option(struct mg_context *phys_ctx, struct mg_domain_context *dom_ctx)
{
	if (phys_ctx) {
		struct mg_file file = STRUCT_FILE_INITIALIZER;
		const char *path;
		if (!dom_ctx) {
			dom_ctx = &(phys_ctx->dd);
		}
		path = dom_ctx->config[GLOBAL_PASSWORDS_FILE];
		if ((path != NULL) && !mg_stat(fc(phys_ctx), path, &file.stat)) {
			mg_cry_internal(fc(phys_ctx),
			                "Cannot open %s: %s",
			                path,
			                strerror(ERRNO));
			return 0;
		}
		return 1;
	}
	return 0;
}
