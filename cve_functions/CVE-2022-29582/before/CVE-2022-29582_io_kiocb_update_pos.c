static inline loff_t *io_kiocb_update_pos(struct io_kiocb *req)
{
	struct kiocb *kiocb = &req->rw.kiocb;
	bool is_stream = req->file->f_mode & FMODE_STREAM;

	if (kiocb->ki_pos == -1) {
		if (!is_stream) {
			req->flags |= REQ_F_CUR_POS;
			kiocb->ki_pos = req->file->f_pos;
			return &kiocb->ki_pos;
		} else {
			kiocb->ki_pos = 0;
			return NULL;
		}
	}
	return is_stream ? NULL : &kiocb->ki_pos;
}
