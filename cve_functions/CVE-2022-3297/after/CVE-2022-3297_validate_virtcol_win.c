validate_virtcol_win(win_T *wp)
{
    check_cursor_moved(wp);
    if (!(wp->w_valid & VALID_VIRTCOL))
    {
#ifdef FEAT_PROP_POPUP
	wp->w_virtcol_first_char = 0;
#endif
	getvvcol(wp, &wp->w_cursor, NULL, &(wp->w_virtcol), NULL);
#ifdef FEAT_SYN_HL
	redraw_for_cursorcolumn(wp);
#endif
	wp->w_valid |= VALID_VIRTCOL;
    }
}
