bool LibzipPlugin::deleteEntry(int index, zip_t *archive)
{
    // 事件循环
    if (QThread::currentThread()->isInterruptionRequested()) {
        if (zip_close(archive)) {
            // 发送保存失败
            emit error(("Failed to write archive."));
            m_eErrorType = ET_FileWriteError;
            return false;
        }
        return false;
    }

    int statusDel = zip_delete(archive, zip_uint64_t(index));   // 获取删除状态
    if (-1 == statusDel) {
        // 删除失败
        emit error(("Failed to delete entry: %1"));
        m_eErrorType = ET_DeleteError;
        return false;
    }

    return true;
}
