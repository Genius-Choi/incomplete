void ServerFeature::collectOptions(std::shared_ptr<ProgramOptions> options) {
  options->addOption("--console", "start a JavaScript emergency console",
                     new BooleanParameter(&_console));

  options->addSection("server", "server features");

  options->addOption("--server.rest-server", "start a rest-server",
                     new BooleanParameter(&_restServer),
                     arangodb::options::makeDefaultFlags(arangodb::options::Flags::Hidden));
  
  options->addOption("--server.validate-utf8-strings", "perform UTF-8 string validation for incoming JSON and VelocyPack data",
                     new BooleanParameter(&_validateUtf8Strings),
                     arangodb::options::makeDefaultFlags(arangodb::options::Flags::Hidden)).setIntroducedIn(30700);

  options->addOption("--javascript.script", "run scripts and exit",
                     new VectorParameter<StringParameter>(&_scripts));

#if _WIN32
  options->addOption("--console.code-page",
                     "Windows code page to use; defaults to UTF8",
                     new UInt16Parameter(&_codePage),
                     arangodb::options::makeDefaultFlags(arangodb::options::Flags::Hidden));
#endif

  // add several obsoleted options here
  options->addSection("vst", "VelocyStream protocol", "", true, true);
  options->addObsoleteOption("--vst.maxsize", "maximal size (in bytes) "
                             "for a VelocyPack chunk", true);
  
  options->addObsoleteOption(
      "--server.session-timeout",
      "timeout of web interface server sessions (in seconds)", true);

  // add obsolete MMFiles WAL options (obsoleted in 3.7)
  options->addSection("wal", "WAL of the MMFiles engine", "", true, true);
  options->addObsoleteOption("--wal.allow-oversize-entries",
                             "allow entries that are bigger than '--wal.logfile-size'", false);
  options->addObsoleteOption("--wal.use-mlock",
                             "mlock WAL logfiles in memory (may require elevated privileges or limits)", false);
  options->addObsoleteOption("--wal.directory", "logfile directory", true);
  options->addObsoleteOption("--wal.historic-logfiles", "maximum number of historic logfiles to keep after collection", true);
  options->addObsoleteOption("--wal.ignore-logfile-errors", 
                             "ignore logfile errors. this will read recoverable data from corrupted logfiles but ignore any unrecoverable data", false);
  options->addObsoleteOption("--wal.ignore-recovery-errors", "continue recovery even if re-applying operations fails", false);
  options->addObsoleteOption("--wal.flush-timeout", "flush timeout (in milliseconds)", true);
  options->addObsoleteOption("--wal.logfile-size", "size of each logfile (in bytes)", true);
  options->addObsoleteOption("--wal.open-logfiles", "maximum number of parallel open logfiles", true);
  options->addObsoleteOption("--wal.reserve-logfiles", "maximum number of reserve logfiles to maintain", true);
  options->addObsoleteOption("--wal.slots", "number of logfile slots to use", true);
  options->addObsoleteOption("--wal.sync-interval", "interval for automatic, non-requested disk syncs (in milliseconds)", true);
  options->addObsoleteOption("--wal.throttle-when-pending", 
                             "throttle writes when at least this many operations are waiting for collection (set to 0 to deactivate write-throttling)", true);
  options->addObsoleteOption("--wal.throttle-wait", "maximum wait time per operation when write-throttled (in milliseconds)", true);
}
