OFCondition EctEnhancedCT::setLossyImageCompression(const OFBool isLossy,
                                                    const OFString& ratios,
                                                    const OFString& methods,
                                                    const OFBool check)
{
    if (!isLossy)
    {
        return m_LossyImageCompression.putOFStringArray("00");
    }

    OFCondition result = m_LossyImageCompression.putOFStringArray("01");
    if (result.good())
        result = (check) ? DcmDecimalString::checkStringValue(ratios, "1-n") : EC_Normal;
    if (result.good())
        result = m_LossyImageCompression.putOFStringArray(ratios);

    if (result.good())
        result = (check) ? DcmCodeString::checkStringValue(methods, "1-n") : EC_Normal;
    if (result.good())
        result = m_LossyImageCompressionMethod.putOFStringArray(methods);

    return result;
}
