EctEnhancedCT::loadConcatenation(ConcatenationLoader& cl, const OFString& concatenationUID, EctEnhancedCT*& ct)
{

    DcmDataset dset;
    ct = NULL;
    OFVector<DcmIODTypes::Frame*> frames;
    OFCondition result = cl.load(concatenationUID, &dset, frames);
    if (result.good())
    {
        Uint16 pr = 0;
        if (dset.findAndGetUint16(DCM_PixelRepresentation, pr).good())
        {
            if (pr == 0)
            {
                ct = new EctEnhancedCT(OFin_place<IODImagePixelModule<Uint16> >);
            }
            else
            {
                ct = new EctEnhancedCT(OFin_place<IODImagePixelModule<Sint16> >);
            }
        }
        else
        {
            DCMECT_WARN("No Pixel Presentation set, assuming 16 bit unsigned "
                        "integer data");
            ct = new EctEnhancedCT(OFin_place<IODImagePixelModule<Uint16> >);
        }
        result
            = OFvisit<OFCondition>(ReadVisitor(dset, *ct, OFFalse /* do not read pixel data */), ct->getImagePixel());
        if (result.good())
        {
            ct->m_Frames = frames;
        }
        if (result.bad())
        {
            delete ct;
            ct = NULL;
        }
    }
    return result;
}
