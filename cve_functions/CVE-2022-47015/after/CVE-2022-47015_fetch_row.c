SPIDER_DB_ROW *spider_db_mbase_result::fetch_row()
{
  DBUG_ENTER("spider_db_mbase_result::fetch_row");
  DBUG_PRINT("info",("spider this=%p", this));
  if (!(row.row = mysql_fetch_row(db_result)))
  {
    if (mysql_errno(((spider_db_mbase *) db_conn)->db_conn))
    {
      store_error_num = mysql_errno(((spider_db_mbase *) db_conn)->db_conn);
      my_message(store_error_num,
        mysql_error(((spider_db_mbase *) db_conn)->db_conn), MYF(0));
    } else
      store_error_num = HA_ERR_END_OF_FILE;
    DBUG_RETURN(NULL);
  }
  row.lengths = mysql_fetch_lengths(db_result);
  row.field_count = mysql_num_fields(db_result);
  row.row_first = row.row;
  row.lengths_first = row.lengths;
  row.record_size = 0;
  DBUG_RETURN((SPIDER_DB_ROW *) &row);
}
