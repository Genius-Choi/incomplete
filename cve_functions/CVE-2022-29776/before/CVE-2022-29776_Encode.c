    bool CBase64Converter::Encode(BYTE* pDataSrc, int nLenSrc, char*& pDataDst, int& nLenDst, DWORD dwFlags)
    {
        if (!pDataSrc || nLenSrc < 1)
            return false;

        nLenDst = NSBase64::Base64EncodeGetRequiredLength(nLenSrc, dwFlags);
        pDataDst = new char[nLenDst];

        if (FALSE == NSBase64::Base64Encode(pDataSrc, nLenSrc, (BYTE*)pDataDst, &nLenDst, dwFlags))
        {
            RELEASEARRAYOBJECTS(pDataDst);
            return false;
        }
        return true;
    }
