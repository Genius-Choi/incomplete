vlvSearch_reinit(struct vlvSearch* p, const struct backentry *base)
{
	if (p->vlv_initialized) {
		return; /* no work to do */
	}
	if (LDAP_SCOPE_ONELEVEL != p->vlv_scope) {
		/* Only kind we re-init is onelevel searches */
		return;
	}
	/* Now down to work */
	if (NULL != p->vlv_slapifilter) {
		slapi_filter_free(p->vlv_slapifilter,1);
	}
    p->vlv_slapifilter= slapi_str2filter( p->vlv_filter );
    filter_normalize(p->vlv_slapifilter);
    /* make (&(parentid=idofbase)(|(originalfilter)(objectclass=referral))) */
	{
    Slapi_Filter *fid2kids= NULL;
    Slapi_Filter *focref= NULL;
    Slapi_Filter *fand= NULL;
    Slapi_Filter *forr= NULL;
    p->vlv_slapifilter= create_onelevel_filter(p->vlv_slapifilter, base, 0 /* managedsait */, &fid2kids, &focref, &fand, &forr);
	}
}
