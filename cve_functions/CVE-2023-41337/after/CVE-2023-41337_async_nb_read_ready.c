static void async_nb_read_ready(h2o_socket_t *sock, const char *err)
{
    struct async_nb_transaction_t *transaction = async_nb_pop(&async_nb.read_queue);
    assert(transaction != NULL);

    async_nb_run_sync(transaction->buf, neverbleed_transaction_read);

    if (async_nb.read_queue.len == 0)
        h2o_socket_read_stop(sock);

    transaction->on_read_complete(transaction);
}
