static void phonebook_size_callback(struct obc_session *session,
						struct obc_transfer *transfer,
						GError *err, void *user_data)
{
	struct pending_request *request = user_data;
	DBusMessage *reply;
	guint16 phone_book_size;
	guint8 new_missed_calls;

	if (err) {
		reply = g_dbus_create_error(request->msg,
						ERROR_INTERFACE ".Failed",
						"%s", err->message);
		goto send;
	}

	reply = dbus_message_new_method_return(request->msg);

	read_return_apparam(transfer, request->pbap, &phone_book_size,
							&new_missed_calls);

	if (dbus_message_is_method_call(request->msg, PBAP_INTERFACE,
								"GetSize"))
		dbus_message_append_args(reply,
					DBUS_TYPE_UINT16, &phone_book_size,
					DBUS_TYPE_INVALID);

send:
	g_dbus_send_message(conn, reply);
	pending_request_free(request);
}
