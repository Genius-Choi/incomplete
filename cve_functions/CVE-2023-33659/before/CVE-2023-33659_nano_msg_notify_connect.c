nano_msg_notify_connect(conn_param *cparam, uint8_t code)
{
	nni_msg *   msg = NULL;
	mqtt_string string, topic;
	char        buff[256];

	snprintf(buff, 256, CONNECT_MSG, cparam->username.body,
	    nni_timestamp(), cparam->pro_name.body, cparam->keepalive_mqtt,
	    code, cparam->pro_ver, cparam->clientid.body, cparam->clean_start);
	string.body = buff;
	string.len  = strlen(string.body);
	topic.body  = CONNECT_TOPIC;
	topic.len   = strlen(CONNECT_TOPIC);
	msg         = nano_pubmsg_composer(
            &msg, 0, 0, &string, &topic, cparam->pro_ver, nng_clock());
	return msg;
}
