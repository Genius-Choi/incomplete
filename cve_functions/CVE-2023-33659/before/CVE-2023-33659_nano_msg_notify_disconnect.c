nano_msg_notify_disconnect(conn_param *cparam, uint8_t code)
{
	nni_msg *   msg = NULL;
	mqtt_string string, topic;
	char        buff[256];
	snprintf(buff, 256, DISCONNECT_MSG, (char *) cparam->username.body,
	    nni_timestamp(), code, (char *) cparam->clientid.body);
	string.body = buff;
	string.len  = strlen(string.body);
	topic.body  = DISCONNECT_TOPIC;
	topic.len   = strlen(DISCONNECT_TOPIC);
	// V4 notification msg as default
	msg = nano_pubmsg_composer(
	    &msg, 0, 0, &string, &topic, cparam->pro_ver, nng_clock());
	return msg;
}
