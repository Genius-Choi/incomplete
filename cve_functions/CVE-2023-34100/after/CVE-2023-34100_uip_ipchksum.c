uip_ipchksum(void)
{
  uint16_t sum;

  sum = chksum(0, uip_buf, UIP_IPH_LEN);
  LOG_DBG("uip_ipchksum: sum 0x%04x\n", sum);
  return (sum == 0) ? 0xffff : uip_htons(sum);
}
