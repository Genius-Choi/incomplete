extern "C" HRESULT CacheCalculateContainerWorkingPath(
    __in BURN_CACHE* pCache,
    __in BURN_CONTAINER* pContainer,
    __deref_out_z LPWSTR* psczWorkingPath
    )
{
    Assert(pCache->fInitializedCache);

    HRESULT hr = S_OK;

    hr = PathConcatRelativeToFullyQualifiedBase(pCache->sczAcquisitionFolder, pContainer->sczHash, psczWorkingPath);
    ExitOnFailure(hr, "Failed to append hash as container unverified path.");

LExit:
    return hr;
}
