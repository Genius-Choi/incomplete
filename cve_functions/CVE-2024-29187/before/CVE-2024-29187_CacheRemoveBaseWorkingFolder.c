extern "C" HRESULT CacheRemoveBaseWorkingFolder(
    __in BURN_CACHE* pCache
    )
{
    HRESULT hr = S_OK;

    if (pCache->fInitializedBaseWorkingFolder)
    {
        // Try to clean out everything in the working folder.
        hr = DirEnsureDeleteEx(pCache->sczBaseWorkingFolder, DIR_DELETE_FILES | DIR_DELETE_RECURSE | DIR_DELETE_SCHEDULE);
        TraceError(hr, "Could not delete bundle engine working folder.");
    }

    return hr;
}
