static void socks_if_disband(struct socksdata *d) {
  LOG(LL_DEBUG, ("disbanding proxy %p %p", d->c, d->s));
  if (d->c) {
    d->c->flags |= MG_F_SEND_AND_CLOSE;
    d->c->user_data = NULL;
    d->c = NULL;
  }
  if (d->s) {
    d->s->flags |= MG_F_SEND_AND_CLOSE;
    d->s->user_data = NULL;
    d->s = NULL;
  }
}
