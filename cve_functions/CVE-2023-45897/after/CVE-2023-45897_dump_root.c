static int dump_root(struct exfat2img *ei)
{
	struct exfat *exfat = ei->exfat;
	struct exfat_inode *root;
	clus_t clus_count = 0;

	root = exfat_alloc_inode(ATTR_SUBDIR);
	if (!root)
		return -ENOMEM;

	root->first_clus = le32_to_cpu(exfat->bs->bsx.root_cluster);
	dump_directory(ei, root, (size_t)-1, &clus_count);
	root->size = clus_count * exfat->clus_size;

	ei->exfat->root = root;
	return 0;
}
