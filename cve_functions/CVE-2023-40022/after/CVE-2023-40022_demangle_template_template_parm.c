demangle_template_template_parm(work, mangled, tname)
struct work_stuff *work;
const char **mangled;
string *tname;
{
	int i;
	int r;
	int need_comma = 0;
	int success = 1;
	string temp;

	string_append(tname, "template <");
	/* get size of template parameter list */
	if (get_count(mangled, &r)) {
		for (i = 0; i < r; i++) {
			if (need_comma) {
				string_append(tname, ", ");
			}

			/* Z for type parameters */
			if (**mangled == 'Z') {
				(*mangled)++;
				string_append(tname, "class");
			}
			/* z for template parameters */
			else if (**mangled == 'z') {
				(*mangled)++;
				success =
					demangle_template_template_parm(work, mangled, tname);
				if (!success) {
					break;
				}
			} else {
				/* temp is initialized in do_type */
				success = do_type(work, mangled, &temp);
				if (success) {
					string_appends(tname, &temp);
				}
				string_delete(&temp);
				if (!success) {
					break;
				}
			}
			need_comma = 1;
		}
	}
	if (tname->p[-1] == '>')
		string_append(tname, " ");
	string_append(tname, "> class");
	return (success);
}
