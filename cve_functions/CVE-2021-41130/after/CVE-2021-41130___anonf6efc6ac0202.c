          Status status, const service_control::CheckResponseInfo &info) {
        TRACE(trace_span) << "Check service control request returned with "
                          << "status " << status.ToString();
        // info is valid regardless status.
        context->set_check_response_info(info);

        // update consumer_project_id to service context
        if (!info.consumer_project_id.empty()) {
          context->request()->AddHeaderToBackend(
              kConsumerProjecId, info.consumer_project_id, false);
        }

        continuation(status);
      });
