ToNanoSeconds(const double value, const std::chrono::nanoseconds &unit)
{
    if (value < 0.0)
        throw TexcHere("time must have a positive value");

    if (value > (static_cast<double>(std::chrono::nanoseconds::max().count()) / unit.count())) {
        const auto maxYears = std::chrono::duration_cast<std::chrono::hours>(std::chrono::nanoseconds::max()).count()/HoursPerYear;
        throw TexcHere(ToSBuf("time values cannot exceed ", maxYears, " years"));
    }

    return std::chrono::duration_cast<std::chrono::nanoseconds>(unit * value);
}
