parse_hostdomaintype(void)
{
    auto &p = LegacyParser.cachePeer("neighbor_type_domain peer-name");

    char *type = ConfigParser::NextToken();
    if (!type) {
        self_destruct();
        return;
    }

    char *domain = nullptr;
    while ((domain = ConfigParser::NextToken())) {
        auto *l = static_cast<NeighborTypeDomainList *>(xcalloc(1, sizeof(NeighborTypeDomainList)));
        l->type = parseNeighborType(type);
        l->domain = xstrdup(domain);

        NeighborTypeDomainList **L = nullptr;
        for (L = &p.typelist; *L; L = &((*L)->next));
        *L = l;
    }
}
