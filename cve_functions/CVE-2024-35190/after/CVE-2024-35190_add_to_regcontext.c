static int add_to_regcontext(void *obj, void *arg, int flags)
{
	struct sip_persistent_endpoint *persistent = obj;
	const char *regcontext = arg;

	if (ast_endpoint_get_state(persistent->endpoint) == AST_ENDPOINT_ONLINE) {
		if (!ast_exists_extension(NULL, regcontext, ast_endpoint_get_resource(
				persistent->endpoint), 1, NULL)) {
			ast_add_extension(regcontext, 1, ast_endpoint_get_resource(persistent->endpoint), 1, NULL, NULL,
				"Noop", ast_strdup(ast_endpoint_get_resource(persistent->endpoint)), ast_free_ptr, "PJSIP");
		}
	}

	return 0;
}
