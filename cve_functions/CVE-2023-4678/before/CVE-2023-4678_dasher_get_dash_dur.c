static void dasher_get_dash_dur(GF_DasherCtx *ctx, GF_DashStream *ds)
{
	ds->dash_dur = ctx->segdur;
	const GF_PropertyValue *p = gf_filter_pid_get_property(ds->ipid, GF_PROP_PID_DASH_DUR);
	if (p) {
		ds->dash_dur = p->value.frac;
		ds->no_seg_dur = GF_FALSE;
		if (!ds->dash_dur.num || !ds->dash_dur.den) {
			ds->dash_dur.num = 1;
			ds->dash_dur.den = 1;
		}
	}
	//this avoids very weird cases where (u64) (dash_dur*timescale) is 0. we limit the max segment duration to 1M sec, a bit more than 11.5 days
	if ((u64) ds->dash_dur.num > (u64)ds->dash_dur.den * 1000000) {
		ds->dash_dur.num = 1000000;
		ds->dash_dur.den = 1;
	}
}
