void initAll(uint32_t  _logLevel, bool _checkCert, bool _autoSign) {

    static int sgxServerInited;

    cout << "Running sgxwallet version:" << SGXWALLET_VERSION << endl;

    CHECK_STATE(sgxServerInited == 0)
    sgxServerInited = 1;
    initEnclave(_logLevel);
    initUserSpace();
    initSEK();

    if (useHTTPS) {
        SGXWalletServer::initHttpsServer(_checkCert);
        SGXRegistrationServer::initRegistrationServer(_autoSign);
        CSRManagerServer::initCSRManagerServer();
    } else {
        SGXWalletServer::initHttpServer();
    }
}
