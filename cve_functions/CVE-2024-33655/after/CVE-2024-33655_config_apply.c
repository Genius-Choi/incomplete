config_apply(struct config_file* config)
{
	MAX_TTL = (time_t)config->max_ttl;
	MIN_TTL = (time_t)config->min_ttl;
	SERVE_EXPIRED = config->serve_expired;
	SERVE_EXPIRED_TTL = (time_t)config->serve_expired_ttl;
	SERVE_EXPIRED_REPLY_TTL = (time_t)config->serve_expired_reply_ttl;
	SERVE_ORIGINAL_TTL = config->serve_original_ttl;
	MAX_NEG_TTL = (time_t)config->max_negative_ttl;
	MIN_NEG_TTL = (time_t)config->min_negative_ttl;
	RTT_MIN_TIMEOUT = config->infra_cache_min_rtt;
	RTT_MAX_TIMEOUT = config->infra_cache_max_rtt;
	EDNS_ADVERTISED_SIZE = (uint16_t)config->edns_buffer_size;
	MINIMAL_RESPONSES = config->minimal_responses;
	RRSET_ROUNDROBIN = config->rrset_roundrobin;
	LOG_TAG_QUERYREPLY = config->log_tag_queryreply;
	UNKNOWN_SERVER_NICENESS = config->unknown_server_time_limit;
	USEFUL_SERVER_TOP_TIMEOUT = RTT_MAX_TIMEOUT;
	BLACKLIST_PENALTY = USEFUL_SERVER_TOP_TIMEOUT*4;
	log_set_time_asc(config->log_time_ascii);
	autr_permit_small_holddown = config->permit_small_holddown;
	stream_wait_max = config->stream_wait_size;
	http2_query_buffer_max = config->http_query_buffer_size;
	http2_response_buffer_max = config->http_response_buffer_size;
}
