void ByteCodeGenerator::GetEnclosingNonLambdaScope(FuncInfo *funcInfo, Scope * &scope, Js::PropertyId &envIndex)
{
    Assert(funcInfo->IsLambda());
    envIndex = -1;
    for (scope = GetCurrentScope(); scope; scope = scope->GetEnclosingScope())
    {
        if (scope->GetMustInstantiate() && scope->GetFunc() != funcInfo)
        {
            envIndex++;
        }
        if (((scope == scope->GetFunc()->GetBodyScope() || scope == scope->GetFunc()->GetParamScope()) && !scope->GetFunc()->IsLambda()) || scope->IsGlobalEvalBlockScope())
        {
            break;
        }
    }
}
