mobile::Module parse_and_initialize_mobile_module(
    std::shared_ptr<char> data,
    size_t size,
    c10::optional<at::Device> device,
    ExtraFilesMap* extra_files) {
  mobile::Module m = parse_and_initialize_mobile_module(
      data.get(),
      size,
      device,
      extra_files,
      /*should_copy_tensor_memory=*/false);
  m.set_delete_memory(std::move(data));
  return m;
}
