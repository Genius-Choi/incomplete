    [](ModuleOp module, raw_ostream &output) {
      tensorflow::GraphDef graphdef;
      tensorflow::Status status =
          mlir::tfg::ConvertToGraphDef(module, &graphdef);
      if (!status.ok()) {
        LOG(ERROR) << "Error exporting MLIR module to GraphDef: " << status;
        return failure();
      }
      output << graphdef.DebugString();
      return success();
    },
