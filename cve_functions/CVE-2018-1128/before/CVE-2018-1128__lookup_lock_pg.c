PG *OSD::_lookup_lock_pg(spg_t pgid)
{
  RWLock::RLocker l(pg_map_lock);

  auto pg_map_entry = pg_map.find(pgid);
  if (pg_map_entry == pg_map.end())
    return nullptr;
  PG *pg = pg_map_entry->second;
  pg->lock();
  return pg;
}
