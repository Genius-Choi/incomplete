static BOOL rfx_allocate_tiles(RFX_MESSAGE* message, size_t count, BOOL allocOnly)
{
	WINPR_ASSERT(message);

	RFX_TILE** tmpTiles = winpr_aligned_recalloc(message->tiles, count, sizeof(RFX_TILE*), 32);
	if (!tmpTiles && (count != 0))
		return FALSE;

	message->tiles = tmpTiles;
	if (!allocOnly)
		message->numTiles = count;
	else
	{
		WINPR_ASSERT(message->numTiles <= count);
	}
	message->allocatedTiles = count;

	return TRUE;
}
