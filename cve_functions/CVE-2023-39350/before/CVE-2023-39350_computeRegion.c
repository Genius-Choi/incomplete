static BOOL computeRegion(const RFX_RECT* rects, size_t numRects, REGION16* region, size_t width,
                          size_t height)
{
	const RECTANGLE_16 mainRect = { 0, 0, width, height };

	WINPR_ASSERT(rects);
	for (size_t i = 0; i < numRects; i++)
	{
		const RFX_RECT* rect = &rects[i];
		RECTANGLE_16 rect16 = { 0 };
		rect16.left = rect->x;
		rect16.top = rect->y;
		rect16.right = rect->x + rect->width;
		rect16.bottom = rect->y + rect->height;

		if (!region16_union_rect(region, region, &rect16))
			return FALSE;
	}

	return region16_intersect_rect(region, region, &mainRect);
}
