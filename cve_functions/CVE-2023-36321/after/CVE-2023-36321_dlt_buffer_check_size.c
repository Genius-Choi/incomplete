int dlt_buffer_check_size(DltBuffer *buf, int needed)
{
    if (buf == NULL)
        return DLT_RETURN_WRONG_PARAMETER;

    if ((buf->size + sizeof(DltBufferHead) + (size_t) needed) > buf->max_size)
        return DLT_RETURN_ERROR;

    return DLT_RETURN_OK;
}
