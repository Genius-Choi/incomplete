  return runLight("execve", [&] (LightProcess* proc) -> pid_t {
      auto fin = proc->m_afdt_fd;
      auto fout = proc->m_afdt_fd;

      lwp_write(fout, "execve", path, cwd, argv, envp, options, pgid, (size_t) fds.size());
      for (const auto& [target_fd, current_fd]: fds) {
        lwp_write(fout, target_fd);
        send_fd(fout, current_fd);
      }

      std::string buf;
      lwp_read(fin, buf);
      if (buf == "success") {
        pid_t pid;
        lwp_read(fin, pid);
        return pid;
      }
      assert(buf == "error");

      int ret;
      int saved_errno;
      lwp_read(fin, ret, saved_errno);
      errno = saved_errno;
      return (pid_t) ret;
  }, static_cast<pid_t>(-1));
