void ncrx_destroy(struct ncrx *ncrx)
{
	struct ncrx_msg *msg;
	int i;

	for (i = 0; i < ncrx->p.nr_slots; i++)
		free(ncrx->slots[i].msg);

	while ((msg = msg_list_pop(&ncrx->oos_list)))
		free(msg);

	while ((msg = msg_list_pop(&ncrx->retired_list)))
		free(msg);

	free(ncrx->slots);
	free(ncrx);
}
