static void address_type_register(int addr_type, address_type_t *at)
{
    /* Check input */
    ws_assert(addr_type < MAX_ADDR_TYPE_VALUE);
    ws_assert(addr_type == at->addr_type);

    /* Don't re-register. */
    ws_assert(type_list[addr_type] == NULL);

    /* Sanity check */
    ws_assert(at->name);
    ws_assert(at->pretty_name);
    ws_assert(at->addr_to_str);
    ws_assert(at->addr_str_len);
    ws_assert(((at->addr_name_res_str != NULL) && (at->addr_name_res_len != NULL)) ||
                     ((at->addr_name_res_str == NULL) && (at->addr_name_res_len == NULL)));

    type_list[addr_type] = at;
}
