void gcc_write_client_monitor_extended_data(wStream* s, rdpMcs* mcs)
{
	UINT32 i;
	UINT16 length;
	rdpSettings* settings = mcs->settings;

	if (settings->HasMonitorAttributes)
	{
		length = (20 * settings->MonitorCount) + 16;
		gcc_write_user_data_header(s, CS_MONITOR_EX, length);
		Stream_Write_UINT32(s, 0);                      /* flags */
		Stream_Write_UINT32(s, 20);                     /* monitorAttributeSize */
		Stream_Write_UINT32(s, settings->MonitorCount); /* monitorCount */

		for (i = 0; i < settings->MonitorCount; i++)
		{
			Stream_Write_UINT32(
			    s, settings->MonitorDefArray[i].attributes.physicalWidth); /* physicalWidth */
			Stream_Write_UINT32(
			    s, settings->MonitorDefArray[i].attributes.physicalHeight); /* physicalHeight */
			Stream_Write_UINT32(
			    s, settings->MonitorDefArray[i].attributes.orientation); /* orientation */
			Stream_Write_UINT32(s, settings->MonitorDefArray[i]
			                           .attributes.desktopScaleFactor); /* desktopScaleFactor */
			Stream_Write_UINT32(
			    s,
			    settings->MonitorDefArray[i].attributes.deviceScaleFactor); /* deviceScaleFactor */
		}
	}
}
