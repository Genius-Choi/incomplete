static SemiFuture<ReplayCacheResult> getReplayCacheResult(
    const ClientHello& chlo,
    bool zeroRttEnabled,
    ReplayCache* replayCache) {
  if (!zeroRttEnabled || !replayCache ||
      !getExtension<ClientEarlyData>(chlo.extensions)) {
    FOLLY_SDT(fizz, replay_cache_NotChecked);
    return ReplayCacheResult::NotChecked;
  }
  auto randBuf = folly::IOBuf::copyBuffer(chlo.random, chlo.random.size());
  return replayCache->check(std::move(randBuf));
}
