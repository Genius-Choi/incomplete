  void CompareTplGopStats(const VpxTplGopStats &ref_gop_stats,
                          const VpxTplGopStats &test_gop_stats) {
    ASSERT_EQ(ref_gop_stats.size, test_gop_stats.size);
    for (int frame = 0; frame < ref_gop_stats.size; frame++) {
      const VpxTplFrameStats &ref_frame_stats =
          ref_gop_stats.frame_stats_list[frame];
      const VpxTplFrameStats &test_frame_stats =
          test_gop_stats.frame_stats_list[frame];
      ASSERT_EQ(ref_frame_stats.num_blocks, test_frame_stats.num_blocks);
      ASSERT_EQ(ref_frame_stats.frame_width, test_frame_stats.frame_width);
      ASSERT_EQ(ref_frame_stats.frame_height, test_frame_stats.frame_height);
      for (int block = 0; block < ref_frame_stats.num_blocks; block++) {
        const VpxTplBlockStats &ref_block_stats =
            ref_frame_stats.block_stats_list[block];
        const VpxTplBlockStats &test_block_stats =
            test_frame_stats.block_stats_list[block];
        ASSERT_EQ(ref_block_stats.inter_cost, test_block_stats.inter_cost);
        ASSERT_EQ(ref_block_stats.intra_cost, test_block_stats.intra_cost);
        ASSERT_EQ(ref_block_stats.mv_c, test_block_stats.mv_c);
        ASSERT_EQ(ref_block_stats.mv_r, test_block_stats.mv_r);
        ASSERT_EQ(ref_block_stats.recrf_dist, test_block_stats.recrf_dist);
        ASSERT_EQ(ref_block_stats.recrf_rate, test_block_stats.recrf_rate);
        ASSERT_EQ(ref_block_stats.ref_frame_index,
                  test_block_stats.ref_frame_index);
      }
    }
  }
