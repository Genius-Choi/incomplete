virtio_rnd_reset(void *base)
{
	struct virtio_rnd *rnd;

	rnd = base;

	DPRINTF(("virtio_rnd: device reset requested !\n"));
	virtio_reset_dev(&rnd->base);
	DPRINTF(("virtio_rnd: kstatus %d\n", rnd->vbs_k.status));
	if (rnd->vbs_k.status == VIRTIO_DEV_STARTED) {
		DPRINTF(("virtio_rnd: VBS-K reset requested!\n"));
		virtio_rnd_kernel_stop(rnd);
		virtio_rnd_kernel_reset(rnd);
		rnd->vbs_k.status = VIRTIO_DEV_INIT_SUCCESS;
	}
}
