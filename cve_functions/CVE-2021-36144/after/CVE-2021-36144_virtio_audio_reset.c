virtio_audio_reset(void *base)
{
	struct virtio_audio *virt_audio;

	virt_audio = (struct virtio_audio *)base;

	DPRINTF(("virtio_audio: device reset requested !\n"));
	virtio_reset_dev(&virt_audio->base);
	DPRINTF(("virtio_audio: kstatus %d\n", virt_audio->vbs_k.kstatus));
	if (virt_audio->vbs_k.kstatus == VIRTIO_DEV_STARTED) {
		DPRINTF(("virtio_audio: VBS-K reset requested!\n"));
		virtio_audio_kernel_stop(virt_audio);
		virtio_audio_kernel_reset(virt_audio);
		virt_audio->vbs_k.kstatus = VIRTIO_DEV_INIT_SUCCESS;
	}
}
