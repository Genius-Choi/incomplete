performMessageTransaction(int fd, struct SocketData data)
{
	int ret;
	// Send the request to daemon
	ret = SendMessage(fd, &data.Bytes, sizeof(data));
	if (ret < 0) {
		WPRINTF(("send error\n"));
		return ret;
	}

	// Get reply from daemon
	ret = GetMessage(fd, &data.Bytes, sizeof(data));
	if (ret < 0) {
		WPRINTF(("recv error\n"));
		return ret;
	}

	return 0;
}
