virtio_input_cfgread(void *vdev, int offset, int size, uint32_t *retval)
{
	struct virtio_input *vi = vdev;
	struct virtio_input_config cfg;
	bool rc;

	rc = virtio_input_get_config(vi, vi->cfg.select,
		vi->cfg.subsel, &cfg);
	if (rc)
		memcpy(retval, (uint8_t *)&cfg + offset, size);
	else
		memset(retval, 0, size);

	return 0;
}
