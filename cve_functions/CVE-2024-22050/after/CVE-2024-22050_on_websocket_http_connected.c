static void on_websocket_http_connected(http_s *h) {
  websocket_settings_s *s = h->udata;
  h->udata = http_settings(h)->udata = NULL;
  if (!h->path) {
    FIO_LOG_WARNING("(websocket client) path not specified in "
                    "address, assuming root!");
    h->path = fiobj_str_new("/", 1);
  }
  http_upgrade2ws(h, *s);
  fio_free(s);
}
