t1mac_output_data(byte *s, int len)
{
  while (len > 0) {
    int n;
    /* In some Mac fonts, the ASCII sections terminate with a line-end */
    if (rbufpos >= MAX_RSRC_LEN
	|| (blocktyp == POST_ASCII && len + rbufpos > MAX_RSRC_LEN && rbufpos))
      output_current_post();
    n = (len + rbufpos <= MAX_RSRC_LEN ? len : MAX_RSRC_LEN - rbufpos);
    memcpy(rbuf + rbufpos, s, n);
    rbufpos += n;
    s += n;
    len -= n;
  }
}
