static struct Account *imap_ac_find(struct Account *a, const char *path)
{
  if (!a || (a->type != MUTT_IMAP) || !path)
    return NULL;

  struct Url *url = url_parse(path);
  if (!url)
    return NULL;

  struct ImapAccountData *adata = a->adata;
  struct ConnAccount *cac = &adata->conn->account;

  if (mutt_str_strcasecmp(url->host, cac->host) != 0)
    a = NULL;
  else if (url->user && (mutt_str_strcasecmp(url->user, cac->user) != 0))
    a = NULL;

  url_free(&url);
  return a;
}
