[
    {
        "line": 5,
        "fullcodeline": "dmn->ste_ctx = mlx5dr_ste_get_ctx(dmn->info.caps.sw_format_ver);"
    },
    {
        "line": 11,
        "fullcodeline": "ret = mlx5_core_alloc_pd(dmn->mdev, &dmn->pdn);"
    },
    {
        "line": 17,
        "fullcodeline": "dmn->uar = mlx5_get_uars_page(dmn->mdev);"
    },
    {
        "line": 24,
        "fullcodeline": "dmn->ste_icm_pool = mlx5dr_icm_pool_create(dmn, DR_ICM_TYPE_STE);"
    },
    {
        "line": 31,
        "fullcodeline": "dmn->action_icm_pool = mlx5dr_icm_pool_create(dmn, DR_ICM_TYPE_MODIFY_ACTION);"
    },
    {
        "line": 38,
        "fullcodeline": "ret = mlx5dr_send_ring_alloc(dmn);"
    },
    {
        "line": 47,
        "fullcodeline": "mlx5dr_icm_pool_destroy(dmn->action_icm_pool);"
    },
    {
        "line": 49,
        "fullcodeline": "mlx5dr_icm_pool_destroy(dmn->ste_icm_pool);"
    },
    {
        "line": 51,
        "fullcodeline": "mlx5_put_uars_page(dmn->mdev, dmn->uar);"
    },
    {
        "line": 53,
        "fullcodeline": "mlx5_core_dealloc_pd(dmn->mdev, dmn->pdn);"
    },
    {
        "line": 6,
        "fullcodeline": "if (!dmn->ste_ctx) {"
    },
    {
        "line": 18,
        "fullcodeline": "if (IS_ERR(dmn->uar)) {"
    },
    {
        "line": 25,
        "fullcodeline": "if (!dmn->ste_icm_pool) {"
    },
    {
        "line": 32,
        "fullcodeline": "if (!dmn->action_icm_pool) {"
    },
    {
        "line": 7,
        "fullcodeline": "mlx5dr_err(dmn, \"SW Steering on this device is unsupported\\n\");"
    },
    {
        "line": 13,
        "fullcodeline": "mlx5dr_err(dmn, \"Couldn't allocate PD, ret: %d\", ret);"
    },
    {
        "line": 19,
        "fullcodeline": "mlx5dr_err(dmn, \"Couldn't allocate UAR\\n\");"
    },
    {
        "line": 20,
        "fullcodeline": "ret = PTR_ERR(dmn->uar);"
    },
    {
        "line": 26,
        "fullcodeline": "mlx5dr_err(dmn, \"Couldn't get icm memory\\n\");"
    },
    {
        "line": 27,
        "fullcodeline": "ret = -ENOMEM;"
    },
    {
        "line": 33,
        "fullcodeline": "mlx5dr_err(dmn, \"Couldn't get action icm memory\\n\");"
    },
    {
        "line": 34,
        "fullcodeline": "ret = -ENOMEM;"
    },
    {
        "line": 40,
        "fullcodeline": "mlx5dr_err(dmn, \"Couldn't create send-ring\\n\");"
    },
    {
        "line": 8,
        "fullcodeline": "return -EOPNOTSUPP;"
    }
]