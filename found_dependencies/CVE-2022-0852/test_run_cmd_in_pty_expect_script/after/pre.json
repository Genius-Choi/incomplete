[
    {
        "line": 11,
        "fullcodeline": "assert output.strip().splitlines()[-1] == \"Foo bar\""
    },
    {
        "line": 12,
        "fullcodeline": "assert code == 0"
    },
    {
        "line": 2,
        "fullcodeline": "if sys.version_info < (3,):"
    },
    {
        "line": 6,
        "fullcodeline": "output, code = utils.run_cmd_in_pty("
    },
    {
        "line": 3,
        "fullcodeline": "prompt_cmd = \"raw_input\""
    },
    {
        "line": 5,
        "fullcodeline": "prompt_cmd = \"input\""
    },
    {
        "line": 7,
        "fullcodeline": "[sys.executable, \"-c\", 'print(%s(\"Ask for password: \"))' % prompt_cmd],"
    },
    {
        "line": 8,
        "fullcodeline": "expect_script=((\"password: *\", \"Foo bar\\n\"),),"
    }
]