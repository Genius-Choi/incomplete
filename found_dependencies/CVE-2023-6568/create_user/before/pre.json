[
    {
        "line": 2,
        "fullcodeline": "content_type = request.headers.get(\"Content-Type\")"
    },
    {
        "line": 3,
        "fullcodeline": "if content_type == \"application/x-www-form-urlencoded\":"
    },
    {
        "line": 4,
        "fullcodeline": "username = request.form[\"username\"]"
    },
    {
        "line": 5,
        "fullcodeline": "password = request.form[\"password\"]"
    },
    {
        "line": 11,
        "fullcodeline": "store.create_user(username, password)"
    },
    {
        "line": 7,
        "fullcodeline": "if store.has_user(username):"
    },
    {
        "line": 12,
        "fullcodeline": "flash(f\"Successfully signed up user: {username}\")"
    },
    {
        "line": 13,
        "fullcodeline": "return alert(href=HOME)"
    },
    {
        "line": 14,
        "fullcodeline": "elif content_type == \"application/json\":"
    },
    {
        "line": 8,
        "fullcodeline": "flash(f\"Username has already been taken: {username}\")"
    },
    {
        "line": 15,
        "fullcodeline": "username = _get_request_param(\"username\")"
    },
    {
        "line": 16,
        "fullcodeline": "password = _get_request_param(\"password\")"
    },
    {
        "line": 18,
        "fullcodeline": "user = store.create_user(username, password)"
    },
    {
        "line": 9,
        "fullcodeline": "return alert(href=SIGNUP)"
    },
    {
        "line": 19,
        "fullcodeline": "return make_response({\"user\": user.to_json()})"
    },
    {
        "line": 21,
        "fullcodeline": "return make_response(f\"Invalid content type: '{content_type}'\", 400)"
    }
]