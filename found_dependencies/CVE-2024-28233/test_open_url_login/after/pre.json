[
    {
        "line": 10,
        "fullcodeline": "user = user_special_chars.user"
    },
    {
        "line": 11,
        "fullcodeline": "login_url = url_path_join(public_host(app), app.hub.base_url, url)"
    },
    {
        "line": 12,
        "fullcodeline": "await browser.goto(login_url)"
    },
    {
        "line": 15,
        "fullcodeline": "url_new = url_path_join(public_host(app), app.hub.base_url, url_concat(url, params))"
    },
    {
        "line": 16,
        "fullcodeline": "print(url_new)"
    },
    {
        "line": 17,
        "fullcodeline": "await browser.goto(url_new)"
    },
    {
        "line": 18,
        "fullcodeline": "redirected_url = redirected_url.replace("
    },
    {
        "line": 21,
        "fullcodeline": "form_action = form_action.replace('{{BASE_URL}}', url_escape(app.base_url))"
    },
    {
        "line": 23,
        "fullcodeline": "form = browser.locator('//*[@id=\"login-main\"]/form')"
    },
    {
        "line": 27,
        "fullcodeline": "f_string = re.escape(f\"{form_action}\")"
    },
    {
        "line": 31,
        "fullcodeline": "await login(browser, user.name, password=user.name)"
    },
    {
        "line": 13,
        "fullcodeline": "if params.get(\"next\"):"
    },
    {
        "line": 26,
        "fullcodeline": "await expect(browser).to_have_title(\"JupyterHub\")"
    },
    {
        "line": 28,
        "fullcodeline": "await expect(form).to_have_attribute('action', re.compile('.*' + f_string))"
    },
    {
        "line": 33,
        "fullcodeline": "if url_escape(app.base_url) in form_action:"
    },
    {
        "line": 14,
        "fullcodeline": "params[\"next\"] = url_path_join(app.base_url, params[\"next\"])"
    },
    {
        "line": 19,
        "fullcodeline": "'{{BASE_URL}}', url_escape_path(app.base_url)"
    },
    {
        "line": 34,
        "fullcodeline": "await expect(browser).to_have_url(re.compile(\".*param=value\"))"
    },
    {
        "line": 36,
        "fullcodeline": "escaped_string = re.escape('spawn?param=value')"
    },
    {
        "line": 37,
        "fullcodeline": "pattern = re.compile('.*' + escaped_string)"
    },
    {
        "line": 38,
        "fullcodeline": "await expect(browser).to_have_url(re.compile(pattern))"
    },
    {
        "line": 39,
        "fullcodeline": "await expect(browser).not_to_have_url(re.compile(\".*/user/.*\"))"
    },
    {
        "line": 41,
        "fullcodeline": "await expect(browser).to_have_url("
    },
    {
        "line": 42,
        "fullcodeline": "re.compile(\".*/user/\" + f\"{user_special_chars.urlname}/\")"
    }
]