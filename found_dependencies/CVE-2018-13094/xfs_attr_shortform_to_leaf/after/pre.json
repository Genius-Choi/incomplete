[
    {
        "line": 15,
        "fullcodeline": "trace_xfs_attr_sf_to_leaf(args);"
    },
    {
        "line": 17,
        "fullcodeline": "dp = args->dp;"
    },
    {
        "line": 18,
        "fullcodeline": "ifp = dp->i_afp;"
    },
    {
        "line": 19,
        "fullcodeline": "sf = (xfs_attr_shortform_t *)ifp->if_u1.if_data;"
    },
    {
        "line": 20,
        "fullcodeline": "size = be16_to_cpu(sf->hdr.totsize);"
    },
    {
        "line": 21,
        "fullcodeline": "tmpbuffer = kmem_alloc(size, KM_SLEEP);"
    },
    {
        "line": 22,
        "fullcodeline": "ASSERT(tmpbuffer != NULL);"
    },
    {
        "line": 23,
        "fullcodeline": "memcpy(tmpbuffer, ifp->if_u1.if_data, size);"
    },
    {
        "line": 24,
        "fullcodeline": "sf = (xfs_attr_shortform_t *)tmpbuffer;"
    },
    {
        "line": 26,
        "fullcodeline": "xfs_idata_realloc(dp, -size, XFS_ATTR_FORK);"
    },
    {
        "line": 27,
        "fullcodeline": "xfs_bmap_local_to_extents_empty(dp, XFS_ATTR_FORK);"
    },
    {
        "line": 29,
        "fullcodeline": "bp = NULL;"
    },
    {
        "line": 30,
        "fullcodeline": "error = xfs_da_grow_inode(args, &blkno);"
    },
    {
        "line": 43,
        "fullcodeline": "ASSERT(blkno == 0);"
    },
    {
        "line": 44,
        "fullcodeline": "error = xfs_attr3_leaf_create(args, blkno, &bp);"
    },
    {
        "line": 54,
        "fullcodeline": "memset((char *)&nargs, 0, sizeof(nargs));"
    },
    {
        "line": 55,
        "fullcodeline": "nargs.dp = dp;"
    },
    {
        "line": 56,
        "fullcodeline": "nargs.geo = args->geo;"
    },
    {
        "line": 57,
        "fullcodeline": "nargs.firstblock = args->firstblock;"
    },
    {
        "line": 58,
        "fullcodeline": "nargs.dfops = args->dfops;"
    },
    {
        "line": 59,
        "fullcodeline": "nargs.total = args->total;"
    },
    {
        "line": 60,
        "fullcodeline": "nargs.whichfork = XFS_ATTR_FORK;"
    },
    {
        "line": 61,
        "fullcodeline": "nargs.trans = args->trans;"
    },
    {
        "line": 62,
        "fullcodeline": "nargs.op_flags = XFS_DA_OP_OKNOENT;"
    },
    {
        "line": 64,
        "fullcodeline": "sfe = &sf->list[0];"
    },
    {
        "line": 81,
        "fullcodeline": "error = 0;"
    },
    {
        "line": 82,
        "fullcodeline": "*leaf_bp = bp;"
    },
    {
        "line": 84,
        "fullcodeline": "kmem_free(tmpbuffer);"
    },
    {
        "line": 65,
        "fullcodeline": "for (i = 0; i < sf->hdr.count; i++) {"
    },
    {
        "line": 38,
        "fullcodeline": "xfs_idata_realloc(dp, size, XFS_ATTR_FORK);\t/* try to put */"
    },
    {
        "line": 39,
        "fullcodeline": "memcpy(ifp->if_u1.if_data, tmpbuffer, size);\t/* it back */"
    },
    {
        "line": 49,
        "fullcodeline": "xfs_idata_realloc(dp, size, XFS_ATTR_FORK);\t/* try to put */"
    },
    {
        "line": 50,
        "fullcodeline": "memcpy(ifp->if_u1.if_data, tmpbuffer, size);\t/* it back */"
    },
    {
        "line": 66,
        "fullcodeline": "nargs.name = sfe->nameval;"
    },
    {
        "line": 67,
        "fullcodeline": "nargs.namelen = sfe->namelen;"
    },
    {
        "line": 68,
        "fullcodeline": "nargs.value = &sfe->nameval[nargs.namelen];"
    },
    {
        "line": 69,
        "fullcodeline": "nargs.valuelen = sfe->valuelen;"
    },
    {
        "line": 70,
        "fullcodeline": "nargs.hashval = xfs_da_hashname(sfe->nameval,"
    },
    {
        "line": 72,
        "fullcodeline": "nargs.flags = XFS_ATTR_NSP_ONDISK_TO_ARGS(sfe->flags);"
    },
    {
        "line": 73,
        "fullcodeline": "error = xfs_attr3_leaf_lookup_int(bp, &nargs); /* set a->index */"
    },
    {
        "line": 74,
        "fullcodeline": "ASSERT(error == -ENOATTR);"
    },
    {
        "line": 75,
        "fullcodeline": "error = xfs_attr3_leaf_add(bp, &nargs);"
    },
    {
        "line": 76,
        "fullcodeline": "ASSERT(error != -ENOSPC);"
    },
    {
        "line": 79,
        "fullcodeline": "sfe = XFS_ATTR_SF_NEXTENTRY(sfe);"
    },
    {
        "line": 36,
        "fullcodeline": "if (error == -EIO)"
    },
    {
        "line": 47,
        "fullcodeline": "if (bp && (xfs_da_shrink_inode(args, 0, bp) != 0))"
    }
]