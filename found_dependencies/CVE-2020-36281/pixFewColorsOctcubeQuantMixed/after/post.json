[
    {
        "line": 16,
        "fullcodeline": "PROCNAME(\"pixFewColorsOctcubeQuantMixed\");"
    },
    {
        "line": 32,
        "fullcodeline": "pixc = pixConvertTo8(pix1, 1);  /* must be 8 bpp */"
    },
    {
        "line": 33,
        "fullcodeline": "pixDestroy(&pix1);"
    },
    {
        "line": 37,
        "fullcodeline": "cmap = pixGetColormap(pixc);"
    },
    {
        "line": 38,
        "fullcodeline": "ncolors = pixcmapGetCount(cmap);"
    },
    {
        "line": 39,
        "fullcodeline": "cmapd = pixcmapCreate(8);"
    },
    {
        "line": 40,
        "fullcodeline": "lut = (l_int32 *)LEPT_CALLOC(256, sizeof(l_int32));"
    },
    {
        "line": 65,
        "fullcodeline": "pixGetDimensions(pixs, &w, &h, NULL);"
    },
    {
        "line": 66,
        "fullcodeline": "pixd = pixCreate(w, h, 8);"
    },
    {
        "line": 67,
        "fullcodeline": "pixSetColormap(pixd, cmapd);"
    },
    {
        "line": 68,
        "fullcodeline": "pixm = pixCreate(w, h, 1);"
    },
    {
        "line": 69,
        "fullcodeline": "datac = pixGetData(pixc);"
    },
    {
        "line": 70,
        "fullcodeline": "datam = pixGetData(pixm);"
    },
    {
        "line": 71,
        "fullcodeline": "datad = pixGetData(pixd);"
    },
    {
        "line": 72,
        "fullcodeline": "wplc = pixGetWpl(pixc);"
    },
    {
        "line": 73,
        "fullcodeline": "wplm = pixGetWpl(pixm);"
    },
    {
        "line": 74,
        "fullcodeline": "wpld = pixGetWpl(pixd);"
    },
    {
        "line": 90,
        "fullcodeline": "pixg = pixConvertTo8(pixs, 0);"
    },
    {
        "line": 91,
        "fullcodeline": "pixGrayQuantFromHisto(pixd, pixg, pixm, minfract, maxspan);"
    },
    {
        "line": 93,
        "fullcodeline": "LEPT_FREE(lut);"
    },
    {
        "line": 94,
        "fullcodeline": "pixDestroy(&pixc);"
    },
    {
        "line": 95,
        "fullcodeline": "pixDestroy(&pixm);"
    },
    {
        "line": 96,
        "fullcodeline": "pixDestroy(&pixg);"
    },
    {
        "line": 18,
        "fullcodeline": "if (!pixs || pixGetDepth(pixs) != 32)"
    },
    {
        "line": 20,
        "fullcodeline": "if (level <= 0) level = 3;"
    },
    {
        "line": 21,
        "fullcodeline": "if (level > 6)"
    },
    {
        "line": 23,
        "fullcodeline": "if (darkthresh <= 0) darkthresh = 20;"
    },
    {
        "line": 24,
        "fullcodeline": "if (lightthresh <= 0) lightthresh = 244;"
    },
    {
        "line": 25,
        "fullcodeline": "if (diffthresh <= 0) diffthresh = 20;"
    },
    {
        "line": 26,
        "fullcodeline": "if (minfract <= 0.0) minfract = 0.05;"
    },
    {
        "line": 27,
        "fullcodeline": "if (maxspan <= 2) maxspan = 15;"
    },
    {
        "line": 30,
        "fullcodeline": "if ((pix1 = pixFewColorsOctcubeQuant1(pixs, level)) == NULL)"
    },
    {
        "line": 41,
        "fullcodeline": "for (i = 0; i < 256; i++)"
    },
    {
        "line": 42,
        "fullcodeline": "lut[i] = -1;"
    },
    {
        "line": 43,
        "fullcodeline": "for (i = 0, index = 0; i < ncolors; i++) {"
    },
    {
        "line": 75,
        "fullcodeline": "for (i = 0; i < h; i++) {"
    },
    {
        "line": 44,
        "fullcodeline": "pixcmapGetColor(cmap, i, &rval, &gval, &bval);"
    },
    {
        "line": 45,
        "fullcodeline": "minval = L_MIN(rval, gval);"
    },
    {
        "line": 46,
        "fullcodeline": "minval = L_MIN(minval, bval);"
    },
    {
        "line": 49,
        "fullcodeline": "maxval = L_MAX(rval, gval);"
    },
    {
        "line": 50,
        "fullcodeline": "maxval = L_MAX(maxval, bval);"
    },
    {
        "line": 76,
        "fullcodeline": "linec = datac + i * wplc;"
    },
    {
        "line": 77,
        "fullcodeline": "linem = datam + i * wplm;"
    },
    {
        "line": 78,
        "fullcodeline": "lined = datad + i * wpld;"
    },
    {
        "line": 19,
        "fullcodeline": "return (PIX *)ERROR_PTR(\"pixs undefined or not 32 bpp\", procName, NULL);"
    },
    {
        "line": 22,
        "fullcodeline": "return (PIX *)ERROR_PTR(\"invalid level\", procName, NULL);"
    },
    {
        "line": 31,
        "fullcodeline": "return (PIX *)ERROR_PTR(\"too many colors\", procName, NULL);"
    },
    {
        "line": 47,
        "fullcodeline": "if (minval > lightthresh)  /* near white */"
    },
    {
        "line": 51,
        "fullcodeline": "if (maxval < darkthresh)  /* near black */"
    },
    {
        "line": 55,
        "fullcodeline": "if (maxval - minval >= diffthresh) {"
    },
    {
        "line": 79,
        "fullcodeline": "for (j = 0; j < w; j++) {"
    },
    {
        "line": 56,
        "fullcodeline": "pixcmapAddColor(cmapd, rval, gval, bval);"
    },
    {
        "line": 57,
        "fullcodeline": "lut[i] = index;"
    },
    {
        "line": 58,
        "fullcodeline": "index++;"
    },
    {
        "line": 80,
        "fullcodeline": "val = GET_DATA_BYTE(linec, j);"
    },
    {
        "line": 81,
        "fullcodeline": "if (lut[val] == -1)"
    },
    {
        "line": 82,
        "fullcodeline": "SET_DATA_BIT(linem, j);"
    },
    {
        "line": 84,
        "fullcodeline": "SET_DATA_BYTE(lined, j, lut[val]);"
    }
]