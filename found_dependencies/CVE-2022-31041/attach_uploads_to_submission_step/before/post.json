[
    {
        "line": 3,
        "fullcodeline": "from .tasks import resize_submission_attachment"
    },
    {
        "line": 5,
        "fullcodeline": "components = list(submission_step.form_step.iter_components(recursive=True))"
    },
    {
        "line": 7,
        "fullcodeline": "uploads = resolve_uploads_from_data(components, submission_step.data)"
    },
    {
        "line": 9,
        "fullcodeline": "result = list()"
    },
    {
        "line": 10,
        "fullcodeline": "for key, (component, uploads) in uploads.items():"
    },
    {
        "line": 12,
        "fullcodeline": "resize_apply = glom(component, \"of.image.resize.apply\", default=False)"
    },
    {
        "line": 13,
        "fullcodeline": "resize_size = ("
    },
    {
        "line": 19,
        "fullcodeline": "file_max_size = file_size_cast("
    },
    {
        "line": 23,
        "fullcodeline": "base_name = glom(component, \"file.name\", default=\"\")"
    },
    {
        "line": 26,
        "fullcodeline": "for i, upload in enumerate(uploads, start=1):"
    },
    {
        "line": 14,
        "fullcodeline": "glom(component, \"of.image.resize.width\", default=DEFAULT_IMAGE_MAX_SIZE[0]),"
    },
    {
        "line": 15,
        "fullcodeline": "glom("
    },
    {
        "line": 20,
        "fullcodeline": "glom(component, \"fileMaxSize\", default=\"\") or settings.MAX_FILE_UPLOAD_SIZE"
    },
    {
        "line": 37,
        "fullcodeline": "file_name = append_file_num_postfix("
    },
    {
        "line": 44,
        "fullcodeline": "result.append((attachment, created))"
    },
    {
        "line": 27,
        "fullcodeline": "if upload.file_size > file_max_size:"
    },
    {
        "line": 41,
        "fullcodeline": "attachment, created = SubmissionFileAttachment.objects.create_from_upload("
    },
    {
        "line": 46,
        "fullcodeline": "if created and resize_apply and resize_size:"
    },
    {
        "line": 28,
        "fullcodeline": "raise RequestEntityTooLarge("
    },
    {
        "line": 38,
        "fullcodeline": "upload.file_name, base_name, i, len(uploads)"
    },
    {
        "line": 49,
        "fullcodeline": "resize_submission_attachment.delay(attachment.id, resize_size)"
    },
    {
        "line": 29,
        "fullcodeline": "_("
    }
]