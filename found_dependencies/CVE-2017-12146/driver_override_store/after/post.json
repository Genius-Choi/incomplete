[
    {
        "line": 5,
        "fullcodeline": "struct platform_device *pdev = to_platform_device(dev);"
    },
    {
        "line": 11,
        "fullcodeline": "driver_override = kstrndup(buf, count, GFP_KERNEL);"
    },
    {
        "line": 15,
        "fullcodeline": "cp = strchr(driver_override, '\\n');"
    },
    {
        "line": 19,
        "fullcodeline": "device_lock(dev);"
    },
    {
        "line": 20,
        "fullcodeline": "old = pdev->driver_override;"
    },
    {
        "line": 27,
        "fullcodeline": "device_unlock(dev);"
    },
    {
        "line": 29,
        "fullcodeline": "kfree(old);"
    },
    {
        "line": 8,
        "fullcodeline": "if (count > PATH_MAX)"
    },
    {
        "line": 12,
        "fullcodeline": "if (!driver_override)"
    },
    {
        "line": 21,
        "fullcodeline": "if (strlen(driver_override)) {"
    },
    {
        "line": 17,
        "fullcodeline": "*cp = '\\0';"
    },
    {
        "line": 22,
        "fullcodeline": "pdev->driver_override = driver_override;"
    },
    {
        "line": 9,
        "fullcodeline": "return -EINVAL;"
    },
    {
        "line": 13,
        "fullcodeline": "return -ENOMEM;"
    },
    {
        "line": 24,
        "fullcodeline": "kfree(driver_override);"
    },
    {
        "line": 25,
        "fullcodeline": "pdev->driver_override = NULL;"
    }
]