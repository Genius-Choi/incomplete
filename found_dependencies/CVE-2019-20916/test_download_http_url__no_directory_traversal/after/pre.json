[
    {
        "line": 6,
        "fullcodeline": "mock_url = 'http://www.example.com/whatever.tgz'"
    },
    {
        "line": 7,
        "fullcodeline": "contents = b'downloaded'"
    },
    {
        "line": 8,
        "fullcodeline": "link = Link(mock_url)"
    },
    {
        "line": 10,
        "fullcodeline": "session = Mock()"
    },
    {
        "line": 11,
        "fullcodeline": "resp = MockResponse(contents)"
    },
    {
        "line": 12,
        "fullcodeline": "resp.url = mock_url"
    },
    {
        "line": 13,
        "fullcodeline": "resp.headers = {"
    },
    {
        "line": 19,
        "fullcodeline": "session.get.return_value = resp"
    },
    {
        "line": 21,
        "fullcodeline": "download_dir = tmpdir.join('download')"
    },
    {
        "line": 22,
        "fullcodeline": "os.mkdir(download_dir)"
    },
    {
        "line": 31,
        "fullcodeline": "actual = os.listdir(download_dir)"
    },
    {
        "line": 32,
        "fullcodeline": "assert actual == ['out_dir_file']"
    },
    {
        "line": 23,
        "fullcodeline": "file_path, content_type = _download_http_url("
    }
]