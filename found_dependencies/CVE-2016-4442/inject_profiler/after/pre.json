[
    {
        "line": 4,
        "fullcodeline": "content_type = headers['Content-Type']"
    },
    {
        "line": 11,
        "fullcodeline": "headers['Cache-Control'] = \"#{\"no-store, \" if config.disable_caching}must-revalidate, private, max-age=0\""
    },
    {
        "line": 14,
        "fullcodeline": "if headers.is_a? Hash"
    },
    {
        "line": 18,
        "fullcodeline": "if current.inject_js && content_type =~ /text\\/html/"
    },
    {
        "line": 7,
        "fullcodeline": "headers.delete('ETag')"
    },
    {
        "line": 8,
        "fullcodeline": "headers.delete('Date')"
    },
    {
        "line": 15,
        "fullcodeline": "headers['X-MiniProfiler-Ids'] = ids_json(env)"
    },
    {
        "line": 19,
        "fullcodeline": "response = Rack::Response.new([], status, headers)"
    },
    {
        "line": 20,
        "fullcodeline": "script   = self.get_profile_script(env)"
    },
    {
        "line": 22,
        "fullcodeline": "if String === body"
    },
    {
        "line": 27,
        "fullcodeline": "body.close if body.respond_to? :close"
    },
    {
        "line": 23,
        "fullcodeline": "response.write inject(body,script)"
    },
    {
        "line": 25,
        "fullcodeline": "body.each { |fragment| response.write inject(fragment, script) }"
    }
]