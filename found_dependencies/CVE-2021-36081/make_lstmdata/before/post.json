[
    {
        "line": 2,
        "fullcodeline": "log.info(\"=== Constructing LSTM training data ===\")"
    },
    {
        "line": 3,
        "fullcodeline": "lang_prefix = f\"{ctx.langdata_dir}/{ctx.lang_code}/{ctx.lang_code}\""
    },
    {
        "line": 4,
        "fullcodeline": "path_output = pathlib.Path(ctx.output_dir)"
    },
    {
        "line": 9,
        "fullcodeline": "args = []"
    },
    {
        "line": 16,
        "fullcodeline": "run_command("
    },
    {
        "line": 35,
        "fullcodeline": "def get_file_list():"
    },
    {
        "line": 48,
        "fullcodeline": "lstm_list = f\"{ctx.output_dir}/{ctx.lang_code}.training_files.txt\""
    },
    {
        "line": 49,
        "fullcodeline": "dir_listing = (str(p) for p in path_output.glob(f\"{ctx.lang_code}.*.lstmf\"))"
    },
    {
        "line": 5,
        "fullcodeline": "if not path_output.is_dir():"
    },
    {
        "line": 12,
        "fullcodeline": "if ctx.norm_mode >= 2:"
    },
    {
        "line": 19,
        "fullcodeline": "f\"{ctx.training_dir}/{ctx.lang_code}.unicharset\","
    },
    {
        "line": 21,
        "fullcodeline": "f\"{ctx.langdata_dir}\","
    },
    {
        "line": 23,
        "fullcodeline": "f\"{lang_prefix}.wordlist\","
    },
    {
        "line": 25,
        "fullcodeline": "f\"{lang_prefix}.numbers\","
    },
    {
        "line": 27,
        "fullcodeline": "f\"{lang_prefix}.punc\","
    },
    {
        "line": 29,
        "fullcodeline": "f\"{ctx.output_dir}\","
    },
    {
        "line": 31,
        "fullcodeline": "f\"{ctx.lang_code}\","
    },
    {
        "line": 32,
        "fullcodeline": "*args,"
    },
    {
        "line": 44,
        "fullcodeline": "for f in get_file_list():"
    },
    {
        "line": 50,
        "fullcodeline": "pathlib.Path(lstm_list).write_text(\"\\n\".join(dir_listing))"
    },
    {
        "line": 6,
        "fullcodeline": "log.info(f\"Creating new directory {ctx.output_dir}\")"
    },
    {
        "line": 7,
        "fullcodeline": "path_output.mkdir(exist_ok=True, parents=True)"
    },
    {
        "line": 11,
        "fullcodeline": "args.append(\"--lang_is_rtl\")"
    },
    {
        "line": 13,
        "fullcodeline": "args.append(\"--pass_through_recoder\")"
    },
    {
        "line": 45,
        "fullcodeline": "log.debug(f\"Moving {f} to {path_output / f.name}\")"
    },
    {
        "line": 46,
        "fullcodeline": "shutil.move(str(f), path_output / f.name)"
    }
]