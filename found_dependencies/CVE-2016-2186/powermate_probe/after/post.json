[
    {
        "line": 3,
        "fullcodeline": "struct usb_device *udev = interface_to_usbdev (intf);"
    },
    {
        "line": 9,
        "fullcodeline": "int error = -ENOMEM;"
    },
    {
        "line": 11,
        "fullcodeline": "interface = intf->cur_altsetting;"
    },
    {
        "line": 19,
        "fullcodeline": "usb_control_msg(udev, usb_sndctrlpipe(udev, 0),"
    },
    {
        "line": 24,
        "fullcodeline": "pm = kzalloc(sizeof(struct powermate_device), GFP_KERNEL);"
    },
    {
        "line": 25,
        "fullcodeline": "input_dev = input_allocate_device();"
    },
    {
        "line": 32,
        "fullcodeline": "pm->irq = usb_alloc_urb(0, GFP_KERNEL);"
    },
    {
        "line": 36,
        "fullcodeline": "pm->config = usb_alloc_urb(0, GFP_KERNEL);"
    },
    {
        "line": 40,
        "fullcodeline": "pm->udev = udev;"
    },
    {
        "line": 41,
        "fullcodeline": "pm->intf = intf;"
    },
    {
        "line": 42,
        "fullcodeline": "pm->input = input_dev;"
    },
    {
        "line": 44,
        "fullcodeline": "usb_make_path(udev, pm->phys, sizeof(pm->phys));"
    },
    {
        "line": 45,
        "fullcodeline": "strlcat(pm->phys, \"/input0\", sizeof(pm->phys));"
    },
    {
        "line": 47,
        "fullcodeline": "spin_lock_init(&pm->lock);"
    },
    {
        "line": 62,
        "fullcodeline": "input_dev->phys = pm->phys;"
    },
    {
        "line": 63,
        "fullcodeline": "usb_to_input_id(udev, &input_dev->id);"
    },
    {
        "line": 64,
        "fullcodeline": "input_dev->dev.parent = &intf->dev;"
    },
    {
        "line": 66,
        "fullcodeline": "input_set_drvdata(input_dev, pm);"
    },
    {
        "line": 68,
        "fullcodeline": "input_dev->event = powermate_input_event;"
    },
    {
        "line": 70,
        "fullcodeline": "input_dev->evbit[0] = BIT_MASK(EV_KEY) | BIT_MASK(EV_REL) |"
    },
    {
        "line": 72,
        "fullcodeline": "input_dev->keybit[BIT_WORD(BTN_0)] = BIT_MASK(BTN_0);"
    },
    {
        "line": 73,
        "fullcodeline": "input_dev->relbit[BIT_WORD(REL_DIAL)] = BIT_MASK(REL_DIAL);"
    },
    {
        "line": 74,
        "fullcodeline": "input_dev->mscbit[BIT_WORD(MSC_PULSELED)] = BIT_MASK(MSC_PULSELED);"
    },
    {
        "line": 77,
        "fullcodeline": "pipe = usb_rcvintpipe(udev, endpoint->bEndpointAddress);"
    },
    {
        "line": 78,
        "fullcodeline": "maxp = usb_maxpacket(udev, pipe, usb_pipeout(pipe));"
    },
    {
        "line": 86,
        "fullcodeline": "usb_fill_int_urb(pm->irq, udev, pipe, pm->data,"
    },
    {
        "line": 89,
        "fullcodeline": "pm->irq->transfer_dma = pm->data_dma;"
    },
    {
        "line": 90,
        "fullcodeline": "pm->irq->transfer_flags |= URB_NO_TRANSFER_DMA_MAP;"
    },
    {
        "line": 98,
        "fullcodeline": "error = input_register_device(pm->input);"
    },
    {
        "line": 104,
        "fullcodeline": "pm->requires_update = UPDATE_PULSE_ASLEEP | UPDATE_PULSE_AWAKE | UPDATE_PULSE_MODE | UPDATE_STATIC_BRIGHTNESS;"
    },
    {
        "line": 105,
        "fullcodeline": "powermate_pulse_led(pm, 0x80, 255, 0, 1, 0); // set default pulse parameters"
    },
    {
        "line": 107,
        "fullcodeline": "usb_set_intfdata(intf, pm);"
    },
    {
        "line": 110,
        "fullcodeline": "fail5:\tusb_kill_urb(pm->irq);"
    },
    {
        "line": 111,
        "fullcodeline": "fail4:\tusb_free_urb(pm->config);"
    },
    {
        "line": 112,
        "fullcodeline": "fail3:\tusb_free_urb(pm->irq);"
    },
    {
        "line": 113,
        "fullcodeline": "fail2:\tpowermate_free_buffers(udev, pm);"
    },
    {
        "line": 114,
        "fullcodeline": "fail1:\tinput_free_device(input_dev);"
    },
    {
        "line": 115,
        "fullcodeline": "kfree(pm);"
    },
    {
        "line": 12,
        "fullcodeline": "if (interface->desc.bNumEndpoints < 1)"
    },
    {
        "line": 16,
        "fullcodeline": "if (!usb_endpoint_is_int_in(endpoint))"
    },
    {
        "line": 20,
        "fullcodeline": "0x0a, USB_TYPE_CLASS | USB_RECIP_INTERFACE,"
    },
    {
        "line": 26,
        "fullcodeline": "if (!pm || !input_dev)"
    },
    {
        "line": 29,
        "fullcodeline": "if (powermate_alloc_buffers(udev, pm))"
    },
    {
        "line": 33,
        "fullcodeline": "if (!pm->irq)"
    },
    {
        "line": 37,
        "fullcodeline": "if (!pm->config)"
    },
    {
        "line": 80,
        "fullcodeline": "if (maxp < POWERMATE_PAYLOAD_SIZE_MIN || maxp > POWERMATE_PAYLOAD_SIZE_MAX) {"
    },
    {
        "line": 93,
        "fullcodeline": "if (usb_submit_urb(pm->irq, GFP_KERNEL)) {"
    },
    {
        "line": 51,
        "fullcodeline": "input_dev->name = pm_name_powermate;"
    },
    {
        "line": 54,
        "fullcodeline": "input_dev->name = pm_name_soundknob;"
    },
    {
        "line": 57,
        "fullcodeline": "input_dev->name = pm_name_soundknob;"
    },
    {
        "line": 71,
        "fullcodeline": "BIT_MASK(EV_MSC);"
    },
    {
        "line": 83,
        "fullcodeline": "maxp = POWERMATE_PAYLOAD_SIZE_MAX;"
    },
    {
        "line": 94,
        "fullcodeline": "error = -EIO;"
    },
    {
        "line": 13,
        "fullcodeline": "return -EINVAL;"
    },
    {
        "line": 17,
        "fullcodeline": "return -EIO;"
    }
]