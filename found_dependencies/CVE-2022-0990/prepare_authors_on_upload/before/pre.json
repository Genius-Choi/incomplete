[
    {
        "line": 10,
        "fullcodeline": "input_authors = authr.split('&')"
    },
    {
        "line": 12,
        "fullcodeline": "input_authors = list(map(lambda it: it.strip().replace(',', '|'), input_authors))"
    },
    {
        "line": 14,
        "fullcodeline": "input_authors = helper.uniq(input_authors)"
    },
    {
        "line": 20,
        "fullcodeline": "renamed = list()"
    },
    {
        "line": 32,
        "fullcodeline": "sort_authors_list = list()"
    },
    {
        "line": 33,
        "fullcodeline": "db_author = None"
    },
    {
        "line": 47,
        "fullcodeline": "sort_authors = ' & '.join(sort_authors_list)"
    },
    {
        "line": 2,
        "fullcodeline": "if title != _(u'Unknown') and authr != _(u'Unknown'):"
    },
    {
        "line": 17,
        "fullcodeline": "if input_authors == ['']:"
    },
    {
        "line": 21,
        "fullcodeline": "for in_aut in input_authors:"
    },
    {
        "line": 34,
        "fullcodeline": "for inp in input_authors:"
    },
    {
        "line": 48,
        "fullcodeline": "return sort_authors, input_authors, db_author, renamed"
    },
    {
        "line": 3,
        "fullcodeline": "entry = calibre_db.check_exists_book(authr, title)"
    },
    {
        "line": 18,
        "fullcodeline": "input_authors = [_(u'Unknown')]  # prevent empty Author"
    },
    {
        "line": 22,
        "fullcodeline": "renamed_author = calibre_db.session.query(db.Authors).filter(db.Authors.name == in_aut).first()"
    },
    {
        "line": 35,
        "fullcodeline": "stored_author = calibre_db.session.query(db.Authors).filter(db.Authors.name == inp).first()"
    },
    {
        "line": 46,
        "fullcodeline": "sort_authors_list.append(sort_author)"
    },
    {
        "line": 5,
        "fullcodeline": "log.info(\"Uploaded book probably exists in library\")"
    },
    {
        "line": 6,
        "fullcodeline": "flash(_(u\"Uploaded book probably exists in the library, consider to change before upload new: \")"
    },
    {
        "line": 23,
        "fullcodeline": "if renamed_author and in_aut != renamed_author.name:"
    },
    {
        "line": 36,
        "fullcodeline": "if not stored_author:"
    },
    {
        "line": 24,
        "fullcodeline": "renamed.append(renamed_author.name)"
    },
    {
        "line": 25,
        "fullcodeline": "all_books = calibre_db.session.query(db.Books) \\"
    },
    {
        "line": 27,
        "fullcodeline": "sorted_renamed_author = helper.get_sorted_author(renamed_author.name)"
    },
    {
        "line": 28,
        "fullcodeline": "sorted_old_author = helper.get_sorted_author(in_aut)"
    },
    {
        "line": 41,
        "fullcodeline": "sort_author = helper.get_sorted_author(inp)"
    },
    {
        "line": 45,
        "fullcodeline": "sort_author = stored_author.sort"
    },
    {
        "line": 7,
        "fullcodeline": "+ Markup(render_title_template('book_exists_flash.html', entry=entry)), category=\"warning\")"
    },
    {
        "line": 29,
        "fullcodeline": "for one_book in all_books:"
    },
    {
        "line": 37,
        "fullcodeline": "if not db_author:"
    },
    {
        "line": 43,
        "fullcodeline": "if not db_author:"
    },
    {
        "line": 38,
        "fullcodeline": "db_author = db.Authors(inp, helper.get_sorted_author(inp), \"\")"
    },
    {
        "line": 44,
        "fullcodeline": "db_author = stored_author"
    },
    {
        "line": 30,
        "fullcodeline": "one_book.author_sort = one_book.author_sort.replace(sorted_renamed_author, sorted_old_author)"
    },
    {
        "line": 39,
        "fullcodeline": "calibre_db.session.add(db_author)"
    },
    {
        "line": 40,
        "fullcodeline": "calibre_db.session.commit()"
    },
    {
        "line": 26,
        "fullcodeline": ".filter(db.Books.authors.any(db.Authors.name == renamed_author.name)).all()"
    }
]