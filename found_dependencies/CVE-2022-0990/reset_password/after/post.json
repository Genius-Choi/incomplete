[
    {
        "line": 2,
        "fullcodeline": "existing_user = ub.session.query(ub.User).filter(ub.User.id == user_id).first()"
    },
    {
        "line": 3,
        "fullcodeline": "if not existing_user:"
    },
    {
        "line": 5,
        "fullcodeline": "if not config.get_mail_server_configured():"
    },
    {
        "line": 8,
        "fullcodeline": "password = generate_random_password()"
    },
    {
        "line": 9,
        "fullcodeline": "existing_user.password = generate_password_hash(password)"
    },
    {
        "line": 11,
        "fullcodeline": "send_registration_mail(existing_user.email, existing_user.name, password, True)"
    },
    {
        "line": 4,
        "fullcodeline": "return 0, None"
    },
    {
        "line": 6,
        "fullcodeline": "return 2, None"
    },
    {
        "line": 10,
        "fullcodeline": "ub.session.commit()"
    },
    {
        "line": 12,
        "fullcodeline": "return 1, existing_user.name"
    },
    {
        "line": 14,
        "fullcodeline": "ub.session.rollback()"
    },
    {
        "line": 15,
        "fullcodeline": "return 0, None"
    }
]