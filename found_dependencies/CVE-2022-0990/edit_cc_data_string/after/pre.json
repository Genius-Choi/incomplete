[
    {
        "line": 2,
        "fullcodeline": "changed = False"
    },
    {
        "line": 3,
        "fullcodeline": "if c.datatype == 'rating':"
    },
    {
        "line": 5,
        "fullcodeline": "if to_save[cc_string].strip() != cc_db_value:"
    },
    {
        "line": 26,
        "fullcodeline": "return changed, to_save"
    },
    {
        "line": 4,
        "fullcodeline": "to_save[cc_string] = str(int(float(to_save[cc_string]) * 2))"
    },
    {
        "line": 13,
        "fullcodeline": "cc_class = db.cc_classes[c.id]"
    },
    {
        "line": 14,
        "fullcodeline": "new_cc = calibre_db.session.query(cc_class).filter("
    },
    {
        "line": 6,
        "fullcodeline": "if cc_db_value is not None:"
    },
    {
        "line": 17,
        "fullcodeline": "if new_cc is None:"
    },
    {
        "line": 25,
        "fullcodeline": "getattr(book, cc_string).append(new_cc)"
    },
    {
        "line": 8,
        "fullcodeline": "del_cc = getattr(book, cc_string)[0]"
    },
    {
        "line": 18,
        "fullcodeline": "new_cc = cc_class(value=to_save[cc_string].strip())"
    },
    {
        "line": 20,
        "fullcodeline": "changed = True"
    },
    {
        "line": 22,
        "fullcodeline": "new_cc = calibre_db.session.query(cc_class).filter("
    },
    {
        "line": 9,
        "fullcodeline": "getattr(book, cc_string).remove(del_cc)"
    },
    {
        "line": 10,
        "fullcodeline": "if len(del_cc.books) == 0:"
    },
    {
        "line": 19,
        "fullcodeline": "calibre_db.session.add(new_cc)"
    },
    {
        "line": 21,
        "fullcodeline": "calibre_db.session.flush()"
    },
    {
        "line": 12,
        "fullcodeline": "changed = True"
    },
    {
        "line": 11,
        "fullcodeline": "calibre_db.session.delete(del_cc)"
    },
    {
        "line": 15,
        "fullcodeline": "cc_class.value == to_save[cc_string].strip()).first()"
    },
    {
        "line": 23,
        "fullcodeline": "cc_class.value == to_save[cc_string].strip()).first()"
    }
]