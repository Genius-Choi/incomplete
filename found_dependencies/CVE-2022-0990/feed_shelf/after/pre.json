[
    {
        "line": 2,
        "fullcodeline": "off = request.args.get(\"offset\") or 0"
    },
    {
        "line": 11,
        "fullcodeline": "result = list()"
    },
    {
        "line": 19,
        "fullcodeline": "pagination = Pagination((int(off) / (int(config.config_books_per_page)) + 1), config.config_books_per_page,"
    },
    {
        "line": 21,
        "fullcodeline": "return render_xml_template('feed.xml', entries=result, pagination=pagination)"
    },
    {
        "line": 4,
        "fullcodeline": "shelf = ub.session.query(ub.Shelf).filter(ub.Shelf.is_public == 1,"
    },
    {
        "line": 7,
        "fullcodeline": "shelf = ub.session.query(ub.Shelf).filter(or_(and_(ub.Shelf.user_id == int(current_user.id),"
    },
    {
        "line": 14,
        "fullcodeline": "books_in_shelf = ub.session.query(ub.BookShelf).filter(ub.BookShelf.shelf == book_id).order_by("
    },
    {
        "line": 20,
        "fullcodeline": "len(result))"
    },
    {
        "line": 16,
        "fullcodeline": "for book in books_in_shelf:"
    },
    {
        "line": 17,
        "fullcodeline": "cur_book = calibre_db.get_book(book.book_id)"
    },
    {
        "line": 18,
        "fullcodeline": "result.append(cur_book)"
    },
    {
        "line": 5,
        "fullcodeline": "ub.Shelf.id == book_id).first()"
    },
    {
        "line": 9,
        "fullcodeline": "and_(ub.Shelf.is_public == 1,"
    },
    {
        "line": 15,
        "fullcodeline": "ub.BookShelf.order.asc()).all()"
    },
    {
        "line": 8,
        "fullcodeline": "ub.Shelf.id == book_id),"
    },
    {
        "line": 10,
        "fullcodeline": "ub.Shelf.id == book_id))).first()"
    }
]