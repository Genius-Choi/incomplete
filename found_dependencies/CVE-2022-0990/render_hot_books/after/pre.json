[
    {
        "line": 2,
        "fullcodeline": "if current_user.check_visibility(constants.SIDEBAR_HOT):"
    },
    {
        "line": 13,
        "fullcodeline": "off = int(int(config.config_books_per_page) * (page - 1))"
    },
    {
        "line": 14,
        "fullcodeline": "all_books = ub.session.query(ub.Downloads, func.count(ub.Downloads.book_id)) \\"
    },
    {
        "line": 16,
        "fullcodeline": "hot_books = all_books.offset(off).limit(config.config_books_per_page)"
    },
    {
        "line": 17,
        "fullcodeline": "entries = list()"
    },
    {
        "line": 25,
        "fullcodeline": "num_books = entries.__len__()"
    },
    {
        "line": 26,
        "fullcodeline": "pagination = Pagination(page, config.config_books_per_page, num_books)"
    },
    {
        "line": 3,
        "fullcodeline": "if order[1] not in ['hotasc', 'hotdesc']:"
    },
    {
        "line": 8,
        "fullcodeline": "if current_user.show_detail_random():"
    },
    {
        "line": 18,
        "fullcodeline": "for book in hot_books:"
    },
    {
        "line": 27,
        "fullcodeline": "return render_title_template('index.html', random=random, entries=entries, pagination=pagination,"
    },
    {
        "line": 7,
        "fullcodeline": "order = [func.count(ub.Downloads.book_id).desc()], 'hotdesc'"
    },
    {
        "line": 9,
        "fullcodeline": "random = calibre_db.session.query(db.Books).filter(calibre_db.common_filters()) \\"
    },
    {
        "line": 12,
        "fullcodeline": "random = false()"
    },
    {
        "line": 28,
        "fullcodeline": "title=_(u\"Hot Books (Most Downloaded)\"), page=\"hot\", order=order[1])"
    },
    {
        "line": 19,
        "fullcodeline": "download_book = calibre_db.session.query(db.Books).filter(calibre_db.common_filters()).filter("
    },
    {
        "line": 15,
        "fullcodeline": ".order_by(*order[0]).group_by(ub.Downloads.book_id)"
    },
    {
        "line": 22,
        "fullcodeline": "entries.append(download_book)"
    },
    {
        "line": 24,
        "fullcodeline": "ub.delete_download(book.Downloads.book_id)"
    },
    {
        "line": 10,
        "fullcodeline": ".order_by(func.random()).limit(config.config_random_books)"
    },
    {
        "line": 20,
        "fullcodeline": "db.Books.id == book.Downloads.book_id).first()"
    }
]