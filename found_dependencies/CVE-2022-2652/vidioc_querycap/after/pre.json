[
    {
        "line": 4,
        "fullcodeline": "struct v4l2_loopback_device *dev = v4l2loopback_getdevice(file);"
    },
    {
        "line": 5,
        "fullcodeline": "int labellen = (sizeof(cap->card) < sizeof(dev->card_label)) ?"
    },
    {
        "line": 8,
        "fullcodeline": "int device_nr ="
    },
    {
        "line": 11,
        "fullcodeline": "__u32 capabilities = V4L2_CAP_STREAMING | V4L2_CAP_READWRITE;"
    },
    {
        "line": 13,
        "fullcodeline": "strlcpy(cap->driver, \"v4l2 loopback\", sizeof(cap->driver));"
    },
    {
        "line": 14,
        "fullcodeline": "snprintf(cap->card, labellen, \"%s\", dev->card_label);"
    },
    {
        "line": 15,
        "fullcodeline": "snprintf(cap->bus_info, sizeof(cap->bus_info),"
    },
    {
        "line": 39,
        "fullcodeline": "dev->vdev->device_caps ="
    },
    {
        "line": 44,
        "fullcodeline": "cap->capabilities |= V4L2_CAP_DEVICE_CAPS;"
    },
    {
        "line": 47,
        "fullcodeline": "memset(cap->reserved, 0, sizeof(cap->reserved));"
    },
    {
        "line": 41,
        "fullcodeline": "cap->device_caps = cap->capabilities = capabilities;"
    },
    {
        "line": 9,
        "fullcodeline": "((struct v4l2loopback_private *)video_get_drvdata(dev->vdev))"
    },
    {
        "line": 28,
        "fullcodeline": "capabilities |= V4L2_CAP_VIDEO_CAPTURE | V4L2_CAP_VIDEO_OUTPUT;"
    },
    {
        "line": 31,
        "fullcodeline": "capabilities |= V4L2_CAP_VIDEO_CAPTURE;"
    },
    {
        "line": 34,
        "fullcodeline": "capabilities |= V4L2_CAP_VIDEO_OUTPUT;"
    }
]