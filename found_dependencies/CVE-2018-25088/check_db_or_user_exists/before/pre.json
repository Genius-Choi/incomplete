[
    {
        "line": 2,
        "fullcodeline": "with _create_pg_connection(config) as con:"
    },
    {
        "line": 3,
        "fullcodeline": "with con.cursor() as cur:"
    },
    {
        "line": 4,
        "fullcodeline": "cur.execute(\"SELECT 1 FROM pg_database WHERE datname='{}';\".format(db_name))"
    },
    {
        "line": 5,
        "fullcodeline": "db_exists = cur.fetchone() is not None"
    },
    {
        "line": 6,
        "fullcodeline": "cur.execute(\"SELECT 1 FROM pg_roles WHERE rolname='{}';\".format(db_user))"
    },
    {
        "line": 7,
        "fullcodeline": "user = cur.fetchone()"
    },
    {
        "line": 8,
        "fullcodeline": "user_exists = user is not None"
    },
    {
        "line": 9,
        "fullcodeline": "return db_exists or user_exists"
    }
]