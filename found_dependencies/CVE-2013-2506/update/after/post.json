[
    {
        "line": 6,
        "fullcodeline": "if @user.update_attributes(params[:user])"
    },
    {
        "line": 3,
        "fullcodeline": "roles = params[:user].delete(\"spree_role_ids\")"
    },
    {
        "line": 16,
        "fullcodeline": "flash.now[:notice] = t(:account_updated)"
    },
    {
        "line": 17,
        "fullcodeline": "render :edit"
    },
    {
        "line": 19,
        "fullcodeline": "render :edit"
    },
    {
        "line": 8,
        "fullcodeline": "@user.spree_roles = roles.reject(&:blank?).collect{|r| Spree::Role.find(r)}"
    },
    {
        "line": 13,
        "fullcodeline": "user = Spree::User.reset_password_by_token(params[:user])"
    },
    {
        "line": 14,
        "fullcodeline": "sign_in(@user, :event => :authentication, :bypass => !Spree::Auth::Config[:signout_after_password_change])"
    }
]