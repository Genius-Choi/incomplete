[
    {
        "line": 4,
        "fullcodeline": "payment = get_payment(notification.get(\"merchantReference\"))"
    },
    {
        "line": 7,
        "fullcodeline": "transaction_id = notification.get(\"pspReference\")"
    },
    {
        "line": 8,
        "fullcodeline": "transaction = get_transaction("
    },
    {
        "line": 15,
        "fullcodeline": "new_transaction = create_new_transaction("
    },
    {
        "line": 18,
        "fullcodeline": "gateway_postprocess(new_transaction, payment)"
    },
    {
        "line": 19,
        "fullcodeline": "msg = ("
    },
    {
        "line": 24,
        "fullcodeline": "create_payment_notification_for_order(payment, msg, msg, transaction.is_success)"
    },
    {
        "line": 5,
        "fullcodeline": "if not payment:"
    },
    {
        "line": 12,
        "fullcodeline": "if transaction and not transaction.is_success:"
    },
    {
        "line": 20,
        "fullcodeline": "f\"Adyen: The refunded amount from {transaction_id} has been returned to Adyen, \""
    },
    {
        "line": 21,
        "fullcodeline": "f\"and is back in your account. This may happen if the shopper's bank account \""
    },
    {
        "line": 22,
        "fullcodeline": "f\"is no longer valid\""
    }
]