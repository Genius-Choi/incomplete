[
    {
        "line": 20,
        "fullcodeline": "Path checkSuffix = \".check\";"
    },
    {
        "line": 135,
        "fullcodeline": "auto sortedOutputNames = topoSort(outputsToSort,"
    },
    {
        "line": 13,
        "fullcodeline": "std::map<std::string, ValidPathInfo> infos;"
    },
    {
        "line": 28,
        "fullcodeline": "for (auto & p : inputPaths) referenceablePaths.insert(p);"
    },
    {
        "line": 29,
        "fullcodeline": "for (auto & i : scratchOutputs) referenceablePaths.insert(i.second);"
    },
    {
        "line": 30,
        "fullcodeline": "for (auto & p : addedPaths) referenceablePaths.insert(p);"
    },
    {
        "line": 165,
        "fullcodeline": "std::reverse(sortedOutputNames.begin(), sortedOutputNames.end());"
    },
    {
        "line": 509,
        "fullcodeline": "auto & localStore = getLocalStore();"
    },
    {
        "line": 51,
        "fullcodeline": "auto scratchOutput = get(scratchOutputs, outputName);"
    },
    {
        "line": 56,
        "fullcodeline": "auto actualPath = toRealPathChroot(worker.store.printStorePath(*scratchOutput));"
    },
    {
        "line": 58,
        "fullcodeline": "outputsToSort.insert(outputName);"
    },
    {
        "line": 61,
        "fullcodeline": "auto initialOutput = get(initialOutputs, outputName);"
    },
    {
        "line": 66,
        "fullcodeline": "auto & initialInfo = *initialOutput;"
    },
    {
        "line": 69,
        "fullcodeline": "initialInfo.wanted = buildMode == bmCheck"
    },
    {
        "line": 102,
        "fullcodeline": "canonicalisePathMetaData("
    },
    {
        "line": 129,
        "fullcodeline": "outputReferencesIfUnregistered.insert_or_assign("
    },
    {
        "line": 132,
        "fullcodeline": "outputStats.insert_or_assign(outputName, std::move(st));"
    },
    {
        "line": 136,
        "fullcodeline": "{[&](const std::string & name) {"
    },
    {
        "line": 158,
        "fullcodeline": "{[&](const std::string & path, const std::string & parent) {"
    },
    {
        "line": 170,
        "fullcodeline": "auto output = get(drv->outputs, outputName);"
    },
    {
        "line": 171,
        "fullcodeline": "auto scratchPath = get(scratchOutputs, outputName);"
    },
    {
        "line": 173,
        "fullcodeline": "auto actualPath = toRealPathChroot(worker.store.printStorePath(*scratchPath));"
    },
    {
        "line": 185,
        "fullcodeline": "auto orifu = get(outputReferencesIfUnregistered, outputName);"
    },
    {
        "line": 200,
        "fullcodeline": "auto references = *referencesOpt;"
    },
    {
        "line": 310,
        "fullcodeline": "ValidPathInfo newInfo = std::visit(overloaded {"
    },
    {
        "line": 391,
        "fullcodeline": "canonicalisePathMetaData(actualPath, {}, inodesSeen);"
    },
    {
        "line": 396,
        "fullcodeline": "auto finalDestPath = worker.store.printStorePath(newInfo.path);"
    },
    {
        "line": 402,
        "fullcodeline": "dynamicOutputLock.setDeletion(true);"
    },
    {
        "line": 403,
        "fullcodeline": "auto optFixedPath = output->path(worker.store, drv->name, outputName);"
    },
    {
        "line": 432,
        "fullcodeline": "auto & localStore = getLocalStore();"
    },
    {
        "line": 475,
        "fullcodeline": "localStore.optimisePath(actualPath, NoRepair); // FIXME: combine with scanForReferences()"
    },
    {
        "line": 476,
        "fullcodeline": "worker.markContentsGood(newInfo.path);"
    },
    {
        "line": 478,
        "fullcodeline": "newInfo.deriver = drvPath;"
    },
    {
        "line": 479,
        "fullcodeline": "newInfo.ultimate = true;"
    },
    {
        "line": 480,
        "fullcodeline": "localStore.signPathInfo(newInfo);"
    },
    {
        "line": 482,
        "fullcodeline": "finish(newInfo.path);"
    },
    {
        "line": 490,
        "fullcodeline": "infos.emplace(outputName, std::move(newInfo));"
    },
    {
        "line": 531,
        "fullcodeline": "auto oldinfo = get(initialOutputs, outputName);"
    },
    {
        "line": 532,
        "fullcodeline": "assert(oldinfo);"
    },
    {
        "line": 533,
        "fullcodeline": "auto thisRealisation = Realisation {"
    },
    {
        "line": 546,
        "fullcodeline": "builtOutputs.emplace(outputName, thisRealisation);"
    },
    {
        "line": 11,
        "fullcodeline": "return DerivationGoal::registerOutputs();"
    },
    {
        "line": 131,
        "fullcodeline": "PerhapsNeedToRegister { .refs = references });"
    },
    {
        "line": 172,
        "fullcodeline": "assert(output && scratchPath);"
    },
    {
        "line": 188,
        "fullcodeline": "std::optional<StorePathSet> referencesOpt = std::visit(overloaded {"
    },
    {
        "line": 198,
        "fullcodeline": "if (!referencesOpt)"
    },
    {
        "line": 412,
        "fullcodeline": "if (worker.store.toRealPath(finalDestPath) != actualPath) {"
    },
    {
        "line": 434,
        "fullcodeline": "if (buildMode == bmCheck) {"
    },
    {
        "line": 499,
        "fullcodeline": "return assertPathValidity();"
    },
    {
        "line": 513,
        "fullcodeline": "infos2.insert_or_assign(newInfo.path, newInfo);"
    },
    {
        "line": 70,
        "fullcodeline": "|| !(initialInfo.known && initialInfo.known->isValid());"
    },
    {
        "line": 79,
        "fullcodeline": "if (lstat(actualPath.c_str(), &st) == -1) {"
    },
    {
        "line": 92,
        "fullcodeline": "if ((!S_ISLNK(st.st_mode) && (st.st_mode & (S_IWGRP | S_IWOTH))) ||"
    },
    {
        "line": 93,
        "fullcodeline": "(buildUser && st.st_uid != buildUser->getUID()))"
    },
    {
        "line": 104,
        "fullcodeline": "buildUser ? std::optional(buildUser->getUIDRange()) : std::nullopt,"
    },
    {
        "line": 120,
        "fullcodeline": "debug(\"discarding references of output '%s'\", outputName);"
    },
    {
        "line": 404,
        "fullcodeline": "if (!optFixedPath ||"
    },
    {
        "line": 405,
        "fullcodeline": "worker.store.printStorePath(*optFixedPath) != finalDestPath)"
    },
    {
        "line": 407,
        "fullcodeline": "assert(newInfo.ca);"
    },
    {
        "line": 408,
        "fullcodeline": "dynamicOutputLock.lockPaths({worker.store.toRealPath(finalDestPath)});"
    },
    {
        "line": 540,
        "fullcodeline": "if (experimentalFeatureSettings.isEnabled(Xp::CaDerivations)"
    },
    {
        "line": 541,
        "fullcodeline": "&& !drv->type().isImpure())"
    },
    {
        "line": 543,
        "fullcodeline": "signRealisation(thisRealisation);"
    },
    {
        "line": 544,
        "fullcodeline": "worker.store.registerDrvOutput(thisRealisation);"
    },
    {
        "line": 74,
        "fullcodeline": "AlreadyRegistered { .path = initialInfo.known->path });"
    },
    {
        "line": 80,
        "fullcodeline": "if (errno == ENOENT)"
    },
    {
        "line": 108,
        "fullcodeline": "if (auto structuredAttrs = parsedDrv->getStructuredAttrs()) {"
    },
    {
        "line": 122,
        "fullcodeline": "debug(\"scanning for references for output '%s' in temp location '%s'\", outputName, actualPath);"
    },
    {
        "line": 126,
        "fullcodeline": "references = scanForReferences(blank, actualPath, referenceablePaths);"
    },
    {
        "line": 413,
        "fullcodeline": "if (buildMode == bmRepair) {"
    },
    {
        "line": 438,
        "fullcodeline": "if (newInfo.narHash != oldInfo.narHash) {"
    },
    {
        "line": 469,
        "fullcodeline": "if (references.count(i))"
    },
    {
        "line": 488,
        "fullcodeline": "localStore.registerValidPaths({{newInfo.path, newInfo}});"
    },
    {
        "line": 55,
        "fullcodeline": "worker.store.printStorePath(drvPath), outputName);"
    },
    {
        "line": 65,
        "fullcodeline": "worker.store.printStorePath(drvPath), outputName);"
    },
    {
        "line": 416,
        "fullcodeline": "actualPath = worker.store.toRealPath(finalDestPath);"
    },
    {
        "line": 436,
        "fullcodeline": "if (!worker.store.isValidPath(newInfo.path)) continue;"
    },
    {
        "line": 437,
        "fullcodeline": "ValidPathInfo oldInfo(*worker.store.queryPathInfo(newInfo.path));"
    },
    {
        "line": 459,
        "fullcodeline": "oldInfo.ultimate = true;"
    },
    {
        "line": 460,
        "fullcodeline": "localStore.signPathInfo(oldInfo);"
    },
    {
        "line": 534,
        "fullcodeline": ".id = DrvOutput {"
    },
    {
        "line": 538,
        "fullcodeline": ".outPath = newInfo.path"
    },
    {
        "line": 109,
        "fullcodeline": "if (auto udr = get(*structuredAttrs, \"unsafeDiscardReferences\")) {"
    },
    {
        "line": 415,
        "fullcodeline": "replaceValidPath(worker.store.toRealPath(finalDestPath), actualPath);"
    },
    {
        "line": 461,
        "fullcodeline": "localStore.registerValidPaths({{oldInfo.path, oldInfo}});"
    },
    {
        "line": 470,
        "fullcodeline": "debug(\"referenced input: '%1%'\", worker.store.printStorePath(i));"
    },
    {
        "line": 83,
        "fullcodeline": "worker.store.printStorePath(drvPath), outputName, actualPath);"
    },
    {
        "line": 110,
        "fullcodeline": "if (auto output = get(*udr, outputName)) {"
    },
    {
        "line": 417,
        "fullcodeline": "} else if (buildMode == bmCheck) {"
    },
    {
        "line": 441,
        "fullcodeline": "auto dst = worker.store.toRealPath(finalDestPath + checkSuffix);"
    },
    {
        "line": 442,
        "fullcodeline": "deletePath(dst);"
    },
    {
        "line": 443,
        "fullcodeline": "movePath(actualPath, dst);"
    },
    {
        "line": 445,
        "fullcodeline": "handleDiffHook("
    },
    {
        "line": 472,
        "fullcodeline": "debug(\"unreferenced input: '%1%'\", worker.store.printStorePath(i));"
    },
    {
        "line": 113,
        "fullcodeline": "discardReferences = output->get<bool>();"
    },
    {
        "line": 448,
        "fullcodeline": "finalDestPath, dst, worker.store.printStorePath(drvPath), tmpDir);"
    },
    {
        "line": 111,
        "fullcodeline": "if (!output->is_boolean())"
    },
    {
        "line": 446,
        "fullcodeline": "buildUser ? buildUser->getUID() : getuid(),"
    },
    {
        "line": 447,
        "fullcodeline": "buildUser ? buildUser->getGID() : getgid(),"
    },
    {
        "line": 451,
        "fullcodeline": "worker.store.printStorePath(drvPath), worker.store.toRealPath(finalDestPath), dst);"
    },
    {
        "line": 420,
        "fullcodeline": "} else if (worker.store.isValidPath(newInfo.path)) {"
    },
    {
        "line": 454,
        "fullcodeline": "worker.store.printStorePath(drvPath), worker.store.toRealPath(finalDestPath));"
    },
    {
        "line": 112,
        "fullcodeline": "throw Error(\"attribute 'unsafeDiscardReferences.\\\"%s\\\"' of derivation '%s' must be a Boolean\", outputName, drvPath.to_string());"
    },
    {
        "line": 423,
        "fullcodeline": "assert(newInfo.ca);"
    },
    {
        "line": 425,
        "fullcodeline": "auto destPath = worker.store.toRealPath(finalDestPath);"
    },
    {
        "line": 426,
        "fullcodeline": "deletePath(destPath);"
    },
    {
        "line": 427,
        "fullcodeline": "movePath(actualPath, destPath);"
    },
    {
        "line": 428,
        "fullcodeline": "actualPath = destPath;"
    }
]