[
    {
        "line": 4,
        "fullcodeline": "TF_RETURN_IF_ERROR(ConstantInput(index, &literal, mode));"
    },
    {
        "line": 5,
        "fullcodeline": "std::vector<int64_t> dims;"
    },
    {
        "line": 6,
        "fullcodeline": "TF_RETURN_IF_ERROR(LiteralToInt64Vector(literal, &dims));"
    },
    {
        "line": 8,
        "fullcodeline": "int64_t num_elements = 1;"
    },
    {
        "line": 17,
        "fullcodeline": "*shape = TensorShape(dims);"
    },
    {
        "line": 9,
        "fullcodeline": "for (auto i = dims.begin(); i != dims.end(); ++i) {"
    },
    {
        "line": 18,
        "fullcodeline": "return OkStatus();"
    },
    {
        "line": 10,
        "fullcodeline": "num_elements = MultiplyWithoutOverflow(num_elements, *i);"
    },
    {
        "line": 11,
        "fullcodeline": "if (num_elements < 0)"
    },
    {
        "line": 12,
        "fullcodeline": "return errors::InvalidArgument("
    }
]