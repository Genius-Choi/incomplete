[
    {
        "line": 5,
        "fullcodeline": "int length = string->length;"
    },
    {
        "line": 6,
        "fullcodeline": "FriBidiChar *logical = NULL; /* input fribidi unicode buffer */"
    },
    {
        "line": 7,
        "fullcodeline": "FriBidiChar *visual = NULL;      /* output fribidi unicode buffer */"
    },
    {
        "line": 8,
        "fullcodeline": "FriBidiStrIndex new_len = 0; /* length of the UTF-8 buffer */"
    },
    {
        "line": 9,
        "fullcodeline": "PyUnicodeObject *result = NULL;"
    },
    {
        "line": 15,
        "fullcodeline": "logical = PyMem_New (FriBidiChar, length + 1);"
    },
    {
        "line": 21,
        "fullcodeline": "visual = PyMem_New (FriBidiChar, length + 1);"
    },
    {
        "line": 32,
        "fullcodeline": "fribidi_set_reorder_nsm(reordernsm);"
    },
    {
        "line": 47,
        "fullcodeline": "result = (PyUnicodeObject*) PyUnicode_FromUnicode(NULL, length);"
    },
    {
        "line": 58,
        "fullcodeline": "PyMem_Del (logical);"
    },
    {
        "line": 59,
        "fullcodeline": "PyMem_Del (visual);"
    },
    {
        "line": 16,
        "fullcodeline": "if (logical == NULL) {"
    },
    {
        "line": 22,
        "fullcodeline": "if (visual == NULL) {"
    },
    {
        "line": 27,
        "fullcodeline": "for (i=0; i<length; ++i) {"
    },
    {
        "line": 34,
        "fullcodeline": "if (!fribidi_log2vis (logical, length, &base_direction, visual,"
    },
    {
        "line": 48,
        "fullcodeline": "if (result == NULL) {"
    },
    {
        "line": 52,
        "fullcodeline": "for (i=0; i<length; ++i) {"
    },
    {
        "line": 61,
        "fullcodeline": "return (PyObject *)result;"
    },
    {
        "line": 17,
        "fullcodeline": "PyErr_NoMemory();"
    },
    {
        "line": 23,
        "fullcodeline": "PyErr_NoMemory();"
    },
    {
        "line": 37,
        "fullcodeline": "PyErr_SetString (PyExc_RuntimeError,"
    },
    {
        "line": 44,
        "fullcodeline": "length = fribidi_remove_bidi_marks (visual, length, NULL, NULL, NULL);"
    },
    {
        "line": 53,
        "fullcodeline": "result->str[i] = visual[i];"
    }
]