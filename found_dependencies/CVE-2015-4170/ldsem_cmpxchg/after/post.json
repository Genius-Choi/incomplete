[
    {
        "line": 3,
        "fullcodeline": "long tmp = atomic_long_cmpxchg(&sem->count, *old, new);"
    },
    {
        "line": 4,
        "fullcodeline": "if (tmp == *old) {"
    },
    {
        "line": 5,
        "fullcodeline": "*old = new;"
    },
    {
        "line": 8,
        "fullcodeline": "*old = tmp;"
    }
]