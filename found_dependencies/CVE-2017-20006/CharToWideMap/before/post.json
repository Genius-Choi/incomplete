[
    {
        "line": 6,
        "fullcodeline": "Success=false;"
    },
    {
        "line": 7,
        "fullcodeline": "bool MarkAdded=false;"
    },
    {
        "line": 8,
        "fullcodeline": "uint SrcPos=0,DestPos=0;"
    },
    {
        "line": 44,
        "fullcodeline": "Dest[Min(DestPos,DestSize-1)]=0;"
    },
    {
        "line": 9,
        "fullcodeline": "while (DestPos<DestSize)"
    },
    {
        "line": 17,
        "fullcodeline": "memset(&ps,0,sizeof(ps));"
    },
    {
        "line": 11,
        "fullcodeline": "if (Src[SrcPos]==0)"
    },
    {
        "line": 18,
        "fullcodeline": "if (mbrtowc(Dest+DestPos,Src+SrcPos,MB_CUR_MAX,&ps)==-1)"
    },
    {
        "line": 13,
        "fullcodeline": "Success=true;"
    },
    {
        "line": 22,
        "fullcodeline": "if (byte(Src[SrcPos])>=0x80)"
    },
    {
        "line": 38,
        "fullcodeline": "memset(&ps,0,sizeof(ps));"
    },
    {
        "line": 39,
        "fullcodeline": "int Length=mbrlen(Src+SrcPos,MB_CUR_MAX,&ps);"
    },
    {
        "line": 40,
        "fullcodeline": "SrcPos+=Max(Length,1);"
    },
    {
        "line": 41,
        "fullcodeline": "DestPos++;"
    },
    {
        "line": 31,
        "fullcodeline": "Dest[DestPos++]=byte(Src[SrcPos++])+MapAreaStart;"
    },
    {
        "line": 24,
        "fullcodeline": "if (!MarkAdded)"
    },
    {
        "line": 26,
        "fullcodeline": "Dest[DestPos++]=MappedStringMark;"
    },
    {
        "line": 27,
        "fullcodeline": "MarkAdded=true;"
    },
    {
        "line": 28,
        "fullcodeline": "if (DestPos>=DestSize)"
    }
]