[
    {
        "line": 7,
        "fullcodeline": "bool alloc_ok = true;"
    },
    {
        "line": 9,
        "fullcodeline": "needed = (h->resv_huge_pages + delta) - h->free_huge_pages;"
    },
    {
        "line": 15,
        "fullcodeline": "allocated = 0;"
    },
    {
        "line": 16,
        "fullcodeline": "INIT_LIST_HEAD(&surplus_list);"
    },
    {
        "line": 18,
        "fullcodeline": "ret = -ENOMEM;"
    },
    {
        "line": 20,
        "fullcodeline": "spin_unlock(&hugetlb_lock);"
    },
    {
        "line": 29,
        "fullcodeline": "allocated += i;"
    },
    {
        "line": 35,
        "fullcodeline": "spin_lock(&hugetlb_lock);"
    },
    {
        "line": 36,
        "fullcodeline": "needed = (h->resv_huge_pages + delta) -"
    },
    {
        "line": 56,
        "fullcodeline": "needed += allocated;"
    },
    {
        "line": 57,
        "fullcodeline": "h->resv_huge_pages += delta;"
    },
    {
        "line": 58,
        "fullcodeline": "ret = 0;"
    },
    {
        "line": 61,
        "fullcodeline": "list_for_each_entry_safe(page, tmp, &surplus_list, lru) {"
    },
    {
        "line": 74,
        "fullcodeline": "spin_unlock(&hugetlb_lock);"
    },
    {
        "line": 10,
        "fullcodeline": "if (needed <= 0) {"
    },
    {
        "line": 21,
        "fullcodeline": "for (i = 0; i < needed; i++) {"
    },
    {
        "line": 38,
        "fullcodeline": "if (needed > 0) {"
    },
    {
        "line": 64,
        "fullcodeline": "list_del(&page->lru);"
    },
    {
        "line": 69,
        "fullcodeline": "put_page_testzero(page);"
    },
    {
        "line": 71,
        "fullcodeline": "enqueue_huge_page(h, page);"
    },
    {
        "line": 11,
        "fullcodeline": "h->resv_huge_pages += delta;"
    },
    {
        "line": 22,
        "fullcodeline": "page = alloc_buddy_huge_page(h, NUMA_NO_NODE);"
    },
    {
        "line": 27,
        "fullcodeline": "list_add(&page->lru, &surplus_list);"
    },
    {
        "line": 70,
        "fullcodeline": "VM_BUG_ON(page_count(page));"
    },
    {
        "line": 77,
        "fullcodeline": "if (!list_empty(&surplus_list)) {"
    },
    {
        "line": 78,
        "fullcodeline": "list_for_each_entry_safe(page, tmp, &surplus_list, lru) {"
    },
    {
        "line": 23,
        "fullcodeline": "if (!page) {"
    },
    {
        "line": 62,
        "fullcodeline": "if ((--needed) < 0)"
    },
    {
        "line": 24,
        "fullcodeline": "alloc_ok = false;"
    }
]