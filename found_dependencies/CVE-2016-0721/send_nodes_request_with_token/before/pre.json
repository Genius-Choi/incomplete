[
    {
        "line": 2,
        "fullcodeline": "out = \"\""
    },
    {
        "line": 3,
        "fullcodeline": "code = 0"
    },
    {
        "line": 4,
        "fullcodeline": "$logger.info(\"SNRWT: \" + request)"
    },
    {
        "line": 1,
        "fullcodeline": "def send_nodes_request_with_token(session, nodes, request, post=false, data={}, remote=true, raw_data=nil)"
    },
    {
        "line": 8,
        "fullcodeline": "if request == \"/remove_nodes\""
    },
    {
        "line": 9,
        "fullcodeline": "new_nodes = nodes.dup"
    },
    {
        "line": 10,
        "fullcodeline": "data.each {|k,v|"
    },
    {
        "line": 22,
        "fullcodeline": "code, out = send_request_with_token("
    },
    {
        "line": 37,
        "fullcodeline": "log = \"SNRWT Node #{node} Request #{request}\""
    },
    {
        "line": 15,
        "fullcodeline": "if new_nodes.length > 0"
    },
    {
        "line": 21,
        "fullcodeline": "$logger.info \"SNRWT Node: #{node} Request: #{request}\""
    },
    {
        "line": 46,
        "fullcodeline": "if '{\"pacemaker_not_running\":true}' == out"
    },
    {
        "line": 54,
        "fullcodeline": "$logger.info(\"#{log}: HTTP code #{code}\")"
    },
    {
        "line": 16,
        "fullcodeline": "nodes = new_nodes"
    },
    {
        "line": 38,
        "fullcodeline": "if (404 == code) or (code >= 500 and code <= 599)"
    },
    {
        "line": 42,
        "fullcodeline": "if (401 == code) or ('{\"notoken\":true}' == out)"
    },
    {
        "line": 39,
        "fullcodeline": "$logger.info(\"#{log}: HTTP code #{code}\")"
    },
    {
        "line": 43,
        "fullcodeline": "$logger.info(\"#{log}: Bad or missing token\")"
    },
    {
        "line": 47,
        "fullcodeline": "$logger.info(\"#{log}: Pacemaker not running\")"
    },
    {
        "line": 51,
        "fullcodeline": "$logger.info(\"#{log}: No response\")"
    }
]