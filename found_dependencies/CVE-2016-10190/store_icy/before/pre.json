[
    {
        "line": 3,
        "fullcodeline": "HTTPContext *s = h->priv_data;"
    },
    {
        "line": 5,
        "fullcodeline": "int remaining = s->icy_metaint - s->icy_data_read;"
    },
    {
        "line": 7,
        "fullcodeline": "if (remaining < 0)"
    },
    {
        "line": 10,
        "fullcodeline": "if (!remaining) {"
    },
    {
        "line": 35,
        "fullcodeline": "return FFMIN(size, remaining);"
    },
    {
        "line": 16,
        "fullcodeline": "int len = http_read_stream_all(h, &ch, 1);"
    },
    {
        "line": 32,
        "fullcodeline": "remaining        = s->icy_metaint;"
    },
    {
        "line": 17,
        "fullcodeline": "if (len < 0)"
    },
    {
        "line": 19,
        "fullcodeline": "if (ch > 0) {"
    },
    {
        "line": 20,
        "fullcodeline": "char data[255 * 16 + 1];"
    },
    {
        "line": 22,
        "fullcodeline": "len = ch * 16;"
    },
    {
        "line": 23,
        "fullcodeline": "ret = http_read_stream_all(h, data, len);"
    },
    {
        "line": 26,
        "fullcodeline": "data[len + 1] = 0;"
    },
    {
        "line": 29,
        "fullcodeline": "update_metadata(s, data);"
    },
    {
        "line": 24,
        "fullcodeline": "if (ret < 0)"
    },
    {
        "line": 27,
        "fullcodeline": "if ((ret = av_opt_set(s, \"icy_metadata_packet\", data, 0)) < 0)"
    }
]