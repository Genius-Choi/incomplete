[
    {
        "line": 5,
        "fullcodeline": "int ret, pos = 0;"
    },
    {
        "line": 8,
        "fullcodeline": "buf = kmalloc(sizeof(*hx), GFP_KERNEL);"
    },
    {
        "line": 11,
        "fullcodeline": "hx = (struct hexline *)buf;"
    },
    {
        "line": 14,
        "fullcodeline": "buf[0] = 1;"
    },
    {
        "line": 45,
        "fullcodeline": "kfree(buf);"
    },
    {
        "line": 9,
        "fullcodeline": "if (!buf)"
    },
    {
        "line": 15,
        "fullcodeline": "if (usb_cypress_writemem(udev, cpu_cs_register, buf, 1) != 1)"
    },
    {
        "line": 18,
        "fullcodeline": "while ((ret = dvb_usb_get_hexline(fw, hx, &pos)) > 0) {"
    },
    {
        "line": 29,
        "fullcodeline": "if (ret < 0) {"
    },
    {
        "line": 35,
        "fullcodeline": "if (ret == 0) {"
    },
    {
        "line": 16,
        "fullcodeline": "err(\"could not stop the USB controller CPU.\");"
    },
    {
        "line": 19,
        "fullcodeline": "deb_fw(\"writing to address 0x%04x (buffer: 0x%02x %02x)\\n\", hx->addr, hx->len, hx->chk);"
    },
    {
        "line": 20,
        "fullcodeline": "ret = usb_cypress_writemem(udev, hx->addr, hx->data, hx->len);"
    },
    {
        "line": 30,
        "fullcodeline": "err(\"firmware download failed at %d with %d\",pos,ret);"
    },
    {
        "line": 31,
        "fullcodeline": "kfree(buf);"
    },
    {
        "line": 37,
        "fullcodeline": "buf[0] = 0;"
    },
    {
        "line": 10,
        "fullcodeline": "return -ENOMEM;"
    },
    {
        "line": 22,
        "fullcodeline": "if (ret != hx->len) {"
    },
    {
        "line": 38,
        "fullcodeline": "if (usb_cypress_writemem(udev, cpu_cs_register, buf, 1) != 1) {"
    },
    {
        "line": 43,
        "fullcodeline": "ret = -EIO;"
    },
    {
        "line": 23,
        "fullcodeline": "err(\"error while transferring firmware (transferred size: %d, block size: %d)\","
    },
    {
        "line": 25,
        "fullcodeline": "ret = -EINVAL;"
    },
    {
        "line": 39,
        "fullcodeline": "err(\"could not restart the USB controller CPU.\");"
    },
    {
        "line": 40,
        "fullcodeline": "ret = -EINVAL;"
    }
]