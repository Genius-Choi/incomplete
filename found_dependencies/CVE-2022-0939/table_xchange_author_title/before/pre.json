[
    {
        "line": 2,
        "fullcodeline": "vals = request.get_json().get('xchange')"
    },
    {
        "line": 4,
        "fullcodeline": "for val in vals:"
    },
    {
        "line": 36,
        "fullcodeline": "return json.dumps({'success': True})"
    },
    {
        "line": 5,
        "fullcodeline": "modif_date = False"
    },
    {
        "line": 6,
        "fullcodeline": "book = calibre_db.get_book(val)"
    },
    {
        "line": 7,
        "fullcodeline": "authors = book.title"
    },
    {
        "line": 8,
        "fullcodeline": "book.authors = calibre_db.order_authors([book])"
    },
    {
        "line": 9,
        "fullcodeline": "author_names = []"
    },
    {
        "line": 13,
        "fullcodeline": "title_change = handle_title_on_edit(book, \" \".join(author_names))"
    },
    {
        "line": 10,
        "fullcodeline": "for authr in book.authors:"
    },
    {
        "line": 14,
        "fullcodeline": "input_authors, authorchange, renamed = handle_author_on_edit(book, authors)"
    },
    {
        "line": 15,
        "fullcodeline": "if authorchange or title_change:"
    },
    {
        "line": 16,
        "fullcodeline": "edited_books_id = book.id"
    },
    {
        "line": 17,
        "fullcodeline": "modif_date = True"
    },
    {
        "line": 20,
        "fullcodeline": "gdriveutils.updateGdriveCalibreFromLocal()"
    },
    {
        "line": 23,
        "fullcodeline": "helper.update_dir_structure(edited_books_id, config.config_calibre_dir, input_authors[0],"
    },
    {
        "line": 26,
        "fullcodeline": "book.last_modified = datetime.utcnow()"
    },
    {
        "line": 35,
        "fullcodeline": "gdriveutils.updateGdriveCalibreFromLocal()"
    },
    {
        "line": 11,
        "fullcodeline": "author_names.append(authr.name.replace('|', ','))"
    },
    {
        "line": 28,
        "fullcodeline": "calibre_db.session.commit()"
    },
    {
        "line": 31,
        "fullcodeline": "log.error_or_exception(\"Database error: %s\", e)"
    },
    {
        "line": 30,
        "fullcodeline": "calibre_db.session.rollback()"
    },
    {
        "line": 32,
        "fullcodeline": "return json.dumps({'success': False})"
    }
]