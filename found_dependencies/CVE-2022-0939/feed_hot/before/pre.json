[
    {
        "line": 2,
        "fullcodeline": "off = request.args.get(\"offset\") or 0"
    },
    {
        "line": 3,
        "fullcodeline": "all_books = ub.session.query(ub.Downloads, func.count(ub.Downloads.book_id)).order_by("
    },
    {
        "line": 5,
        "fullcodeline": "hot_books = all_books.offset(off).limit(config.config_books_per_page)"
    },
    {
        "line": 6,
        "fullcodeline": "entries = list()"
    },
    {
        "line": 15,
        "fullcodeline": "numBooks = entries.__len__()"
    },
    {
        "line": 16,
        "fullcodeline": "pagination = Pagination((int(off) / (int(config.config_books_per_page)) + 1),"
    },
    {
        "line": 7,
        "fullcodeline": "for book in hot_books:"
    },
    {
        "line": 18,
        "fullcodeline": "return render_xml_template('feed.xml', entries=entries, pagination=pagination)"
    },
    {
        "line": 8,
        "fullcodeline": "downloadBook = calibre_db.get_book(book.Downloads.book_id)"
    },
    {
        "line": 10,
        "fullcodeline": "entries.append("
    },
    {
        "line": 14,
        "fullcodeline": "ub.delete_download(book.Downloads.book_id)"
    },
    {
        "line": 4,
        "fullcodeline": "func.count(ub.Downloads.book_id).desc()).group_by(ub.Downloads.book_id)"
    },
    {
        "line": 11,
        "fullcodeline": "calibre_db.get_filtered_book(book.Downloads.book_id)"
    }
]