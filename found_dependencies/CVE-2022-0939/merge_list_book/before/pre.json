[
    {
        "line": 2,
        "fullcodeline": "vals = request.get_json().get('Merge_books')"
    },
    {
        "line": 3,
        "fullcodeline": "to_file = list()"
    },
    {
        "line": 6,
        "fullcodeline": "to_book = calibre_db.get_book(vals[0])"
    },
    {
        "line": 7,
        "fullcodeline": "vals.pop(0)"
    },
    {
        "line": 11,
        "fullcodeline": "to_name = helper.get_valid_filename(to_book.title, chars=96) + ' - ' + \\"
    },
    {
        "line": 9,
        "fullcodeline": "for file in to_book.data:"
    },
    {
        "line": 13,
        "fullcodeline": "for book_id in vals:"
    },
    {
        "line": 12,
        "fullcodeline": "helper.get_valid_filename(to_book.authors[0].name, chars=96)"
    },
    {
        "line": 10,
        "fullcodeline": "to_file.append(file.format)"
    },
    {
        "line": 14,
        "fullcodeline": "from_book = calibre_db.get_book(book_id)"
    },
    {
        "line": 30,
        "fullcodeline": "delete_book_from_table(from_book.id,\"\", True)"
    },
    {
        "line": 16,
        "fullcodeline": "for element in from_book.data:"
    },
    {
        "line": 31,
        "fullcodeline": "return json.dumps({'success': True})"
    },
    {
        "line": 17,
        "fullcodeline": "if element.format not in to_file:"
    },
    {
        "line": 19,
        "fullcodeline": "filepath_new = os.path.normpath(os.path.join(config.config_calibre_dir,"
    },
    {
        "line": 22,
        "fullcodeline": "filepath_old = os.path.normpath(os.path.join(config.config_calibre_dir,"
    },
    {
        "line": 25,
        "fullcodeline": "copyfile(filepath_old, filepath_new)"
    },
    {
        "line": 26,
        "fullcodeline": "to_book.data.append(db.Data(to_book.id,"
    },
    {
        "line": 21,
        "fullcodeline": "to_name + \".\" + element.format.lower()))"
    },
    {
        "line": 24,
        "fullcodeline": "element.name + \".\" + element.format.lower()))"
    }
]