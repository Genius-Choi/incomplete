[
    {
        "line": 2,
        "fullcodeline": "vals = request.get_json().get('Merge_books')"
    },
    {
        "line": 3,
        "fullcodeline": "to_file = list()"
    },
    {
        "line": 6,
        "fullcodeline": "to_book = calibre_db.get_book(vals[0])"
    },
    {
        "line": 7,
        "fullcodeline": "vals.pop(0)"
    },
    {
        "line": 11,
        "fullcodeline": "to_name = helper.get_valid_filename(to_book.title,"
    },
    {
        "line": 9,
        "fullcodeline": "for file in to_book.data:"
    },
    {
        "line": 14,
        "fullcodeline": "for book_id in vals:"
    },
    {
        "line": 12,
        "fullcodeline": "chars=96) + ' - ' + helper.get_valid_filename(to_book.authors[0].name,"
    },
    {
        "line": 10,
        "fullcodeline": "to_file.append(file.format)"
    },
    {
        "line": 15,
        "fullcodeline": "from_book = calibre_db.get_book(book_id)"
    },
    {
        "line": 31,
        "fullcodeline": "delete_book_from_table(from_book.id, \"\", True)"
    },
    {
        "line": 17,
        "fullcodeline": "for element in from_book.data:"
    },
    {
        "line": 32,
        "fullcodeline": "return json.dumps({'success': True})"
    },
    {
        "line": 18,
        "fullcodeline": "if element.format not in to_file:"
    },
    {
        "line": 20,
        "fullcodeline": "filepath_new = os.path.normpath(os.path.join(config.config_calibre_dir,"
    },
    {
        "line": 23,
        "fullcodeline": "filepath_old = os.path.normpath(os.path.join(config.config_calibre_dir,"
    },
    {
        "line": 26,
        "fullcodeline": "copyfile(filepath_old, filepath_new)"
    },
    {
        "line": 27,
        "fullcodeline": "to_book.data.append(db.Data(to_book.id,"
    },
    {
        "line": 22,
        "fullcodeline": "to_name + \".\" + element.format.lower()))"
    },
    {
        "line": 25,
        "fullcodeline": "element.name + \".\" + element.format.lower()))"
    }
]