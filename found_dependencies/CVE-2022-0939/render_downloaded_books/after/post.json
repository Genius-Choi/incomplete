[
    {
        "line": 2,
        "fullcodeline": "if current_user.role_admin():"
    },
    {
        "line": 6,
        "fullcodeline": "if current_user.check_visibility(constants.SIDEBAR_DOWNLOAD):"
    },
    {
        "line": 3,
        "fullcodeline": "user_id = int(user_id)"
    },
    {
        "line": 5,
        "fullcodeline": "user_id = current_user.id"
    },
    {
        "line": 27,
        "fullcodeline": "user = ub.session.query(ub.User).filter(ub.User.id == user_id).first()"
    },
    {
        "line": 37,
        "fullcodeline": "abort(404)"
    },
    {
        "line": 7,
        "fullcodeline": "if current_user.show_detail_random():"
    },
    {
        "line": 13,
        "fullcodeline": "entries, __, pagination = calibre_db.fill_indexpage(page,"
    },
    {
        "line": 23,
        "fullcodeline": "for book in entries:"
    },
    {
        "line": 28,
        "fullcodeline": "return render_title_template('index.html',"
    },
    {
        "line": 8,
        "fullcodeline": "random = calibre_db.session.query(db.Books).filter(calibre_db.common_filters()) \\"
    },
    {
        "line": 11,
        "fullcodeline": "random = false()"
    },
    {
        "line": 33,
        "fullcodeline": "title=_(u\"Downloaded books by %(user)s\", user=user.name),"
    },
    {
        "line": 16,
        "fullcodeline": "ub.Downloads.user_id == user_id,"
    },
    {
        "line": 22,
        "fullcodeline": "ub.Downloads, db.Books.id == ub.Downloads.book_id)"
    },
    {
        "line": 24,
        "fullcodeline": "if not calibre_db.session.query(db.Books).\\"
    },
    {
        "line": 26,
        "fullcodeline": "ub.delete_download(book.id)"
    },
    {
        "line": 9,
        "fullcodeline": ".order_by(func.random()).limit(config.config_random_books)"
    },
    {
        "line": 25,
        "fullcodeline": "filter(calibre_db.common_filters()).filter(db.Books.id == book.id).first():"
    }
]