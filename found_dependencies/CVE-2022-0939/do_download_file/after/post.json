[
    {
        "line": 4,
        "fullcodeline": "df = gd.getFileFromEbooksFolder(book.path, data.name + \".\" + book_format)"
    },
    {
        "line": 11,
        "fullcodeline": "filename = os.path.join(config.config_calibre_dir, book.path)"
    },
    {
        "line": 19,
        "fullcodeline": "response = make_response(send_from_directory(filename, data.name + \".\" + book_format))"
    },
    {
        "line": 23,
        "fullcodeline": "log.info('Downloading file: {}'.format(os.path.join(filename, data.name + \".\" + book_format)))"
    },
    {
        "line": 12,
        "fullcodeline": "if not os.path.isfile(os.path.join(filename, data.name + \".\" + book_format)):"
    },
    {
        "line": 16,
        "fullcodeline": "if client == \"kobo\" and book_format == \"kepub\":"
    },
    {
        "line": 21,
        "fullcodeline": "for element in headers:"
    },
    {
        "line": 9,
        "fullcodeline": "abort(404)"
    },
    {
        "line": 14,
        "fullcodeline": "log.error('File not found: %s', os.path.join(filename, data.name + \".\" + book_format))"
    },
    {
        "line": 17,
        "fullcodeline": "headers[\"Content-Disposition\"] = headers[\"Content-Disposition\"].replace(\".kepub\", \".kepub.epub\")"
    },
    {
        "line": 7,
        "fullcodeline": "return gd.do_gdrive_download(df, headers)"
    },
    {
        "line": 22,
        "fullcodeline": "response.headers[element[0]] = element[1]"
    }
]