[
    {
        "line": 2,
        "fullcodeline": "valid_filename_authors = [get_valid_filename(r, chars=96) for r in renamed_author]"
    },
    {
        "line": 3,
        "fullcodeline": "for r in renamed_author:"
    },
    {
        "line": 9,
        "fullcodeline": "for book in all_books:"
    },
    {
        "line": 5,
        "fullcodeline": "all_books = [local_book]"
    },
    {
        "line": 7,
        "fullcodeline": "all_books = calibre_db.session.query(db.Books) \\"
    },
    {
        "line": 10,
        "fullcodeline": "book_author_path = book.path.split('/')[0]"
    },
    {
        "line": 11,
        "fullcodeline": "if book_author_path in valid_filename_authors or local_book:"
    },
    {
        "line": 12,
        "fullcodeline": "new_author = calibre_db.session.query(db.Authors).filter(db.Authors.name == r).first()"
    },
    {
        "line": 13,
        "fullcodeline": "all_new_authordir = get_valid_filename(new_author.name, chars=96)"
    },
    {
        "line": 14,
        "fullcodeline": "all_titledir = book.path.split('/')[1]"
    },
    {
        "line": 15,
        "fullcodeline": "all_new_path = os.path.join(calibre_path, all_new_authordir, all_titledir)"
    },
    {
        "line": 16,
        "fullcodeline": "all_new_name = get_valid_filename(book.title, chars=42) + ' - ' \\"
    },
    {
        "line": 19,
        "fullcodeline": "book.path = os.path.join(all_new_authordir, all_titledir).replace('\\\\', '/')"
    },
    {
        "line": 20,
        "fullcodeline": "for file_format in book.data:"
    },
    {
        "line": 17,
        "fullcodeline": "+ get_valid_filename(new_author.name, chars=42)"
    },
    {
        "line": 8,
        "fullcodeline": ".filter(db.Books.authors.any(db.Authors.name == r)).all()"
    },
    {
        "line": 35,
        "fullcodeline": "file_format.name = all_new_name"
    },
    {
        "line": 21,
        "fullcodeline": "if not gdrive:"
    },
    {
        "line": 22,
        "fullcodeline": "shutil.move(os.path.normcase(os.path.join(all_new_path,"
    },
    {
        "line": 27,
        "fullcodeline": "g_file = gd.getFileFromEbooksFolder(all_new_path,"
    },
    {
        "line": 24,
        "fullcodeline": "os.path.normcase(os.path.join(all_new_path,"
    },
    {
        "line": 28,
        "fullcodeline": "file_format.name + '.' + file_format.format.lower())"
    },
    {
        "line": 30,
        "fullcodeline": "gd.moveGdriveFileRemote(g_file, all_new_name + u'.' + file_format.format.lower())"
    },
    {
        "line": 31,
        "fullcodeline": "gd.updateDatabaseOnEdit(g_file['id'], all_new_name + u'.' + file_format.format.lower())"
    },
    {
        "line": 33,
        "fullcodeline": "log.error(\"File {} not found on gdrive\""
    },
    {
        "line": 23,
        "fullcodeline": "file_format.name + '.' + file_format.format.lower())),"
    },
    {
        "line": 25,
        "fullcodeline": "all_new_name + '.' + file_format.format.lower())))"
    },
    {
        "line": 34,
        "fullcodeline": ".format(all_new_path, file_format.name + '.' + file_format.format.lower()))"
    }
]