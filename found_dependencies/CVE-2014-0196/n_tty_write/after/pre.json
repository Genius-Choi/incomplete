[
    {
        "line": 4,
        "fullcodeline": "const unsigned char *b = buf;"
    },
    {
        "line": 5,
        "fullcodeline": "DECLARE_WAITQUEUE(wait, current);"
    },
    {
        "line": 7,
        "fullcodeline": "ssize_t retval = 0;"
    },
    {
        "line": 16,
        "fullcodeline": "down_read(&tty->termios_rwsem);"
    },
    {
        "line": 19,
        "fullcodeline": "process_echoes(tty);"
    },
    {
        "line": 21,
        "fullcodeline": "add_wait_queue(&tty->write_wait, &wait);"
    },
    {
        "line": 82,
        "fullcodeline": "__set_current_state(TASK_RUNNING);"
    },
    {
        "line": 10,
        "fullcodeline": "if (L_TOSTOP(tty) && file->f_op->write != redirected_tty_write) {"
    },
    {
        "line": 87,
        "fullcodeline": "return (b - buf) ? b - buf : retval;"
    },
    {
        "line": 11,
        "fullcodeline": "retval = tty_check_change(tty);"
    },
    {
        "line": 23,
        "fullcodeline": "set_current_state(TASK_INTERRUPTIBLE);"
    },
    {
        "line": 75,
        "fullcodeline": "up_read(&tty->termios_rwsem);"
    },
    {
        "line": 79,
        "fullcodeline": "down_read(&tty->termios_rwsem);"
    },
    {
        "line": 84,
        "fullcodeline": "if (b - buf != nr && tty->fasync)"
    },
    {
        "line": 85,
        "fullcodeline": "set_bit(TTY_DO_WRITE_WAKEUP, &tty->flags);"
    },
    {
        "line": 32,
        "fullcodeline": "if (O_OPOST(tty)) {"
    },
    {
        "line": 69,
        "fullcodeline": "if (!nr)"
    },
    {
        "line": 71,
        "fullcodeline": "if (file->f_flags & O_NONBLOCK) {"
    },
    {
        "line": 25,
        "fullcodeline": "retval = -ERESTARTSYS;"
    },
    {
        "line": 28,
        "fullcodeline": "if (tty_hung_up_p(file) || (tty->link && !tty->link->count)) {"
    },
    {
        "line": 29,
        "fullcodeline": "retval = -EIO;"
    },
    {
        "line": 72,
        "fullcodeline": "retval = -EAGAIN;"
    },
    {
        "line": 33,
        "fullcodeline": "while (nr > 0) {"
    },
    {
        "line": 53,
        "fullcodeline": "struct n_tty_data *ldata = tty->disc_data;"
    },
    {
        "line": 34,
        "fullcodeline": "ssize_t num = process_output_block(tty, b, nr);"
    },
    {
        "line": 41,
        "fullcodeline": "b += num;"
    },
    {
        "line": 42,
        "fullcodeline": "nr -= num;"
    },
    {
        "line": 45,
        "fullcodeline": "c = *b;"
    },
    {
        "line": 48,
        "fullcodeline": "b++; nr--;"
    },
    {
        "line": 51,
        "fullcodeline": "tty->ops->flush_chars(tty);"
    },
    {
        "line": 55,
        "fullcodeline": "while (nr > 0) {"
    },
    {
        "line": 35,
        "fullcodeline": "if (num < 0) {"
    },
    {
        "line": 43,
        "fullcodeline": "if (nr == 0)"
    },
    {
        "line": 56,
        "fullcodeline": "mutex_lock(&ldata->output_lock);"
    },
    {
        "line": 57,
        "fullcodeline": "c = tty->ops->write(tty, b, nr);"
    },
    {
        "line": 58,
        "fullcodeline": "mutex_unlock(&ldata->output_lock);"
    },
    {
        "line": 65,
        "fullcodeline": "b += c;"
    },
    {
        "line": 66,
        "fullcodeline": "nr -= c;"
    },
    {
        "line": 38,
        "fullcodeline": "retval = num;"
    },
    {
        "line": 46,
        "fullcodeline": "if (process_output(c, tty) < 0)"
    },
    {
        "line": 59,
        "fullcodeline": "if (c < 0) {"
    },
    {
        "line": 63,
        "fullcodeline": "if (!c)"
    },
    {
        "line": 36,
        "fullcodeline": "if (num == -EAGAIN)"
    },
    {
        "line": 60,
        "fullcodeline": "retval = c;"
    }
]