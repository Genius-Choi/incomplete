[
    {
        "line": 4,
        "fullcodeline": "const unsigned char *b = buf;"
    },
    {
        "line": 5,
        "fullcodeline": "DECLARE_WAITQUEUE(wait, current);"
    },
    {
        "line": 7,
        "fullcodeline": "ssize_t retval = 0;"
    },
    {
        "line": 16,
        "fullcodeline": "down_read(&tty->termios_rwsem);"
    },
    {
        "line": 19,
        "fullcodeline": "process_echoes(tty);"
    },
    {
        "line": 21,
        "fullcodeline": "add_wait_queue(&tty->write_wait, &wait);"
    },
    {
        "line": 78,
        "fullcodeline": "__set_current_state(TASK_RUNNING);"
    },
    {
        "line": 79,
        "fullcodeline": "remove_wait_queue(&tty->write_wait, &wait);"
    },
    {
        "line": 82,
        "fullcodeline": "up_read(&tty->termios_rwsem);"
    },
    {
        "line": 10,
        "fullcodeline": "if (L_TOSTOP(tty) && file->f_op->write != redirected_tty_write) {"
    },
    {
        "line": 80,
        "fullcodeline": "if (b - buf != nr && tty->fasync)"
    },
    {
        "line": 83,
        "fullcodeline": "return (b - buf) ? b - buf : retval;"
    },
    {
        "line": 11,
        "fullcodeline": "retval = tty_check_change(tty);"
    },
    {
        "line": 23,
        "fullcodeline": "set_current_state(TASK_INTERRUPTIBLE);"
    },
    {
        "line": 71,
        "fullcodeline": "up_read(&tty->termios_rwsem);"
    },
    {
        "line": 73,
        "fullcodeline": "schedule();"
    },
    {
        "line": 75,
        "fullcodeline": "down_read(&tty->termios_rwsem);"
    },
    {
        "line": 81,
        "fullcodeline": "set_bit(TTY_DO_WRITE_WAKEUP, &tty->flags);"
    },
    {
        "line": 24,
        "fullcodeline": "if (signal_pending(current)) {"
    },
    {
        "line": 28,
        "fullcodeline": "if (tty_hung_up_p(file) || (tty->link && !tty->link->count)) {"
    },
    {
        "line": 32,
        "fullcodeline": "if (O_OPOST(tty)) {"
    },
    {
        "line": 65,
        "fullcodeline": "if (!nr)"
    },
    {
        "line": 67,
        "fullcodeline": "if (file->f_flags & O_NONBLOCK) {"
    },
    {
        "line": 25,
        "fullcodeline": "retval = -ERESTARTSYS;"
    },
    {
        "line": 29,
        "fullcodeline": "retval = -EIO;"
    },
    {
        "line": 68,
        "fullcodeline": "retval = -EAGAIN;"
    },
    {
        "line": 33,
        "fullcodeline": "while (nr > 0) {"
    },
    {
        "line": 34,
        "fullcodeline": "ssize_t num = process_output_block(tty, b, nr);"
    },
    {
        "line": 41,
        "fullcodeline": "b += num;"
    },
    {
        "line": 42,
        "fullcodeline": "nr -= num;"
    },
    {
        "line": 48,
        "fullcodeline": "b++; nr--;"
    },
    {
        "line": 51,
        "fullcodeline": "tty->ops->flush_chars(tty);"
    },
    {
        "line": 53,
        "fullcodeline": "while (nr > 0) {"
    },
    {
        "line": 35,
        "fullcodeline": "if (num < 0) {"
    },
    {
        "line": 43,
        "fullcodeline": "if (nr == 0)"
    },
    {
        "line": 46,
        "fullcodeline": "if (process_output(c, tty) < 0)"
    },
    {
        "line": 54,
        "fullcodeline": "c = tty->ops->write(tty, b, nr);"
    },
    {
        "line": 61,
        "fullcodeline": "b += c;"
    },
    {
        "line": 62,
        "fullcodeline": "nr -= c;"
    },
    {
        "line": 38,
        "fullcodeline": "retval = num;"
    },
    {
        "line": 55,
        "fullcodeline": "if (c < 0) {"
    },
    {
        "line": 59,
        "fullcodeline": "if (!c)"
    },
    {
        "line": 36,
        "fullcodeline": "if (num == -EAGAIN)"
    },
    {
        "line": 56,
        "fullcodeline": "retval = c;"
    }
]