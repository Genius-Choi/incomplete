[
    {
        "line": 3,
        "fullcodeline": "struct perf_event *event = file->private_data;"
    },
    {
        "line": 5,
        "fullcodeline": "unsigned int events = POLLHUP;"
    },
    {
        "line": 7,
        "fullcodeline": "poll_wait(file, &event->waitq, wait);"
    },
    {
        "line": 16,
        "fullcodeline": "mutex_lock(&event->mmap_mutex);"
    },
    {
        "line": 17,
        "fullcodeline": "rb = event->rb;"
    },
    {
        "line": 9,
        "fullcodeline": "if (is_event_hup(event))"
    },
    {
        "line": 19,
        "fullcodeline": "events = atomic_xchg(&rb->poll, 0);"
    }
]