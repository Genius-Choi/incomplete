[
    {
        "line": 24,
        "fullcodeline": "tmpdir.append(1, '\\0'); // double NULL-terminate for SHFileOperation"
    },
    {
        "line": 26,
        "fullcodeline": "SHFILEOPSTRUCT fos = {0};"
    },
    {
        "line": 27,
        "fullcodeline": "fos.wFunc = FO_DELETE;"
    },
    {
        "line": 28,
        "fullcodeline": "fos.pFrom = tmpdir.c_str();"
    },
    {
        "line": 29,
        "fullcodeline": "fos.fFlags = FOF_NO_UI | // Vista+-only"
    },
    {
        "line": 6,
        "fullcodeline": "if ( !Settings::ReadConfigValue(\"UpdateTempDir\", tmpdir) )"
    },
    {
        "line": 34,
        "fullcodeline": "if ( SHFileOperation(&fos) == 0 )"
    },
    {
        "line": 36,
        "fullcodeline": "Settings::DeleteConfigValue(\"UpdateTempDir\");"
    },
    {
        "line": 13,
        "fullcodeline": "if (tmpdir.find(GetUniqueTempDirectoryPrefix()) != 0)"
    },
    {
        "line": 15,
        "fullcodeline": "Settings::DeleteConfigValue(\"UpdateTempDir\");"
    }
]