[
    {
        "line": 2,
        "fullcodeline": "static const struct vt_mode mode = {"
    },
    {
        "line": 5,
        "fullcodeline": "int r, q = 0;"
    },
    {
        "line": 7,
        "fullcodeline": "r = ioctl(fd, KDSETMODE, KD_TEXT);"
    },
    {
        "line": 11,
        "fullcodeline": "r = vt_reset_keyboard(fd);"
    },
    {
        "line": 18,
        "fullcodeline": "r = ioctl(fd, VT_SETMODE, &mode);"
    },
    {
        "line": 25,
        "fullcodeline": "r = fchown(fd, 0, (gid_t) -1);"
    },
    {
        "line": 12,
        "fullcodeline": "if (r < 0) {"
    },
    {
        "line": 26,
        "fullcodeline": "if (r < 0) {"
    },
    {
        "line": 9,
        "fullcodeline": "q = log_debug_errno(errno, \"Failed to set VT in text mode, ignoring: %m\");"
    },
    {
        "line": 13,
        "fullcodeline": "log_debug_errno(r, \"Failed to reset keyboard mode, ignoring: %m\");"
    },
    {
        "line": 20,
        "fullcodeline": "log_debug_errno(errno, \"Failed to set VT_AUTO mode, ignoring: %m\");"
    },
    {
        "line": 27,
        "fullcodeline": "log_debug_errno(errno, \"Failed to chown VT, ignoring: %m\");"
    },
    {
        "line": 3,
        "fullcodeline": ".mode = VT_AUTO,"
    },
    {
        "line": 14,
        "fullcodeline": "if (q >= 0)"
    },
    {
        "line": 21,
        "fullcodeline": "if (q >= 0)"
    },
    {
        "line": 28,
        "fullcodeline": "if (q >= 0)"
    },
    {
        "line": 15,
        "fullcodeline": "q = r;"
    },
    {
        "line": 22,
        "fullcodeline": "q = -errno;"
    },
    {
        "line": 29,
        "fullcodeline": "q = -errno;"
    }
]