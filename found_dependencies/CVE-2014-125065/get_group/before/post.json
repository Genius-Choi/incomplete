[
    {
        "line": 2,
        "fullcodeline": "groups_table = db.get_table('groups')"
    },
    {
        "line": 3,
        "fullcodeline": "group = groups_table.find(name=group_name)"
    },
    {
        "line": 4,
        "fullcodeline": "rows = [x for x in group]"
    },
    {
        "line": 8,
        "fullcodeline": "userids = [\"'%s'\" % x['userid'] for x in rows if x['userid']]"
    },
    {
        "line": 9,
        "fullcodeline": "users = db.query(\"SELECT * FROM users WHERE userid IN (%s) \" % ','.join(userids))"
    },
    {
        "line": 10,
        "fullcodeline": "ret = {group_name: list(users) }"
    },
    {
        "line": 5,
        "fullcodeline": "if not rows:"
    },
    {
        "line": 6,
        "fullcodeline": "return error(404, {'error': 'Not a valid group'})"
    }
]