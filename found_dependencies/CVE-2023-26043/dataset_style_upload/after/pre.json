[
    {
        "line": 2,
        "fullcodeline": "def respond(*args, **kw):"
    },
    {
        "line": 5,
        "fullcodeline": "form = LayerStyleUploadForm(request.POST, request.FILES)"
    },
    {
        "line": 9,
        "fullcodeline": "data = form.cleaned_data"
    },
    {
        "line": 10,
        "fullcodeline": "layer = _resolve_dataset("
    },
    {
        "line": 16,
        "fullcodeline": "sld = request.FILES['sld'].read()"
    },
    {
        "line": 36,
        "fullcodeline": "name = data.get('name') or sld_name"
    },
    {
        "line": 6,
        "fullcodeline": "if not form.is_valid():"
    },
    {
        "line": 38,
        "fullcodeline": "set_dataset_style(layer, data.get('title') or name, sld)"
    },
    {
        "line": 40,
        "fullcodeline": "return respond("
    },
    {
        "line": 31,
        "fullcodeline": "sld_name = extract_name_from_sld("
    },
    {
        "line": 7,
        "fullcodeline": "return respond(errors=\"Please provide an SLD file.\")"
    },
    {
        "line": 41,
        "fullcodeline": "body={"
    },
    {
        "line": 43,
        "fullcodeline": "'style': data.get('title') or name,"
    },
    {
        "line": 34,
        "fullcodeline": "respond(errors=f\"The uploaded SLD file is not valid XML: {e}\")"
    },
    {
        "line": 25,
        "fullcodeline": "etree.XML(sld, parser=etree.XMLParser(resolve_entities=False))"
    },
    {
        "line": 22,
        "fullcodeline": "if isfile(sld):"
    },
    {
        "line": 28,
        "fullcodeline": "raise Exception("
    },
    {
        "line": 23,
        "fullcodeline": "with open(sld) as sld_file:"
    },
    {
        "line": 24,
        "fullcodeline": "sld = sld_file.read()"
    }
]