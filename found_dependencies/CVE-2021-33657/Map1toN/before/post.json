[
    {
        "line": 7,
        "fullcodeline": "SDL_Palette *pal = src->palette;"
    },
    {
        "line": 9,
        "fullcodeline": "bpp = ((dst->BytesPerPixel == 3) ? 4 : dst->BytesPerPixel);"
    },
    {
        "line": 10,
        "fullcodeline": "map = (Uint8 *) SDL_malloc(pal->ncolors * bpp);"
    },
    {
        "line": 11,
        "fullcodeline": "if (map == NULL) {"
    },
    {
        "line": 17,
        "fullcodeline": "for (i = 0; i < pal->ncolors; ++i) {"
    },
    {
        "line": 12,
        "fullcodeline": "SDL_OutOfMemory();"
    },
    {
        "line": 18,
        "fullcodeline": "Uint8 R = (Uint8) ((pal->colors[i].r * Rmod) / 255);"
    },
    {
        "line": 19,
        "fullcodeline": "Uint8 G = (Uint8) ((pal->colors[i].g * Gmod) / 255);"
    },
    {
        "line": 20,
        "fullcodeline": "Uint8 B = (Uint8) ((pal->colors[i].b * Bmod) / 255);"
    },
    {
        "line": 21,
        "fullcodeline": "Uint8 A = (Uint8) ((pal->colors[i].a * Amod) / 255);"
    },
    {
        "line": 22,
        "fullcodeline": "ASSEMBLE_RGBA(&map[i * bpp], dst->BytesPerPixel, dst, (Uint32)R, (Uint32)G, (Uint32)B, (Uint32)A);"
    }
]