[
    {
        "line": 2,
        "fullcodeline": "metadata = VideoMetadataExtractor.new(@file.path)"
    },
    {
        "line": 9,
        "fullcodeline": "update_attachment_type(metadata)"
    },
    {
        "line": 10,
        "fullcodeline": "update_options_from_metadata(metadata)"
    },
    {
        "line": 12,
        "fullcodeline": "destination = Tempfile.new([@basename, @format ? \".#{@format}\" : ''])"
    },
    {
        "line": 15,
        "fullcodeline": "@output_options = @convert_options[:output]&.dup || {}"
    },
    {
        "line": 16,
        "fullcodeline": "@input_options  = @convert_options[:input]&.dup  || {}"
    },
    {
        "line": 34,
        "fullcodeline": "command_arguments, interpolations = prepare_command(destination)"
    },
    {
        "line": 4,
        "fullcodeline": "unless metadata.valid?"
    },
    {
        "line": 5,
        "fullcodeline": "Paperclip.log(\"Unsupported file #{@file.path}\")"
    },
    {
        "line": 19,
        "fullcodeline": "when /jpg$/, /jpeg$/, /png$/, /gif$/"
    },
    {
        "line": 37,
        "fullcodeline": "command = Terrapin::CommandLine.new('ffmpeg', command_arguments.join(' '), logger: Paperclip.logger)"
    },
    {
        "line": 38,
        "fullcodeline": "command.run(interpolations)"
    },
    {
        "line": 6,
        "fullcodeline": "return File.open(@file.path)"
    },
    {
        "line": 18,
        "fullcodeline": "case @format.to_s"
    },
    {
        "line": 20,
        "fullcodeline": "@input_options['ss'] = @time"
    },
    {
        "line": 22,
        "fullcodeline": "@output_options['f']       = 'image2'"
    },
    {
        "line": 23,
        "fullcodeline": "@output_options['vframes'] = 1"
    },
    {
        "line": 24,
        "fullcodeline": "when 'mp4'"
    },
    {
        "line": 25,
        "fullcodeline": "@output_options['acodec'] = 'aac'"
    },
    {
        "line": 26,
        "fullcodeline": "@output_options['strict'] = 'experimental'"
    },
    {
        "line": 28,
        "fullcodeline": "if high_vfr?(metadata) && !eligible_to_passthrough?(metadata)"
    },
    {
        "line": 29,
        "fullcodeline": "@output_options['vsync'] = 'vfr'"
    },
    {
        "line": 30,
        "fullcodeline": "@output_options['r'] = @vfr_threshold"
    }
]