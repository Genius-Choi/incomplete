[
    {
        "line": 4,
        "fullcodeline": "@user = fetch_user_from_params("
    },
    {
        "line": 1,
        "fullcodeline": "def show(for_card: false)"
    },
    {
        "line": 2,
        "fullcodeline": "return redirect_to path('/login') if SiteSetting.hide_user_profiles_from_public && !current_user"
    },
    {
        "line": 9,
        "fullcodeline": "if guardian.can_see_profile?(@user)"
    },
    {
        "line": 31,
        "fullcodeline": "respond_to do |format|"
    },
    {
        "line": 5,
        "fullcodeline": "include_inactive: current_user.try(:staff?) || (current_user && SiteSetting.show_inactive_accounts)"
    },
    {
        "line": 11,
        "fullcodeline": "user_serializer = serializer_class.new(@user, scope: guardian, root: 'user')"
    },
    {
        "line": 13,
        "fullcodeline": "topic_id = params[:include_post_count_for].to_i"
    },
    {
        "line": 18,
        "fullcodeline": "user_serializer = HiddenProfileSerializer.new(@user, scope: guardian, root: 'user')"
    },
    {
        "line": 21,
        "fullcodeline": "if !params[:skip_track_visit] && (@user != current_user)"
    },
    {
        "line": 27,
        "fullcodeline": "if params[:external_id] && params[:external_id].ends_with?('.json')"
    },
    {
        "line": 14,
        "fullcodeline": "if topic_id != 0"
    },
    {
        "line": 28,
        "fullcodeline": "return render_json_dump(user_serializer)"
    },
    {
        "line": 10,
        "fullcodeline": "serializer_class = for_card ? UserCardSerializer : UserSerializer"
    },
    {
        "line": 15,
        "fullcodeline": "user_serializer.topic_post_count = { topic_id => Post.secured(guardian).where(topic_id: topic_id, user_id: @user.id).count }"
    }
]