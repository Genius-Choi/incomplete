[
    {
        "line": 2,
        "fullcodeline": "if ub.session.query(ub.User).filter(ub.User.role.op('&')(constants.ROLE_ADMIN) == constants.ROLE_ADMIN,"
    },
    {
        "line": 29,
        "fullcodeline": "log.warning(\"No admin user remaining, can't delete user\")"
    },
    {
        "line": 30,
        "fullcodeline": "raise Exception(_(\"No admin user remaining, can't delete user\"))"
    },
    {
        "line": 4,
        "fullcodeline": "if content.name != \"Guest\":"
    },
    {
        "line": 19,
        "fullcodeline": "kobo_entries = ub.session.query(ub.KoboReadingState).filter(ub.KoboReadingState.user_id == content.id).all()"
    },
    {
        "line": 22,
        "fullcodeline": "ub.session_commit()"
    },
    {
        "line": 23,
        "fullcodeline": "log.info(\"User {} deleted\".format(content.name))"
    },
    {
        "line": 26,
        "fullcodeline": "log.warning(_(\"Can't delete Guest User\"))"
    },
    {
        "line": 27,
        "fullcodeline": "raise Exception(_(\"Can't delete Guest User\"))"
    },
    {
        "line": 3,
        "fullcodeline": "ub.User.id != content.id).count():"
    },
    {
        "line": 7,
        "fullcodeline": "ub.session.query(ub.ReadBook).filter(content.id == ub.ReadBook.user_id).delete()"
    },
    {
        "line": 8,
        "fullcodeline": "ub.session.query(ub.Downloads).filter(content.id == ub.Downloads.user_id).delete()"
    },
    {
        "line": 9,
        "fullcodeline": "for us in ub.session.query(ub.Shelf).filter(content.id == ub.Shelf.user_id):"
    },
    {
        "line": 11,
        "fullcodeline": "ub.session.query(ub.Shelf).filter(content.id == ub.Shelf.user_id).delete()"
    },
    {
        "line": 12,
        "fullcodeline": "ub.session.query(ub.Bookmark).filter(content.id == ub.Bookmark.user_id).delete()"
    },
    {
        "line": 13,
        "fullcodeline": "ub.session.query(ub.User).filter(ub.User.id == content.id).delete()"
    },
    {
        "line": 14,
        "fullcodeline": "ub.session.query(ub.ArchivedBook).filter(ub.ArchivedBook.user_id == content.id).delete()"
    },
    {
        "line": 15,
        "fullcodeline": "ub.session.query(ub.RemoteAuthToken).filter(ub.RemoteAuthToken.user_id == content.id).delete()"
    },
    {
        "line": 16,
        "fullcodeline": "ub.session.query(ub.User_Sessions).filter(ub.User_Sessions.user_id == content.id).delete()"
    },
    {
        "line": 17,
        "fullcodeline": "ub.session.query(ub.KoboSyncedBooks).filter(ub.KoboSyncedBooks.user_id == content.id).delete()"
    },
    {
        "line": 20,
        "fullcodeline": "for kobo_entry in kobo_entries:"
    },
    {
        "line": 24,
        "fullcodeline": "return(_(\"User '%(nick)s' deleted\", nick=content.name))"
    },
    {
        "line": 10,
        "fullcodeline": "ub.session.query(ub.BookShelf).filter(us.id == ub.BookShelf.shelf).delete()"
    },
    {
        "line": 21,
        "fullcodeline": "ub.session.delete(kobo_entry)"
    }
]