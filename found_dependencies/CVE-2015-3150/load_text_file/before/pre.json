[
    {
        "line": 3,
        "fullcodeline": "int fd = open(path, O_RDONLY | ((flags & DD_OPEN_FOLLOW) ? 0 : O_NOFOLLOW));"
    },
    {
        "line": 14,
        "fullcodeline": "FILE *fp = fdopen(fd, \"r\");"
    },
    {
        "line": 18,
        "fullcodeline": "struct strbuf *buf_content = strbuf_new();"
    },
    {
        "line": 19,
        "fullcodeline": "int oneline = 0;"
    },
    {
        "line": 34,
        "fullcodeline": "char last = oneline != 0 ? buf_content->buf[buf_content->len - 1] : 0;"
    },
    {
        "line": 4,
        "fullcodeline": "if (fd == -1)"
    },
    {
        "line": 15,
        "fullcodeline": "if (!fp)"
    },
    {
        "line": 21,
        "fullcodeline": "while ((ch = fgetc(fp)) != EOF)"
    },
    {
        "line": 55,
        "fullcodeline": "return strbuf_free_nobuf(buf_content);"
    },
    {
        "line": 6,
        "fullcodeline": "if (!(flags & DD_FAIL_QUIETLY_ENOENT))"
    },
    {
        "line": 8,
        "fullcodeline": "return (flags & DD_LOAD_TEXT_RETURN_NULL_ON_FAILURE ? NULL : xstrdup(\"\"));"
    },
    {
        "line": 25,
        "fullcodeline": "if (ch == '\\n')"
    },
    {
        "line": 27,
        "fullcodeline": "if (ch == '\\0')"
    },
    {
        "line": 7,
        "fullcodeline": "perror_msg(\"Can't open file '%s'\", path);"
    },
    {
        "line": 26,
        "fullcodeline": "oneline = (oneline << 1) | 1;"
    },
    {
        "line": 28,
        "fullcodeline": "ch = ' ';"
    },
    {
        "line": 29,
        "fullcodeline": "if (isspace(ch) || ch >= ' ') /* used !iscntrl, but it failed on unicode */"
    },
    {
        "line": 30,
        "fullcodeline": "strbuf_append_char(buf_content, ch);"
    },
    {
        "line": 52,
        "fullcodeline": "strbuf_append_char(buf_content, '\\n');"
    },
    {
        "line": 42,
        "fullcodeline": "buf_content->buf[--buf_content->len] = '\\0';"
    }
]