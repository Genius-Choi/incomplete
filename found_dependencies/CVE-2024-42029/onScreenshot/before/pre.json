[
    {
        "line": 3,
        "fullcodeline": "call >> requestHandle;"
    },
    {
        "line": 6,
        "fullcodeline": "call >> appID;"
    },
    {
        "line": 9,
        "fullcodeline": "call >> parentWindow;"
    },
    {
        "line": 11,
        "fullcodeline": "std::unordered_map<std::string, sdbus::Variant> options;"
    },
    {
        "line": 12,
        "fullcodeline": "call >> options;"
    },
    {
        "line": 14,
        "fullcodeline": "Debug::log(LOG, \"[screenshot] New screenshot request:\");"
    },
    {
        "line": 15,
        "fullcodeline": "Debug::log(LOG, \"[screenshot]  | {}\", requestHandle.c_str());"
    },
    {
        "line": 16,
        "fullcodeline": "Debug::log(LOG, \"[screenshot]  | appid: {}\", appID);"
    },
    {
        "line": 18,
        "fullcodeline": "bool isInteractive = options.count(\"interactive\") && options[\"interactive\"].get<bool>() && inShellPath(\"slurp\");"
    },
    {
        "line": 21,
        "fullcodeline": "const std::string HYPR_DIR             = \"/tmp/hypr/\";"
    },
    {
        "line": 22,
        "fullcodeline": "const std::string SNAP_FILE            = \"xdph_screenshot.png\";"
    },
    {
        "line": 23,
        "fullcodeline": "const std::string FILE_PATH            = HYPR_DIR + SNAP_FILE;"
    },
    {
        "line": 24,
        "fullcodeline": "const std::string SNAP_CMD             = \"grim \" + FILE_PATH;"
    },
    {
        "line": 25,
        "fullcodeline": "const std::string SNAP_INTERACTIVE_CMD = \"grim -g \\\"$(slurp)\\\" \" + FILE_PATH;"
    },
    {
        "line": 27,
        "fullcodeline": "std::unordered_map<std::string, sdbus::Variant> results;"
    },
    {
        "line": 28,
        "fullcodeline": "results[\"uri\"] = \"file://\" + FILE_PATH;"
    },
    {
        "line": 30,
        "fullcodeline": "std::filesystem::remove(FILE_PATH);"
    },
    {
        "line": 31,
        "fullcodeline": "std::filesystem::create_directory(HYPR_DIR);"
    },
    {
        "line": 38,
        "fullcodeline": "uint32_t responseCode = std::filesystem::exists(FILE_PATH) ? 0 : 1;"
    },
    {
        "line": 40,
        "fullcodeline": "auto reply = call.createReply();"
    },
    {
        "line": 41,
        "fullcodeline": "reply << responseCode;"
    },
    {
        "line": 42,
        "fullcodeline": "reply << results;"
    },
    {
        "line": 43,
        "fullcodeline": "reply.send();"
    },
    {
        "line": 34,
        "fullcodeline": "execAndGet(SNAP_INTERACTIVE_CMD.c_str());"
    },
    {
        "line": 36,
        "fullcodeline": "execAndGet(SNAP_CMD.c_str());"
    }
]