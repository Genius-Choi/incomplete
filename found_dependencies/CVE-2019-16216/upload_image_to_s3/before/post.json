[
    {
        "line": 8,
        "fullcodeline": "conn = S3Connection(settings.S3_KEY, settings.S3_SECRET_KEY)"
    },
    {
        "line": 9,
        "fullcodeline": "bucket = get_bucket(conn, bucket_name)"
    },
    {
        "line": 10,
        "fullcodeline": "key = Key(bucket)"
    },
    {
        "line": 11,
        "fullcodeline": "key.key = file_name"
    },
    {
        "line": 12,
        "fullcodeline": "key.set_metadata(\"user_profile_id\", str(user_profile.id))"
    },
    {
        "line": 13,
        "fullcodeline": "key.set_metadata(\"realm_id\", str(user_profile.realm_id))"
    },
    {
        "line": 20,
        "fullcodeline": "key.set_contents_from_string(contents, headers=headers)  # type: ignore # https://github.com/python/typeshed/issues/1552"
    },
    {
        "line": 15,
        "fullcodeline": "if content_type is not None:"
    },
    {
        "line": 16,
        "fullcodeline": "headers = {'Content-Type': content_type}  # type: Optional[Dict[str, str]]"
    },
    {
        "line": 18,
        "fullcodeline": "headers = None"
    }
]