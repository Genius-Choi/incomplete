[
    {
        "line": 3,
        "fullcodeline": "struct passwd pwd, *pwd_ptr = NULL;"
    },
    {
        "line": 4,
        "fullcodeline": "char pwd_buf[PW_BUF_SIZE];"
    },
    {
        "line": 7,
        "fullcodeline": "static time_t config_update = 0;"
    },
    {
        "line": 8,
        "fullcodeline": "static bool no_env_cache = false;"
    },
    {
        "line": 30,
        "fullcodeline": "verbose(\"%s: get env for user %s here\", __func__, pwd.pw_name);"
    },
    {
        "line": 33,
        "fullcodeline": "new_env = env_array_user_default(pwd.pw_name, 120, 0, no_env_cache);"
    },
    {
        "line": 41,
        "fullcodeline": "env_array_merge(&new_env,"
    },
    {
        "line": 10,
        "fullcodeline": "if (config_update != conf->last_update) {"
    },
    {
        "line": 18,
        "fullcodeline": "for (i=0; i<req->envc; i++) {"
    },
    {
        "line": 22,
        "fullcodeline": "if (i >= req->envc)"
    },
    {
        "line": 34,
        "fullcodeline": "if (! new_env) {"
    },
    {
        "line": 45,
        "fullcodeline": "req->envc = envcount(new_env);"
    },
    {
        "line": 11,
        "fullcodeline": "char *sched_params = slurm_get_sched_params();"
    },
    {
        "line": 12,
        "fullcodeline": "no_env_cache = (sched_params &&"
    },
    {
        "line": 14,
        "fullcodeline": "xfree(sched_params);"
    },
    {
        "line": 15,
        "fullcodeline": "config_update = conf->last_update;"
    },
    {
        "line": 25,
        "fullcodeline": "if (slurm_getpwuid_r(req->uid, &pwd, pwd_buf, PW_BUF_SIZE, &pwd_ptr)"
    },
    {
        "line": 26,
        "fullcodeline": "|| (pwd_ptr == NULL)) {"
    },
    {
        "line": 19,
        "fullcodeline": "if (xstrcmp(req->environment[i], \"SLURM_GET_USER_ENV=1\") == 0)"
    },
    {
        "line": 28,
        "fullcodeline": "return -1;"
    },
    {
        "line": 38,
        "fullcodeline": "return -1;"
    },
    {
        "line": 13,
        "fullcodeline": "strstr(sched_params, \"no_env_cache\"));"
    }
]