[
    {
        "line": 2,
        "fullcodeline": "sds *argv = NULL;"
    },
    {
        "line": 3,
        "fullcodeline": "int argc = 0;"
    },
    {
        "line": 8,
        "fullcodeline": "sds copy = sdsdup(ldb.cbuf);"
    },
    {
        "line": 9,
        "fullcodeline": "char *p = copy;"
    },
    {
        "line": 16,
        "fullcodeline": "p = strchr(p,'*'); if (!p) goto protoerr;"
    },
    {
        "line": 17,
        "fullcodeline": "char *plen = p+1; /* Multi bulk len pointer. */"
    },
    {
        "line": 18,
        "fullcodeline": "p = strstr(p,\"\\r\\n\"); if (!p) goto protoerr;"
    },
    {
        "line": 19,
        "fullcodeline": "*p = '\\0'; p += 2;"
    },
    {
        "line": 20,
        "fullcodeline": "*argcp = atoi(plen);"
    },
    {
        "line": 24,
        "fullcodeline": "argv = zmalloc(sizeof(sds)*(*argcp));"
    },
    {
        "line": 25,
        "fullcodeline": "argc = 0;"
    },
    {
        "line": 38,
        "fullcodeline": "sdsfree(copy);"
    },
    {
        "line": 42,
        "fullcodeline": "sdsfreesplitres(argv,argc);"
    },
    {
        "line": 43,
        "fullcodeline": "sdsfree(copy);"
    },
    {
        "line": 4,
        "fullcodeline": "if (sdslen(ldb.cbuf) == 0) return NULL;"
    },
    {
        "line": 21,
        "fullcodeline": "if (*argcp <= 0 || *argcp > 1024) goto protoerr;"
    },
    {
        "line": 26,
        "fullcodeline": "while(argc < *argcp) {"
    },
    {
        "line": 28,
        "fullcodeline": "plen = p+1; /* Bulk string len pointer. */"
    },
    {
        "line": 29,
        "fullcodeline": "p = strstr(p,\"\\r\\n\"); if (!p) goto protoerr;"
    },
    {
        "line": 30,
        "fullcodeline": "*p = '\\0'; p += 2;"
    },
    {
        "line": 31,
        "fullcodeline": "int slen = atoi(plen); /* Length of this arg. */"
    },
    {
        "line": 33,
        "fullcodeline": "argv[argc++] = sdsnewlen(p,slen);"
    },
    {
        "line": 34,
        "fullcodeline": "p += slen; /* Skip the already parsed argument. */"
    },
    {
        "line": 36,
        "fullcodeline": "p += 2; /* Skip \\r\\n. */"
    },
    {
        "line": 27,
        "fullcodeline": "if (*p != '$') goto protoerr;"
    },
    {
        "line": 32,
        "fullcodeline": "if (slen <= 0 || slen > 1024) goto protoerr;"
    },
    {
        "line": 35,
        "fullcodeline": "if (p[0] != '\\r' || p[1] != '\\n') goto protoerr;"
    }
]