[
    {
        "line": 4,
        "fullcodeline": "char* err = NULL;"
    },
    {
        "line": 126,
        "fullcodeline": "sdsfreesplitres(argv,argc);"
    },
    {
        "line": 36,
        "fullcodeline": "sdsfree(ldb.cbuf);"
    },
    {
        "line": 37,
        "fullcodeline": "ldb.cbuf = sdsempty();"
    },
    {
        "line": 122,
        "fullcodeline": "sdsfreesplitres(argv,argc);"
    },
    {
        "line": 9,
        "fullcodeline": "while((argv = ldbReplParseCommand(&argc, &err)) == NULL) {"
    },
    {
        "line": 40,
        "fullcodeline": "if (!strcasecmp(argv[0],\"h\") || !strcasecmp(argv[0],\"help\")) {"
    },
    {
        "line": 10,
        "fullcodeline": "char buf[1024];"
    },
    {
        "line": 15,
        "fullcodeline": "int nread = connRead(ldb.conn,buf,sizeof(buf));"
    },
    {
        "line": 23,
        "fullcodeline": "ldb.cbuf = sdscatlen(ldb.cbuf,buf,nread);"
    },
    {
        "line": 41,
        "fullcodeline": "ldbLog(sdsnew(\"Redis Lua debugger help:\"));"
    },
    {
        "line": 42,
        "fullcodeline": "ldbLog(sdsnew(\"[h]elp               Show this help.\"));"
    },
    {
        "line": 43,
        "fullcodeline": "ldbLog(sdsnew(\"[s]tep               Run current line and stop again.\"));"
    },
    {
        "line": 44,
        "fullcodeline": "ldbLog(sdsnew(\"[n]ext               Alias for step.\"));"
    },
    {
        "line": 45,
        "fullcodeline": "ldbLog(sdsnew(\"[c]continue          Run till next breakpoint.\"));"
    },
    {
        "line": 46,
        "fullcodeline": "ldbLog(sdsnew(\"[l]list              List source code around current line.\"));"
    },
    {
        "line": 47,
        "fullcodeline": "ldbLog(sdsnew(\"[l]list [line]       List source code around [line].\"));"
    },
    {
        "line": 48,
        "fullcodeline": "ldbLog(sdsnew(\"                     line = 0 means: current position.\"));"
    },
    {
        "line": 49,
        "fullcodeline": "ldbLog(sdsnew(\"[l]list [line] [ctx] In this form [ctx] specifies how many lines\"));"
    },
    {
        "line": 50,
        "fullcodeline": "ldbLog(sdsnew(\"                     to show before/after [line].\"));"
    },
    {
        "line": 51,
        "fullcodeline": "ldbLog(sdsnew(\"[w]hole              List all source code. Alias for 'list 1 1000000'.\"));"
    },
    {
        "line": 52,
        "fullcodeline": "ldbLog(sdsnew(\"[p]rint              Show all the local variables.\"));"
    },
    {
        "line": 53,
        "fullcodeline": "ldbLog(sdsnew(\"[p]rint <var>        Show the value of the specified variable.\"));"
    },
    {
        "line": 54,
        "fullcodeline": "ldbLog(sdsnew(\"                     Can also show global vars KEYS and ARGV.\"));"
    },
    {
        "line": 55,
        "fullcodeline": "ldbLog(sdsnew(\"[b]reak              Show all breakpoints.\"));"
    },
    {
        "line": 56,
        "fullcodeline": "ldbLog(sdsnew(\"[b]reak <line>       Add a breakpoint to the specified line.\"));"
    },
    {
        "line": 57,
        "fullcodeline": "ldbLog(sdsnew(\"[b]reak -<line>      Remove breakpoint from the specified line.\"));"
    },
    {
        "line": 58,
        "fullcodeline": "ldbLog(sdsnew(\"[b]reak 0            Remove all breakpoints.\"));"
    },
    {
        "line": 59,
        "fullcodeline": "ldbLog(sdsnew(\"[t]race              Show a backtrace.\"));"
    },
    {
        "line": 60,
        "fullcodeline": "ldbLog(sdsnew(\"[e]eval <code>       Execute some Lua code (in a different callframe).\"));"
    },
    {
        "line": 61,
        "fullcodeline": "ldbLog(sdsnew(\"[r]edis <cmd>        Execute a Redis command.\"));"
    },
    {
        "line": 62,
        "fullcodeline": "ldbLog(sdsnew(\"[m]axlen [len]       Trim logged Redis replies and Lua var dumps to len.\"));"
    },
    {
        "line": 63,
        "fullcodeline": "ldbLog(sdsnew(\"                     Specifying zero as <len> means unlimited.\"));"
    },
    {
        "line": 64,
        "fullcodeline": "ldbLog(sdsnew(\"[a]bort              Stop the execution of the script. In sync\"));"
    },
    {
        "line": 65,
        "fullcodeline": "ldbLog(sdsnew(\"                     mode dataset changes will be retained.\"));"
    },
    {
        "line": 66,
        "fullcodeline": "ldbLog(sdsnew(\"\"));"
    },
    {
        "line": 67,
        "fullcodeline": "ldbLog(sdsnew(\"Debugger functions you can call from Lua scripts:\"));"
    },
    {
        "line": 68,
        "fullcodeline": "ldbLog(sdsnew(\"redis.debug()        Produce logs in the debugger console.\"));"
    },
    {
        "line": 69,
        "fullcodeline": "ldbLog(sdsnew(\"redis.breakpoint()   Stop execution like if there was a breakpoint in the\"));"
    },
    {
        "line": 70,
        "fullcodeline": "ldbLog(sdsnew(\"                     next line of code.\"));"
    },
    {
        "line": 71,
        "fullcodeline": "ldbSendLogs();"
    },
    {
        "line": 16,
        "fullcodeline": "if (nread <= 0) {"
    },
    {
        "line": 27,
        "fullcodeline": "if (sdslen(ldb.cbuf) > 1<<20) {"
    },
    {
        "line": 12,
        "fullcodeline": "lua_pushstring(lua, err);"
    },
    {
        "line": 13,
        "fullcodeline": "lua_error(lua);"
    },
    {
        "line": 19,
        "fullcodeline": "ldb.step = 0;"
    },
    {
        "line": 20,
        "fullcodeline": "ldb.bpcount = 0;"
    },
    {
        "line": 28,
        "fullcodeline": "sdsfree(ldb.cbuf);"
    },
    {
        "line": 29,
        "fullcodeline": "ldb.cbuf = sdsempty();"
    },
    {
        "line": 30,
        "fullcodeline": "lua_pushstring(lua, \"max client buffer reached\");"
    },
    {
        "line": 31,
        "fullcodeline": "lua_error(lua);"
    },
    {
        "line": 72,
        "fullcodeline": "} else if (!strcasecmp(argv[0],\"s\") || !strcasecmp(argv[0],\"step\") ||"
    },
    {
        "line": 73,
        "fullcodeline": "!strcasecmp(argv[0],\"n\") || !strcasecmp(argv[0],\"next\")) {"
    },
    {
        "line": 74,
        "fullcodeline": "ldb.step = 1;"
    },
    {
        "line": 76,
        "fullcodeline": "} else if (!strcasecmp(argv[0],\"c\") || !strcasecmp(argv[0],\"continue\")){"
    },
    {
        "line": 78,
        "fullcodeline": "} else if (!strcasecmp(argv[0],\"t\") || !strcasecmp(argv[0],\"trace\")) {"
    },
    {
        "line": 79,
        "fullcodeline": "ldbTrace(lua);"
    },
    {
        "line": 80,
        "fullcodeline": "ldbSendLogs();"
    },
    {
        "line": 81,
        "fullcodeline": "} else if (!strcasecmp(argv[0],\"m\") || !strcasecmp(argv[0],\"maxlen\")) {"
    },
    {
        "line": 82,
        "fullcodeline": "ldbMaxlen(argv,argc);"
    },
    {
        "line": 83,
        "fullcodeline": "ldbSendLogs();"
    },
    {
        "line": 84,
        "fullcodeline": "} else if (!strcasecmp(argv[0],\"b\") || !strcasecmp(argv[0],\"break\")) {"
    },
    {
        "line": 85,
        "fullcodeline": "ldbBreak(argv,argc);"
    },
    {
        "line": 86,
        "fullcodeline": "ldbSendLogs();"
    },
    {
        "line": 87,
        "fullcodeline": "} else if (!strcasecmp(argv[0],\"e\") || !strcasecmp(argv[0],\"eval\")) {"
    },
    {
        "line": 88,
        "fullcodeline": "ldbEval(lua,argv,argc);"
    },
    {
        "line": 89,
        "fullcodeline": "ldbSendLogs();"
    },
    {
        "line": 90,
        "fullcodeline": "} else if (!strcasecmp(argv[0],\"a\") || !strcasecmp(argv[0],\"abort\")) {"
    },
    {
        "line": 91,
        "fullcodeline": "lua_pushstring(lua, \"script aborted for user request\");"
    },
    {
        "line": 92,
        "fullcodeline": "lua_error(lua);"
    },
    {
        "line": 93,
        "fullcodeline": "} else if (argc > 1 &&"
    },
    {
        "line": 94,
        "fullcodeline": "(!strcasecmp(argv[0],\"r\") || !strcasecmp(argv[0],\"redis\"))) {"
    },
    {
        "line": 95,
        "fullcodeline": "ldbRedis(lua,argv,argc);"
    },
    {
        "line": 96,
        "fullcodeline": "ldbSendLogs();"
    },
    {
        "line": 97,
        "fullcodeline": "} else if ((!strcasecmp(argv[0],\"p\") || !strcasecmp(argv[0],\"print\"))) {"
    },
    {
        "line": 102,
        "fullcodeline": "ldbSendLogs();"
    },
    {
        "line": 98,
        "fullcodeline": "if (argc == 2)"
    },
    {
        "line": 99,
        "fullcodeline": "ldbPrint(lua,argv[1]);"
    },
    {
        "line": 103,
        "fullcodeline": "} else if (!strcasecmp(argv[0],\"l\") || !strcasecmp(argv[0],\"list\")){"
    },
    {
        "line": 101,
        "fullcodeline": "ldbPrintAll(lua);"
    },
    {
        "line": 104,
        "fullcodeline": "int around = ldb.currentline, ctx = 5;"
    },
    {
        "line": 110,
        "fullcodeline": "ldbList(around,ctx);"
    },
    {
        "line": 111,
        "fullcodeline": "ldbSendLogs();"
    },
    {
        "line": 105,
        "fullcodeline": "if (argc > 1) {"
    },
    {
        "line": 109,
        "fullcodeline": "if (argc > 2) ctx = atoi(argv[2]);"
    },
    {
        "line": 106,
        "fullcodeline": "int num = atoi(argv[1]);"
    },
    {
        "line": 112,
        "fullcodeline": "} else if (!strcasecmp(argv[0],\"w\") || !strcasecmp(argv[0],\"whole\")){"
    },
    {
        "line": 107,
        "fullcodeline": "if (num > 0) around = num;"
    },
    {
        "line": 113,
        "fullcodeline": "ldbList(1,1000000);"
    },
    {
        "line": 114,
        "fullcodeline": "ldbSendLogs();"
    },
    {
        "line": 116,
        "fullcodeline": "ldbLog(sdsnew(\"<error> Unknown Redis Lua debugger command or \""
    },
    {
        "line": 118,
        "fullcodeline": "ldbSendLogs();"
    }
]