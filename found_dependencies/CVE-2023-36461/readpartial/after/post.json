[
    {
        "line": 4,
        "fullcodeline": "timeout = false"
    },
    {
        "line": 1,
        "fullcodeline": "def readpartial(size, buffer = nil)"
    },
    {
        "line": 2,
        "fullcodeline": "@deadline ||= Process.clock_gettime(Process::CLOCK_MONOTONIC) + @read_timeout"
    },
    {
        "line": 6,
        "fullcodeline": "result = @socket.read_nonblock(size, buffer, exception: false)"
    },
    {
        "line": 10,
        "fullcodeline": "remaining_time = @deadline - Process.clock_gettime(Process::CLOCK_MONOTONIC)"
    },
    {
        "line": 11,
        "fullcodeline": "raise HTTP::TimeoutError, \"Read timed out after #{@read_timeout} seconds\" if timeout || remaining_time <= 0"
    },
    {
        "line": 12,
        "fullcodeline": "return result if result != :wait_readable"
    },
    {
        "line": 24,
        "fullcodeline": "timeout = true unless @socket.to_io.wait_readable(remaining_time)"
    }
]