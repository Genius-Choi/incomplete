[
    {
        "line": 4,
        "fullcodeline": "@verb        = verb"
    },
    {
        "line": 5,
        "fullcodeline": "@url         = Addressable::URI.parse(url).normalize"
    },
    {
        "line": 6,
        "fullcodeline": "@http_client = options.delete(:http_client)"
    },
    {
        "line": 7,
        "fullcodeline": "@allow_local = options.delete(:allow_local)"
    },
    {
        "line": 8,
        "fullcodeline": "@options     = options.merge(socket_class: use_proxy? || @allow_local ? ProxySocket : Socket)"
    },
    {
        "line": 10,
        "fullcodeline": "@headers     = {}"
    },
    {
        "line": 14,
        "fullcodeline": "set_common_headers!"
    },
    {
        "line": 9,
        "fullcodeline": "@options     = @options.merge(proxy_url) if use_proxy?"
    },
    {
        "line": 12,
        "fullcodeline": "raise Mastodon::HostValidationError, 'Instance does not support hidden service connections' if block_hidden_service?"
    }
]