[
    {
        "line": 8,
        "fullcodeline": "frame = vm->top_frame;"
    },
    {
        "line": 9,
        "fullcodeline": "frame->retval = retval;"
    },
    {
        "line": 11,
        "fullcodeline": "njs_set_function(&ctor, &vm->constructors[NJS_OBJ_TYPE_PROMISE]);"
    },
    {
        "line": 13,
        "fullcodeline": "capability = njs_promise_new_capability(vm, &ctor);"
    },
    {
        "line": 18,
        "fullcodeline": "ret = njs_function_lambda_call(vm, capability, NULL);"
    },
    {
        "line": 37,
        "fullcodeline": "*retval = capability->promise;"
    },
    {
        "line": 14,
        "fullcodeline": "if (njs_slow_path(capability == NULL)) {"
    },
    {
        "line": 20,
        "fullcodeline": "if (ret == NJS_OK) {"
    },
    {
        "line": 21,
        "fullcodeline": "ret = njs_function_call(vm, njs_function(&capability->resolve),"
    },
    {
        "line": 24,
        "fullcodeline": "} else if (ret == NJS_AGAIN) {"
    },
    {
        "line": 25,
        "fullcodeline": "ret = NJS_OK;"
    },
    {
        "line": 27,
        "fullcodeline": "} else if (ret == NJS_ERROR) {"
    },
    {
        "line": 32,
        "fullcodeline": "ret = njs_function_call(vm, njs_function(&capability->reject),"
    },
    {
        "line": 28,
        "fullcodeline": "if (njs_is_memory_error(vm, &vm->retval)) {"
    }
]