[
    {
        "line": 2,
        "fullcodeline": "user = current_user.pref[:activity_user]"
    },
    {
        "line": 3,
        "fullcodeline": "if user && user != \"all_users\""
    },
    {
        "line": 16,
        "fullcodeline": "user.is_a?(User) ? user.id : nil"
    },
    {
        "line": 4,
        "fullcodeline": "user = if user =~ /@/ # email"
    },
    {
        "line": 5,
        "fullcodeline": "User.where(:email => user).first"
    },
    {
        "line": 6,
        "fullcodeline": "else # first_name middle_name last_name any_name"
    },
    {
        "line": 7,
        "fullcodeline": "name_query = if user.include?(\" \")"
    },
    {
        "line": 8,
        "fullcodeline": "user.name_permutations.map{ |first, last|"
    },
    {
        "line": 11,
        "fullcodeline": "else"
    },
    {
        "line": 12,
        "fullcodeline": "[User.where(:first_name => user), User.where(:last_name => user)].map(&:to_a).flatten.first"
    }
]