[
    {
        "line": 2,
        "fullcodeline": "state = params[:state].to_s"
    },
    {
        "line": 3,
        "fullcodeline": "if %w(Collapsed Expanded).include?(state)"
    },
    {
        "line": 17,
        "fullcodeline": "render :nothing => true"
    },
    {
        "line": 4,
        "fullcodeline": "if (model_type = params[:type].to_s).present?"
    },
    {
        "line": 11,
        "fullcodeline": "comments, emails = params[:id].split(\"+\")"
    },
    {
        "line": 5,
        "fullcodeline": "if %w(comment email).include?(model_type)"
    },
    {
        "line": 12,
        "fullcodeline": "Comment.where(:id => comments.split(',')).update_all(:state => state) unless comments.blank?"
    },
    {
        "line": 13,
        "fullcodeline": "Email.where(:id => emails.split(',')).update_all(:state => state) unless emails.blank?"
    },
    {
        "line": 6,
        "fullcodeline": "model = model_type.camelize.constantize"
    },
    {
        "line": 7,
        "fullcodeline": "item = model.find(params[:id])"
    },
    {
        "line": 8,
        "fullcodeline": "item.update_attribute(:state, state)"
    }
]