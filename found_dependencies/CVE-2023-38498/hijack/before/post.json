[
    {
        "line": 2,
        "fullcodeline": "controller_class = self.class"
    },
    {
        "line": 1,
        "fullcodeline": "def hijack(info: nil, &blk)"
    },
    {
        "line": 5,
        "fullcodeline": "request.env[\"discourse.request_tracker.skip\"] = true"
    },
    {
        "line": 9,
        "fullcodeline": "env = request.env"
    },
    {
        "line": 12,
        "fullcodeline": "tempfiles = env[Rack::RACK_TEMPFILES]"
    },
    {
        "line": 13,
        "fullcodeline": "env[Rack::RACK_TEMPFILES] = nil"
    },
    {
        "line": 14,
        "fullcodeline": "request_copy = ActionDispatch::Request.new(env)"
    },
    {
        "line": 18,
        "fullcodeline": "io = hijack.call"
    },
    {
        "line": 24,
        "fullcodeline": "Scheduler::Defer.later(\"hijack #{params[\"controller\"]} #{params[\"action\"]} #{info}\") do"
    },
    {
        "line": 144,
        "fullcodeline": "render plain: \"\", status: 418"
    }
]