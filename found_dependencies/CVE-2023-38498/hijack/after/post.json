[
    {
        "line": 2,
        "fullcodeline": "controller_class = self.class"
    },
    {
        "line": 1,
        "fullcodeline": "def hijack(info: nil, &blk)"
    },
    {
        "line": 5,
        "fullcodeline": "request.env[\"discourse.request_tracker.skip\"] = true"
    },
    {
        "line": 9,
        "fullcodeline": "env = request.env"
    },
    {
        "line": 12,
        "fullcodeline": "tempfiles = env[Rack::RACK_TEMPFILES]"
    },
    {
        "line": 13,
        "fullcodeline": "env[Rack::RACK_TEMPFILES] = nil"
    },
    {
        "line": 14,
        "fullcodeline": "request_copy = ActionDispatch::Request.new(env)"
    },
    {
        "line": 34,
        "fullcodeline": "io = hijack.call"
    },
    {
        "line": 36,
        "fullcodeline": "scheduled.on_resolution! do"
    },
    {
        "line": 157,
        "fullcodeline": "render plain: \"\", status: 418"
    },
    {
        "line": 21,
        "fullcodeline": "Scheduler::Defer.later("
    },
    {
        "line": 22,
        "fullcodeline": "\"hijack #{params[\"controller\"]} #{params[\"action\"]} #{info}\","
    },
    {
        "line": 24,
        "fullcodeline": "&scheduled.method(:resolve)"
    },
    {
        "line": 27,
        "fullcodeline": "return render plain: \"\", status: 503"
    }
]