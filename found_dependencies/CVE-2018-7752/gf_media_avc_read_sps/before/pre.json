[
    {
        "line": 4,
        "fullcodeline": "u32 ChromaArrayType = 0;"
    },
    {
        "line": 5,
        "fullcodeline": "s32 mb_width, mb_height, sps_id = -1;"
    },
    {
        "line": 6,
        "fullcodeline": "u32 profile_idc, level_idc, pcomp, i, chroma_format_idc, cl=0, cr=0, ct=0, cb=0, luma_bd, chroma_bd;"
    },
    {
        "line": 7,
        "fullcodeline": "u8 separate_colour_plane_flag = 0;"
    },
    {
        "line": 9,
        "fullcodeline": "char *sps_data_without_emulation_bytes = NULL;"
    },
    {
        "line": 10,
        "fullcodeline": "u32 sps_data_without_emulation_bytes_size = 0;"
    },
    {
        "line": 13,
        "fullcodeline": "sps_data_without_emulation_bytes = gf_malloc(sps_size*sizeof(char));"
    },
    {
        "line": 14,
        "fullcodeline": "sps_data_without_emulation_bytes_size = avc_remove_emulation_bytes(sps_data, sps_data_without_emulation_bytes, sps_size);"
    },
    {
        "line": 15,
        "fullcodeline": "bs = gf_bs_new(sps_data_without_emulation_bytes, sps_data_without_emulation_bytes_size, GF_BITSTREAM_READ);"
    },
    {
        "line": 22,
        "fullcodeline": "/*nal hdr*/ gf_bs_read_int(bs, 8);"
    },
    {
        "line": 24,
        "fullcodeline": "profile_idc = gf_bs_read_int(bs, 8);"
    },
    {
        "line": 26,
        "fullcodeline": "pcomp = gf_bs_read_int(bs, 8);"
    },
    {
        "line": 31,
        "fullcodeline": "level_idc = gf_bs_read_int(bs, 8);"
    },
    {
        "line": 36,
        "fullcodeline": "sps_id = bs_get_ue(bs) + GF_SVC_SSPS_ID_SHIFT * subseq_sps;"
    },
    {
        "line": 46,
        "fullcodeline": "luma_bd = chroma_bd = 0;"
    },
    {
        "line": 47,
        "fullcodeline": "chroma_format_idc = ChromaArrayType = 1;"
    },
    {
        "line": 48,
        "fullcodeline": "sps = &avc->sps[sps_id];"
    },
    {
        "line": 49,
        "fullcodeline": "sps->state |= subseq_sps ? AVC_SUBSPS_PARSED : AVC_SPS_PARSED;"
    },
    {
        "line": 99,
        "fullcodeline": "sps->profile_idc = profile_idc;"
    },
    {
        "line": 100,
        "fullcodeline": "sps->level_idc = level_idc;"
    },
    {
        "line": 101,
        "fullcodeline": "sps->prof_compat = pcomp;"
    },
    {
        "line": 102,
        "fullcodeline": "sps->log2_max_frame_num = bs_get_ue(bs) + 4;"
    },
    {
        "line": 103,
        "fullcodeline": "sps->poc_type = bs_get_ue(bs);"
    },
    {
        "line": 104,
        "fullcodeline": "sps->chroma_format = chroma_format_idc;"
    },
    {
        "line": 105,
        "fullcodeline": "sps->luma_bit_depth_m8 = luma_bd;"
    },
    {
        "line": 106,
        "fullcodeline": "sps->chroma_bit_depth_m8 = chroma_bd;"
    },
    {
        "line": 121,
        "fullcodeline": "sps->max_num_ref_frames = bs_get_ue(bs);"
    },
    {
        "line": 122,
        "fullcodeline": "sps->gaps_in_frame_num_value_allowed_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 123,
        "fullcodeline": "mb_width = bs_get_ue(bs) + 1;"
    },
    {
        "line": 124,
        "fullcodeline": "mb_height= bs_get_ue(bs) + 1;"
    },
    {
        "line": 126,
        "fullcodeline": "sps->frame_mbs_only_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 128,
        "fullcodeline": "sps->width = mb_width * 16;"
    },
    {
        "line": 129,
        "fullcodeline": "sps->height = (2-sps->frame_mbs_only_flag) * mb_height * 16;"
    },
    {
        "line": 132,
        "fullcodeline": "gf_bs_read_int(bs, 1); /*direct_8x8_inference_flag*/"
    },
    {
        "line": 166,
        "fullcodeline": "sps->crop.left = cl;"
    },
    {
        "line": 167,
        "fullcodeline": "sps->crop.right = cr;"
    },
    {
        "line": 168,
        "fullcodeline": "sps->crop.top = ct;"
    },
    {
        "line": 169,
        "fullcodeline": "sps->crop.bottom = cb;"
    },
    {
        "line": 175,
        "fullcodeline": "sps->vui_parameters_present_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 308,
        "fullcodeline": "gf_bs_del(bs);"
    },
    {
        "line": 309,
        "fullcodeline": "gf_free(sps_data_without_emulation_bytes);"
    },
    {
        "line": 16,
        "fullcodeline": "if (!bs) {"
    },
    {
        "line": 28,
        "fullcodeline": "if (pcomp & 0x3)"
    },
    {
        "line": 37,
        "fullcodeline": "if (sps_id >=32) {"
    },
    {
        "line": 41,
        "fullcodeline": "if (sps_id < 0) {"
    },
    {
        "line": 108,
        "fullcodeline": "if (sps->poc_type == 0) {"
    },
    {
        "line": 117,
        "fullcodeline": "if (sps->poc_type > 2) {"
    },
    {
        "line": 131,
        "fullcodeline": "if (!sps->frame_mbs_only_flag) sps->mb_adaptive_frame_field_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 134,
        "fullcodeline": "if (gf_bs_read_int(bs, 1)) { /*crop*/"
    },
    {
        "line": 17,
        "fullcodeline": "sps_id = -1;"
    },
    {
        "line": 20,
        "fullcodeline": "if (vui_flag_pos) *vui_flag_pos = 0;"
    },
    {
        "line": 38,
        "fullcodeline": "sps_id = -1;"
    },
    {
        "line": 42,
        "fullcodeline": "sps_id = -1;"
    },
    {
        "line": 65,
        "fullcodeline": "chroma_format_idc = bs_get_ue(bs);"
    },
    {
        "line": 66,
        "fullcodeline": "ChromaArrayType = chroma_format_idc;"
    },
    {
        "line": 76,
        "fullcodeline": "luma_bd = bs_get_ue(bs);"
    },
    {
        "line": 77,
        "fullcodeline": "chroma_bd = bs_get_ue(bs);"
    },
    {
        "line": 78,
        "fullcodeline": "/*qpprime_y_zero_transform_bypass_flag = */ gf_bs_read_int(bs, 1);"
    },
    {
        "line": 109,
        "fullcodeline": "sps->log2_max_poc_lsb = bs_get_ue(bs) + 4;"
    },
    {
        "line": 118,
        "fullcodeline": "sps_id = -1;"
    },
    {
        "line": 135,
        "fullcodeline": "int CropUnitX, CropUnitY, SubWidthC = -1, SubHeightC = -1;"
    },
    {
        "line": 154,
        "fullcodeline": "cl = bs_get_ue(bs); /*crop_left*/"
    },
    {
        "line": 155,
        "fullcodeline": "cr = bs_get_ue(bs); /*crop_right*/"
    },
    {
        "line": 156,
        "fullcodeline": "ct = bs_get_ue(bs); /*crop_top*/"
    },
    {
        "line": 157,
        "fullcodeline": "cb = bs_get_ue(bs); /*crop_bottom*/"
    },
    {
        "line": 159,
        "fullcodeline": "sps->width -= CropUnitX * (cl + cr);"
    },
    {
        "line": 160,
        "fullcodeline": "sps->height -= CropUnitY * (ct + cb);"
    },
    {
        "line": 161,
        "fullcodeline": "cl *= CropUnitX;"
    },
    {
        "line": 162,
        "fullcodeline": "cr *= CropUnitX;"
    },
    {
        "line": 163,
        "fullcodeline": "ct *= CropUnitY;"
    },
    {
        "line": 164,
        "fullcodeline": "cb *= CropUnitY;"
    },
    {
        "line": 172,
        "fullcodeline": "*vui_flag_pos = (u32) gf_bs_get_bit_offset(bs);"
    },
    {
        "line": 177,
        "fullcodeline": "sps->vui.aspect_ratio_info_present_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 188,
        "fullcodeline": "sps->vui.overscan_info_present_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 193,
        "fullcodeline": "sps->vui.video_format = 5;"
    },
    {
        "line": 194,
        "fullcodeline": "sps->vui.colour_primaries = 2;"
    },
    {
        "line": 195,
        "fullcodeline": "sps->vui.transfer_characteristics = 2;"
    },
    {
        "line": 196,
        "fullcodeline": "sps->vui.matrix_coefficients = 2;"
    },
    {
        "line": 198,
        "fullcodeline": "sps->vui.video_signal_type_present_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 215,
        "fullcodeline": "sps->vui.timing_info_present_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 222,
        "fullcodeline": "sps->vui.nal_hrd_parameters_present_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 226,
        "fullcodeline": "sps->vui.vcl_hrd_parameters_present_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 233,
        "fullcodeline": "sps->vui.pic_struct_present_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 59,
        "fullcodeline": "if (pcomp & 0xE0)"
    },
    {
        "line": 67,
        "fullcodeline": "if (chroma_format_idc == 3) {"
    },
    {
        "line": 80,
        "fullcodeline": "if (gf_bs_read_int(bs, 1)) {"
    },
    {
        "line": 137,
        "fullcodeline": "if (chroma_format_idc == 1) {"
    },
    {
        "line": 145,
        "fullcodeline": "if (ChromaArrayType == 0) {"
    },
    {
        "line": 210,
        "fullcodeline": "if (gf_bs_read_int(bs, 1)) {\t/* chroma_location_info_present_flag */"
    },
    {
        "line": 230,
        "fullcodeline": "if (sps->vui.nal_hrd_parameters_present_flag || sps->vui.vcl_hrd_parameters_present_flag)"
    },
    {
        "line": 238,
        "fullcodeline": "if ((profile_idc==83) || (profile_idc==86)) {"
    },
    {
        "line": 301,
        "fullcodeline": "if (gf_bs_read_int(bs, 1)) {"
    },
    {
        "line": 68,
        "fullcodeline": "separate_colour_plane_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 110,
        "fullcodeline": "} else if(sps->poc_type == 1) {"
    },
    {
        "line": 138,
        "fullcodeline": "SubWidthC = 2, SubHeightC = 2;"
    },
    {
        "line": 146,
        "fullcodeline": "assert(SubWidthC==-1);"
    },
    {
        "line": 147,
        "fullcodeline": "CropUnitX = 1;"
    },
    {
        "line": 148,
        "fullcodeline": "CropUnitY = 2-sps->frame_mbs_only_flag;"
    },
    {
        "line": 179,
        "fullcodeline": "s32 aspect_ratio_idc = gf_bs_read_int(bs, 8);"
    },
    {
        "line": 190,
        "fullcodeline": "gf_bs_read_int(bs, 1);\t\t/* overscan_appropriate_flag */"
    },
    {
        "line": 200,
        "fullcodeline": "sps->vui.video_format = gf_bs_read_int(bs, 3);"
    },
    {
        "line": 201,
        "fullcodeline": "sps->vui.video_full_range_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 202,
        "fullcodeline": "sps->vui.colour_description_present_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 211,
        "fullcodeline": "bs_get_ue(bs);\t\t\t\t/* chroma_sample_location_type_top_field */"
    },
    {
        "line": 212,
        "fullcodeline": "bs_get_ue(bs);\t\t\t\t/* chroma_sample_location_type_bottom_field */"
    },
    {
        "line": 217,
        "fullcodeline": "sps->vui.num_units_in_tick = gf_bs_read_int(bs, 32);"
    },
    {
        "line": 218,
        "fullcodeline": "sps->vui.time_scale = gf_bs_read_int(bs, 32);"
    },
    {
        "line": 219,
        "fullcodeline": "sps->vui.fixed_frame_rate_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 224,
        "fullcodeline": "avc_parse_hrd_parameters(bs, &sps->vui.hrd);"
    },
    {
        "line": 228,
        "fullcodeline": "avc_parse_hrd_parameters(bs, &sps->vui.hrd);"
    },
    {
        "line": 231,
        "fullcodeline": "sps->vui.low_delay_hrd_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 242,
        "fullcodeline": "/*inter_layer_deblocking_filter_control_present_flag=*/\tgf_bs_read_int(bs, 1);"
    },
    {
        "line": 243,
        "fullcodeline": "extended_spatial_scalability_idc = gf_bs_read_int(bs, 2);"
    },
    {
        "line": 263,
        "fullcodeline": "/*slice_header_restriction_flag*/gf_bs_read_int(bs, 1);"
    },
    {
        "line": 302,
        "fullcodeline": "GF_LOG(GF_LOG_WARNING, GF_LOG_CODING, (\"[avc-h264] skipping parsing end of Subset SPS (additional_extension2)\\n\"));"
    },
    {
        "line": 82,
        "fullcodeline": "for (k=0; k<8; k++) {"
    },
    {
        "line": 111,
        "fullcodeline": "sps->delta_pic_order_always_zero_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 112,
        "fullcodeline": "sps->offset_for_non_ref_pic = bs_get_se(bs);"
    },
    {
        "line": 113,
        "fullcodeline": "sps->offset_for_top_to_bottom_field = bs_get_se(bs);"
    },
    {
        "line": 114,
        "fullcodeline": "sps->poc_cycle_length = bs_get_ue(bs);"
    },
    {
        "line": 150,
        "fullcodeline": "CropUnitX = SubWidthC;"
    },
    {
        "line": 151,
        "fullcodeline": "CropUnitY = SubHeightC * (2-sps->frame_mbs_only_flag);"
    },
    {
        "line": 180,
        "fullcodeline": "if (aspect_ratio_idc == 255) {"
    },
    {
        "line": 244,
        "fullcodeline": "if (ChromaArrayType == 1 || ChromaArrayType == 2) {"
    },
    {
        "line": 247,
        "fullcodeline": "if( ChromaArrayType  ==  1 ) {"
    },
    {
        "line": 250,
        "fullcodeline": "if (extended_spatial_scalability_idc == 1) {"
    },
    {
        "line": 260,
        "fullcodeline": "if (/*seq_tcoeff_level_prediction_flag*/gf_bs_read_int(bs, 1)) {"
    },
    {
        "line": 266,
        "fullcodeline": "if (gf_bs_read_int(bs, 1)) {"
    },
    {
        "line": 74,
        "fullcodeline": "if (separate_colour_plane_flag) ChromaArrayType = 0;"
    },
    {
        "line": 115,
        "fullcodeline": "for(i=0; i<sps->poc_cycle_length; i++) sps->offset_for_ref_frame[i] = bs_get_se(bs);"
    },
    {
        "line": 139,
        "fullcodeline": "} else if (chroma_format_idc == 2) {"
    },
    {
        "line": 181,
        "fullcodeline": "sps->vui.par_num = gf_bs_read_int(bs, 16); /*AR num*/"
    },
    {
        "line": 182,
        "fullcodeline": "sps->vui.par_den = gf_bs_read_int(bs, 16); /*AR den*/"
    },
    {
        "line": 204,
        "fullcodeline": "sps->vui.colour_primaries = gf_bs_read_int(bs, 8);"
    },
    {
        "line": 205,
        "fullcodeline": "sps->vui.transfer_characteristics = gf_bs_read_int(bs, 8);"
    },
    {
        "line": 206,
        "fullcodeline": "sps->vui.matrix_coefficients = gf_bs_read_int(bs, 8);"
    },
    {
        "line": 245,
        "fullcodeline": "/*chroma_phase_x_plus1_flag*/ gf_bs_read_int(bs, 1);"
    },
    {
        "line": 248,
        "fullcodeline": "/*chroma_phase_y_plus1*/ gf_bs_read_int(bs, 2);"
    },
    {
        "line": 255,
        "fullcodeline": "/*seq_scaled_ref_layer_left_offset*/ bs_get_se(bs);"
    },
    {
        "line": 256,
        "fullcodeline": "/*seq_scaled_ref_layer_top_offset*/bs_get_se(bs);"
    },
    {
        "line": 257,
        "fullcodeline": "/*seq_scaled_ref_layer_right_offset*/bs_get_se(bs);"
    },
    {
        "line": 258,
        "fullcodeline": "/*seq_scaled_ref_layer_bottom_offset*/bs_get_se(bs);"
    },
    {
        "line": 261,
        "fullcodeline": "/*adaptive_tcoeff_level_prediction_flag*/ gf_bs_read_int(bs, 1);"
    },
    {
        "line": 268,
        "fullcodeline": "vui_ext_num_entries_minus1 = bs_get_ue(bs);"
    },
    {
        "line": 296,
        "fullcodeline": "else if ((profile_idc==118) || (profile_idc==128)) {"
    },
    {
        "line": 83,
        "fullcodeline": "if (gf_bs_read_int(bs, 1)) {"
    },
    {
        "line": 140,
        "fullcodeline": "SubWidthC = 2, SubHeightC = 1;"
    },
    {
        "line": 251,
        "fullcodeline": "if( ChromaArrayType > 0 ) {"
    },
    {
        "line": 270,
        "fullcodeline": "for (i=0; i <= vui_ext_num_entries_minus1; i++) {"
    },
    {
        "line": 297,
        "fullcodeline": "GF_LOG(GF_LOG_WARNING, GF_LOG_CODING, (\"[avc-h264] MVC not supported - skipping parsing end of Subset SPS\\n\"));"
    },
    {
        "line": 84,
        "fullcodeline": "u32 z, last = 8, next = 8;"
    },
    {
        "line": 85,
        "fullcodeline": "u32 sl = k<6 ? 16 : 64;"
    },
    {
        "line": 183,
        "fullcodeline": "} else if (aspect_ratio_idc<14) {"
    },
    {
        "line": 252,
        "fullcodeline": "/*seq_ref_layer_chroma_phase_x_plus1_flag*/gf_bs_read_int(bs, 1);"
    },
    {
        "line": 253,
        "fullcodeline": "/*seq_ref_layer_chroma_phase_y_plus1*/gf_bs_read_int(bs, 2);"
    },
    {
        "line": 272,
        "fullcodeline": "/*u8 vui_ext_dependency_id =*/ gf_bs_read_int(bs, 3);"
    },
    {
        "line": 273,
        "fullcodeline": "/*u8 vui_ext_quality_id =*/ gf_bs_read_int(bs, 4);"
    },
    {
        "line": 274,
        "fullcodeline": "/*u8 vui_ext_temporal_id =*/ gf_bs_read_int(bs, 3);"
    },
    {
        "line": 275,
        "fullcodeline": "vui_ext_timing_info_present_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 281,
        "fullcodeline": "vui_ext_nal_hrd_parameters_present_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 285,
        "fullcodeline": "vui_ext_vcl_hrd_parameters_present_flag = gf_bs_read_int(bs, 1);"
    },
    {
        "line": 292,
        "fullcodeline": "/*vui_ext_pic_struct_present_flag*/gf_bs_read_int(bs, 1);"
    },
    {
        "line": 86,
        "fullcodeline": "for (z=0; z<sl; z++) {"
    },
    {
        "line": 141,
        "fullcodeline": "} else if ((chroma_format_idc == 3) && (separate_colour_plane_flag == 0)) {"
    },
    {
        "line": 184,
        "fullcodeline": "sps->vui.par_num = avc_sar[aspect_ratio_idc].w;"
    },
    {
        "line": 185,
        "fullcodeline": "sps->vui.par_den = avc_sar[aspect_ratio_idc].h;"
    },
    {
        "line": 289,
        "fullcodeline": "if ( vui_ext_nal_hrd_parameters_present_flag ||  vui_ext_vcl_hrd_parameters_present_flag) {"
    },
    {
        "line": 91,
        "fullcodeline": "last = next ? next : last;"
    },
    {
        "line": 142,
        "fullcodeline": "SubWidthC = 1, SubHeightC = 1;"
    },
    {
        "line": 277,
        "fullcodeline": "/*u32 vui_ext_num_units_in_tick = */gf_bs_read_int(bs, 32);"
    },
    {
        "line": 278,
        "fullcodeline": "/*u32 vui_ext_time_scale = */gf_bs_read_int(bs, 32);"
    },
    {
        "line": 279,
        "fullcodeline": "/*u8 vui_ext_fixed_frame_rate_flag = */gf_bs_read_int(bs, 1);"
    },
    {
        "line": 290,
        "fullcodeline": "/*vui_ext_low_delay_hrd_flag*/gf_bs_read_int(bs, 1);"
    },
    {
        "line": 88,
        "fullcodeline": "s32 delta = bs_get_se(bs);"
    },
    {
        "line": 89,
        "fullcodeline": "next = (last + delta + 256) % 256;"
    }
]