[
    {
        "line": 4,
        "fullcodeline": "UpVal **up1 = getupvalref(L, fidx1, n1, &f1);"
    },
    {
        "line": 5,
        "fullcodeline": "UpVal **up2 = getupvalref(L, fidx2, n2, NULL);"
    },
    {
        "line": 6,
        "fullcodeline": "luaC_upvdeccount(L, *up1);"
    },
    {
        "line": 7,
        "fullcodeline": "*up1 = *up2;"
    },
    {
        "line": 8,
        "fullcodeline": "(*up1)->refcount++;"
    },
    {
        "line": 10,
        "fullcodeline": "luaC_upvalbarrier(L, *up1);"
    },
    {
        "line": 9,
        "fullcodeline": "if (upisopen(*up1)) (*up1)->u.open.touched = 1;"
    }
]