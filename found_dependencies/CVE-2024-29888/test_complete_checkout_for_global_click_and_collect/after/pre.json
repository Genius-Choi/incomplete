[
    {
        "line": 11,
        "fullcodeline": "order_count = Order.objects.count()"
    },
    {
        "line": 12,
        "fullcodeline": "checkout = checkout_with_item_for_cc"
    },
    {
        "line": 14,
        "fullcodeline": "warehouse_for_cc.click_and_collect_option = ("
    },
    {
        "line": 17,
        "fullcodeline": "warehouse_for_cc.save(update_fields=[\"click_and_collect_option\"])"
    },
    {
        "line": 19,
        "fullcodeline": "checkout.collection_point = warehouse_for_cc"
    },
    {
        "line": 20,
        "fullcodeline": "checkout.save(update_fields=[\"collection_point\"])"
    },
    {
        "line": 22,
        "fullcodeline": "variables = {"
    },
    {
        "line": 27,
        "fullcodeline": "manager = get_plugins_manager(allow_replica=False)"
    },
    {
        "line": 29,
        "fullcodeline": "checkout_info = fetch_checkout_info(checkout, lines, manager)"
    },
    {
        "line": 30,
        "fullcodeline": "total = calculations.checkout_total("
    },
    {
        "line": 33,
        "fullcodeline": "payment = payment_dummy"
    },
    {
        "line": 34,
        "fullcodeline": "payment.is_active = True"
    },
    {
        "line": 35,
        "fullcodeline": "payment.order = None"
    },
    {
        "line": 36,
        "fullcodeline": "payment.total = total.gross.amount"
    },
    {
        "line": 37,
        "fullcodeline": "payment.currency = total.gross.currency"
    },
    {
        "line": 38,
        "fullcodeline": "payment.checkout = checkout"
    },
    {
        "line": 39,
        "fullcodeline": "payment.save()"
    },
    {
        "line": 41,
        "fullcodeline": "assert not payment.transactions.exists()"
    },
    {
        "line": 42,
        "fullcodeline": "assert len(lines) == 1"
    },
    {
        "line": 43,
        "fullcodeline": "variant = lines[0].variant"
    },
    {
        "line": 49,
        "fullcodeline": "response = api_client.post_graphql(MUTATION_CHECKOUT_COMPLETE, variables)"
    },
    {
        "line": 52,
        "fullcodeline": "content = get_graphql_content(response)[\"data\"][\"checkoutComplete\"]"
    },
    {
        "line": 54,
        "fullcodeline": "assert not content[\"errors\"]"
    },
    {
        "line": 55,
        "fullcodeline": "assert Order.objects.count() == order_count + 1"
    },
    {
        "line": 57,
        "fullcodeline": "order = Order.objects.latest(\"created_at\")"
    },
    {
        "line": 59,
        "fullcodeline": "assert order.collection_point == warehouse_for_cc"
    },
    {
        "line": 60,
        "fullcodeline": "assert order.shipping_method is None"
    },
    {
        "line": 61,
        "fullcodeline": "assert order.shipping_address"
    },
    {
        "line": 62,
        "fullcodeline": "assert order.shipping_address.id != warehouse_for_cc.address.id"
    },
    {
        "line": 63,
        "fullcodeline": "assert order.shipping_price == zero_taxed_money(payment.currency)"
    },
    {
        "line": 64,
        "fullcodeline": "assert order.lines.count() == 1"
    },
    {
        "line": 67,
        "fullcodeline": "assert order.lines.first().allocations.first().stock.warehouse == warehouse_for_cc"
    },
    {
        "line": 28,
        "fullcodeline": "lines, _ = fetch_checkout_lines(checkout)"
    },
    {
        "line": 46,
        "fullcodeline": "Stock.objects.create(product_variant=variant, warehouse=warehouse, quantity=50)"
    },
    {
        "line": 23,
        "fullcodeline": "\"id\": to_global_id_or_none(checkout),"
    }
]