[
    {
        "line": 5,
        "fullcodeline": "SmallVector<ArrayRef<ShapeComponentAnalysis::SymbolicExpr>> shapes_found;"
    },
    {
        "line": 6,
        "fullcodeline": "size_t maxRank = 0;"
    },
    {
        "line": 14,
        "fullcodeline": "SmallVector<const ShapeComponentAnalysis::SymbolicExpr*> joined_dimensions("
    },
    {
        "line": 16,
        "fullcodeline": "SmallVector<std::pair<Value, int64_t>> shape_and_rank_for_dim(maxRank);"
    },
    {
        "line": 40,
        "fullcodeline": "SmallVector<Value> elements;"
    },
    {
        "line": 41,
        "fullcodeline": "for (int i = 0; i != maxRank; ++i) {"
    },
    {
        "line": 56,
        "fullcodeline": "return Value(builder->create<tensor::FromElementsOp>(loc, elements));"
    },
    {
        "line": 8,
        "fullcodeline": "auto found_shape = analysis.GetValueInfo(shape.value());"
    },
    {
        "line": 10,
        "fullcodeline": "shapes_found.push_back(*found_shape);"
    },
    {
        "line": 11,
        "fullcodeline": "maxRank = std::max(maxRank, found_shape->size());"
    },
    {
        "line": 35,
        "fullcodeline": "if (llvm::is_splat(shape_and_rank_for_dim) &&"
    },
    {
        "line": 51,
        "fullcodeline": "Value index = builder->create<ConstantIndexOp>("
    },
    {
        "line": 53,
        "fullcodeline": "elements.push_back(builder->create<tensor::ExtractOp>("
    },
    {
        "line": 9,
        "fullcodeline": "if (!found_shape) return {};"
    },
    {
        "line": 44,
        "fullcodeline": "auto one = builder->getIntegerAttr("
    },
    {
        "line": 46,
        "fullcodeline": "elements.push_back(builder->create<ConstantOp>(loc, one));"
    },
    {
        "line": 23,
        "fullcodeline": "auto index = maxRank - dim.index() - 1;"
    },
    {
        "line": 31,
        "fullcodeline": "if (*joined_dimensions[index] != dim.value()) return {};"
    },
    {
        "line": 52,
        "fullcodeline": "loc, i - maxRank + shape_and_rank_for_dim[i].second);"
    },
    {
        "line": 54,
        "fullcodeline": "loc, shape_and_rank_for_dim[i].first, index));"
    },
    {
        "line": 20,
        "fullcodeline": "if (dim.value().isConstant(1)) continue;"
    },
    {
        "line": 45,
        "fullcodeline": "shapes[0].getType().cast<RankedTensorType>().getElementType(), 1);"
    },
    {
        "line": 27,
        "fullcodeline": "std::make_pair(shapes[shape.index()], shape.value().size());"
    },
    {
        "line": 25,
        "fullcodeline": "joined_dimensions[index] = &dim.value();"
    }
]