[
    {
        "line": 7,
        "fullcodeline": "target_stream_dicts = []"
    },
    {
        "line": 22,
        "fullcodeline": "recip_to_stream_id = {stream[\"recipient_id\"]: stream[\"id\"] for stream in target_stream_dicts}"
    },
    {
        "line": 23,
        "fullcodeline": "recipient_ids = sorted(stream[\"recipient_id\"] for stream in target_stream_dicts)"
    },
    {
        "line": 25,
        "fullcodeline": "result: Dict[int, List[int]] = {stream[\"id\"]: [] for stream in stream_dicts}"
    },
    {
        "line": 36,
        "fullcodeline": "query = SQL("
    },
    {
        "line": 53,
        "fullcodeline": "cursor = connection.cursor()"
    },
    {
        "line": 54,
        "fullcodeline": "cursor.execute(query, {\"recipient_ids\": tuple(recipient_ids)})"
    },
    {
        "line": 55,
        "fullcodeline": "rows = cursor.fetchall()"
    },
    {
        "line": 8,
        "fullcodeline": "for stream_dict in stream_dicts:"
    },
    {
        "line": 26,
        "fullcodeline": "if not recipient_ids:"
    },
    {
        "line": 62,
        "fullcodeline": "for recip_id, recip_rows in itertools.groupby(rows, itemgetter(0)):"
    },
    {
        "line": 9,
        "fullcodeline": "stream_id = stream_dict[\"id\"]"
    },
    {
        "line": 10,
        "fullcodeline": "is_subscribed = stream_id in subscribed_stream_ids"
    },
    {
        "line": 20,
        "fullcodeline": "target_stream_dicts.append(stream_dict)"
    },
    {
        "line": 63,
        "fullcodeline": "user_profile_ids = [r[1] for r in recip_rows]"
    },
    {
        "line": 65,
        "fullcodeline": "result[stream_id] = list(user_profile_ids)"
    },
    {
        "line": 13,
        "fullcodeline": "validate_user_access_to_subscribers_helper("
    }
]