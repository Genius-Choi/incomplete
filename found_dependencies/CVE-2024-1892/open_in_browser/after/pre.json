[
    {
        "line": 27,
        "fullcodeline": "body = response.body"
    },
    {
        "line": 39,
        "fullcodeline": "os.write(fd, body)"
    },
    {
        "line": 40,
        "fullcodeline": "os.close(fd)"
    },
    {
        "line": 24,
        "fullcodeline": "from scrapy.http import HtmlResponse, TextResponse"
    },
    {
        "line": 28,
        "fullcodeline": "if isinstance(response, HtmlResponse):"
    },
    {
        "line": 38,
        "fullcodeline": "fd, fname = tempfile.mkstemp(ext)"
    },
    {
        "line": 41,
        "fullcodeline": "return _openfunc(f\"file://{fname}\")"
    },
    {
        "line": 33,
        "fullcodeline": "ext = \".html\""
    },
    {
        "line": 29,
        "fullcodeline": "if b\"<base\" not in body:"
    },
    {
        "line": 34,
        "fullcodeline": "elif isinstance(response, TextResponse):"
    },
    {
        "line": 30,
        "fullcodeline": "_remove_html_comments(body)"
    },
    {
        "line": 31,
        "fullcodeline": "repl = rf'\\0<base href=\"{response.url}\">'"
    },
    {
        "line": 32,
        "fullcodeline": "body = re.sub(rb\"<head(?:[^<>]*?>)\", to_bytes(repl), body, count=1)"
    },
    {
        "line": 35,
        "fullcodeline": "ext = \".txt\""
    },
    {
        "line": 37,
        "fullcodeline": "raise TypeError(\"Unsupported response type: \" f\"{response.__class__.__name__}\")"
    }
]