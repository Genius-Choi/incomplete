[
    {
        "line": 10,
        "fullcodeline": "zip_filename = base_name + \".zip\""
    },
    {
        "line": 11,
        "fullcodeline": "archive_dir = os.path.dirname(base_name)"
    },
    {
        "line": 13,
        "fullcodeline": "if archive_dir and not os.path.exists(archive_dir):"
    },
    {
        "line": 27,
        "fullcodeline": "if zipfile is None:"
    },
    {
        "line": 22,
        "fullcodeline": "import zlib"
    },
    {
        "line": 23,
        "fullcodeline": "import zipfile"
    },
    {
        "line": 28,
        "fullcodeline": "_call_external_zip(base_dir, zip_filename, verbose, dry_run, logger)"
    },
    {
        "line": 14,
        "fullcodeline": "if logger is not None:"
    },
    {
        "line": 16,
        "fullcodeline": "if not dry_run:"
    },
    {
        "line": 30,
        "fullcodeline": "if logger is not None:"
    },
    {
        "line": 34,
        "fullcodeline": "if not dry_run:"
    },
    {
        "line": 15,
        "fullcodeline": "logger.info(\"creating %s\", archive_dir)"
    },
    {
        "line": 17,
        "fullcodeline": "os.makedirs(archive_dir)"
    },
    {
        "line": 25,
        "fullcodeline": "zipfile = None"
    },
    {
        "line": 31,
        "fullcodeline": "logger.info(\"creating '%s' and adding '%s' to it\","
    },
    {
        "line": 35,
        "fullcodeline": "with zipfile.ZipFile(zip_filename, \"w\","
    },
    {
        "line": 37,
        "fullcodeline": "path = os.path.normpath(base_dir)"
    },
    {
        "line": 38,
        "fullcodeline": "if path != os.curdir:"
    },
    {
        "line": 42,
        "fullcodeline": "for dirpath, dirnames, filenames in os.walk(base_dir):"
    },
    {
        "line": 39,
        "fullcodeline": "zf.write(path, path)"
    },
    {
        "line": 40,
        "fullcodeline": "if logger is not None:"
    },
    {
        "line": 41,
        "fullcodeline": "logger.info(\"adding '%s'\", path)"
    },
    {
        "line": 43,
        "fullcodeline": "for name in sorted(dirnames):"
    },
    {
        "line": 48,
        "fullcodeline": "for name in filenames:"
    },
    {
        "line": 44,
        "fullcodeline": "path = os.path.normpath(os.path.join(dirpath, name))"
    },
    {
        "line": 45,
        "fullcodeline": "zf.write(path, path)"
    },
    {
        "line": 49,
        "fullcodeline": "path = os.path.normpath(os.path.join(dirpath, name))"
    },
    {
        "line": 46,
        "fullcodeline": "if logger is not None:"
    },
    {
        "line": 47,
        "fullcodeline": "logger.info(\"adding '%s'\", path)"
    },
    {
        "line": 50,
        "fullcodeline": "if os.path.isfile(path):"
    },
    {
        "line": 51,
        "fullcodeline": "zf.write(path, path)"
    },
    {
        "line": 52,
        "fullcodeline": "if logger is not None:"
    },
    {
        "line": 53,
        "fullcodeline": "logger.info(\"adding '%s'\", path)"
    }
]