[
    {
        "line": 2,
        "fullcodeline": "checkout = checkout_with_item"
    },
    {
        "line": 3,
        "fullcodeline": "checkout.user = customer_user"
    },
    {
        "line": 4,
        "fullcodeline": "checkout.save(update_fields=[\"user\"])"
    },
    {
        "line": 6,
        "fullcodeline": "checkout_id = graphene.Node.to_global_id(\"Checkout\", checkout.pk)"
    },
    {
        "line": 7,
        "fullcodeline": "variables = {\"checkoutId\": checkout_id}"
    },
    {
        "line": 10,
        "fullcodeline": "response = user_api_client.post_graphql("
    },
    {
        "line": 13,
        "fullcodeline": "content = get_graphql_content(response)"
    },
    {
        "line": 14,
        "fullcodeline": "data = content[\"data\"][\"checkoutCustomerDetach\"]"
    },
    {
        "line": 15,
        "fullcodeline": "assert not data[\"errors\"]"
    },
    {
        "line": 16,
        "fullcodeline": "checkout.refresh_from_db()"
    },
    {
        "line": 17,
        "fullcodeline": "assert checkout.user is None"
    },
    {
        "line": 20,
        "fullcodeline": "other_user = User.objects.create_user(\"othercustomer@example.com\", \"password\")"
    },
    {
        "line": 21,
        "fullcodeline": "checkout.user = other_user"
    },
    {
        "line": 22,
        "fullcodeline": "checkout.save()"
    },
    {
        "line": 23,
        "fullcodeline": "response = user_api_client.post_graphql("
    },
    {
        "line": 26,
        "fullcodeline": "assert_no_permission(response)"
    }
]