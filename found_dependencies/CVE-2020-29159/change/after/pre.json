[
    {
        "line": 6,
        "fullcodeline": "add_column :permissions, :allow_signup, :boolean, null: false, default: false"
    },
    {
        "line": 8,
        "fullcodeline": "signup_permissions = ["
    },
    {
        "line": 4,
        "fullcodeline": "return if !Setting.exists?(name: 'system_init_done')"
    },
    {
        "line": 24,
        "fullcodeline": "Role.where(default_at_signup: true).find_each do |role|"
    },
    {
        "line": 22,
        "fullcodeline": "Permission.where(name: signup_permissions).update(allow_signup: true)"
    }
]