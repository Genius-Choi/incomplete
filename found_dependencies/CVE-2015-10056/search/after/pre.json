[
    {
        "line": 2,
        "fullcodeline": "context_dict = {}"
    },
    {
        "line": 3,
        "fullcodeline": "q = request.GET['q'].replace('%', '').replace('_', '').strip()"
    },
    {
        "line": 4,
        "fullcodeline": "if 'q' in request.GET and q != '':"
    },
    {
        "line": 25,
        "fullcodeline": "return render(request, 'search.html', context_dict)"
    },
    {
        "line": 5,
        "fullcodeline": "q = '%' + q + '%'"
    },
    {
        "line": 6,
        "fullcodeline": "cursor = connection.cursor()"
    },
    {
        "line": 7,
        "fullcodeline": "cursor.execute(\"SELECT id,title,artist,cover FROM recordstoreapp_record WHERE title like %s or artist like %s or label like %s or cat_no like %s;\", [q,q,q,q])"
    },
    {
        "line": 8,
        "fullcodeline": "rec_list=cursor.fetchall()"
    },
    {
        "line": 11,
        "fullcodeline": "total=len(rec_list)"
    },
    {
        "line": 12,
        "fullcodeline": "pg=int(request.GET['page']) if 'page' in request.GET else 1"
    },
    {
        "line": 13,
        "fullcodeline": "ub=min(pg*12, total)"
    },
    {
        "line": 15,
        "fullcodeline": "context_dict['rec_list'] = rec_list[(pg-1)*12:ub]"
    },
    {
        "line": 16,
        "fullcodeline": "maxrange = int(total/12)"
    },
    {
        "line": 21,
        "fullcodeline": "context_dict['range'] = range(1,maxrange+1)"
    },
    {
        "line": 22,
        "fullcodeline": "print total"
    },
    {
        "line": 23,
        "fullcodeline": "context_dict['q'] = q"
    }
]