[
    {
        "line": 6,
        "fullcodeline": "njs_value_t             arguments[2];"
    },
    {
        "line": 20,
        "fullcodeline": "promise = njs_promise(value);"
    },
    {
        "line": 21,
        "fullcodeline": "data = njs_data(&promise->value);"
    },
    {
        "line": 23,
        "fullcodeline": "fulfilled_reaction = njs_mp_alloc(vm->mem_pool,"
    },
    {
        "line": 30,
        "fullcodeline": "fulfilled_reaction->capability = capability;"
    },
    {
        "line": 32,
        "fullcodeline": "fulfilled_reaction->type = NJS_PROMISE_FULFILL;"
    },
    {
        "line": 34,
        "fullcodeline": "rejected_reaction = njs_mp_alloc(vm->mem_pool,"
    },
    {
        "line": 41,
        "fullcodeline": "rejected_reaction->capability = capability;"
    },
    {
        "line": 43,
        "fullcodeline": "rejected_reaction->type = NJS_PROMISE_REJECTED;"
    },
    {
        "line": 75,
        "fullcodeline": "data->is_handled = 1;"
    },
    {
        "line": 12,
        "fullcodeline": "if (!njs_is_function(fulfilled)) {"
    },
    {
        "line": 16,
        "fullcodeline": "if (!njs_is_function(rejected)) {"
    },
    {
        "line": 25,
        "fullcodeline": "if (njs_slow_path(fulfilled_reaction == NULL)) {"
    },
    {
        "line": 36,
        "fullcodeline": "if (njs_slow_path(rejected_reaction == NULL)) {"
    },
    {
        "line": 45,
        "fullcodeline": "if (data->state == NJS_PROMISE_PENDING) {"
    },
    {
        "line": 77,
        "fullcodeline": "if (capability == NULL) {"
    },
    {
        "line": 13,
        "fullcodeline": "fulfilled = njs_value_arg(&njs_value_undefined);"
    },
    {
        "line": 17,
        "fullcodeline": "rejected = njs_value_arg(&njs_value_undefined);"
    },
    {
        "line": 26,
        "fullcodeline": "njs_memory_error(vm);"
    },
    {
        "line": 37,
        "fullcodeline": "njs_memory_error(vm);"
    },
    {
        "line": 46,
        "fullcodeline": "njs_queue_insert_tail(&data->fulfill_queue, &fulfilled_reaction->link);"
    },
    {
        "line": 47,
        "fullcodeline": "njs_queue_insert_tail(&data->reject_queue, &rejected_reaction->link);"
    },
    {
        "line": 78,
        "fullcodeline": "njs_vm_retval_set(vm, &njs_value_undefined);"
    },
    {
        "line": 50,
        "fullcodeline": "function = njs_promise_create_function(vm,"
    },
    {
        "line": 52,
        "fullcodeline": "function->u.native = njs_promise_reaction_job;"
    },
    {
        "line": 67,
        "fullcodeline": "arguments[1] = data->result;"
    },
    {
        "line": 69,
        "fullcodeline": "ret = njs_promise_add_event(vm, function, arguments, 2);"
    },
    {
        "line": 81,
        "fullcodeline": "njs_vm_retval_set(vm, &capability->promise);"
    },
    {
        "line": 54,
        "fullcodeline": "if (data->state == NJS_PROMISE_REJECTED) {"
    },
    {
        "line": 70,
        "fullcodeline": "if (njs_slow_path(ret != NJS_OK)) {"
    },
    {
        "line": 55,
        "fullcodeline": "njs_set_data(&arguments[0], rejected_reaction, 0);"
    },
    {
        "line": 57,
        "fullcodeline": "ret = njs_promise_host_rejection_tracker(vm, promise,"
    },
    {
        "line": 59,
        "fullcodeline": "if (njs_slow_path(ret != NJS_OK)) {"
    },
    {
        "line": 64,
        "fullcodeline": "njs_set_data(&arguments[0], fulfilled_reaction, 0);"
    }
]