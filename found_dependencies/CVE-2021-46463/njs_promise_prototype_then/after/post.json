[
    {
        "line": 9,
        "fullcodeline": "promise = njs_argument(args, 0);"
    },
    {
        "line": 15,
        "fullcodeline": "function = njs_promise_create_function(vm, sizeof(njs_promise_context_t));"
    },
    {
        "line": 16,
        "fullcodeline": "function->u.native = njs_promise_constructor;"
    },
    {
        "line": 18,
        "fullcodeline": "njs_set_function(&constructor, function);"
    },
    {
        "line": 20,
        "fullcodeline": "ret = njs_value_species_constructor(vm, promise, &constructor,"
    },
    {
        "line": 26,
        "fullcodeline": "capability = njs_promise_new_capability(vm, &constructor);"
    },
    {
        "line": 31,
        "fullcodeline": "fulfilled = njs_arg(args, nargs, 1);"
    },
    {
        "line": 32,
        "fullcodeline": "rejected = njs_arg(args, nargs, 2);"
    },
    {
        "line": 39,
        "fullcodeline": "njs_type_error(vm, \"required a promise object\");"
    },
    {
        "line": 11,
        "fullcodeline": "if (njs_slow_path(!njs_is_promise(promise))) {"
    },
    {
        "line": 22,
        "fullcodeline": "if (njs_slow_path(ret != NJS_OK)) {"
    },
    {
        "line": 27,
        "fullcodeline": "if (njs_slow_path(capability == NULL)) {"
    },
    {
        "line": 34,
        "fullcodeline": "return njs_promise_perform_then(vm, promise, fulfilled, rejected,"
    }
]