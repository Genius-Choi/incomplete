[
    {
        "line": 27,
        "fullcodeline": "use_xfh = get('base_url_filter.use_x_forwarded_host', False)"
    },
    {
        "line": 34,
        "fullcodeline": "base_url = '%s://%s' % (scheme, get_server_name())"
    },
    {
        "line": 32,
        "fullcodeline": "if not scheme:"
    },
    {
        "line": 35,
        "fullcodeline": "if get('base_url_filter.on', False) and not use_xfh:"
    },
    {
        "line": 37,
        "fullcodeline": "return '%s%s' % (base_url, url(tgpath, params, **kw))"
    },
    {
        "line": 28,
        "fullcodeline": "if request.headers.get('X-Use-SSL'):"
    },
    {
        "line": 29,
        "fullcodeline": "scheme = 'https'"
    },
    {
        "line": 31,
        "fullcodeline": "scheme = get('tg.url_scheme')"
    },
    {
        "line": 36,
        "fullcodeline": "base_url = get('base_url_filter.base_url').rstrip('/')"
    }
]