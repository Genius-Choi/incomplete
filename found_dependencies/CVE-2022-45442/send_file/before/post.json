[
    {
        "line": 6,
        "fullcodeline": "disposition = opts[:disposition]"
    },
    {
        "line": 7,
        "fullcodeline": "filename    = opts[:filename]"
    },
    {
        "line": 14,
        "fullcodeline": "file   = Rack::File.new(File.dirname(settings.app_file))"
    },
    {
        "line": 15,
        "fullcodeline": "result = file.serving(request, path)"
    },
    {
        "line": 17,
        "fullcodeline": "result[1].each { |k, v| headers[k] ||= v }"
    },
    {
        "line": 20,
        "fullcodeline": "halt (opts[:status] || result[0]), result[2]"
    },
    {
        "line": 2,
        "fullcodeline": "if opts[:type] || !response['Content-Type']"
    },
    {
        "line": 8,
        "fullcodeline": "disposition = :attachment if disposition.nil? && filename"
    },
    {
        "line": 3,
        "fullcodeline": "content_type opts[:type] || File.extname(path), default: 'application/octet-stream'"
    },
    {
        "line": 9,
        "fullcodeline": "filename    = path        if filename.nil?"
    },
    {
        "line": 10,
        "fullcodeline": "attachment(filename, disposition) if disposition"
    },
    {
        "line": 12,
        "fullcodeline": "last_modified opts[:last_modified] if opts[:last_modified]"
    },
    {
        "line": 19,
        "fullcodeline": "opts[:status] &&= Integer(opts[:status])"
    }
]