[
    {
        "line": 3,
        "fullcodeline": "struct dir_iterator_int *iter = xcalloc(1, sizeof(*iter));"
    },
    {
        "line": 4,
        "fullcodeline": "struct dir_iterator *dir_iterator = &iter->base;"
    },
    {
        "line": 7,
        "fullcodeline": "strbuf_init(&iter->base.path, PATH_MAX);"
    },
    {
        "line": 8,
        "fullcodeline": "strbuf_addstr(&iter->base.path, path);"
    },
    {
        "line": 10,
        "fullcodeline": "ALLOC_GROW(iter->levels, 10, iter->levels_alloc);"
    },
    {
        "line": 11,
        "fullcodeline": "iter->levels_nr = 0;"
    },
    {
        "line": 12,
        "fullcodeline": "iter->flags = flags;"
    },
    {
        "line": 18,
        "fullcodeline": "if (iter->flags & DIR_ITERATOR_FOLLOW_SYMLINKS)"
    },
    {
        "line": 23,
        "fullcodeline": "if (err < 0) {"
    },
    {
        "line": 28,
        "fullcodeline": "if (!S_ISDIR(iter->base.st.st_mode)) {"
    },
    {
        "line": 19,
        "fullcodeline": "err = stat(iter->base.path.buf, &iter->base.st);"
    },
    {
        "line": 24,
        "fullcodeline": "saved_errno = errno;"
    },
    {
        "line": 29,
        "fullcodeline": "saved_errno = ENOTDIR;"
    },
    {
        "line": 21,
        "fullcodeline": "err = lstat(iter->base.path.buf, &iter->base.st);"
    }
]