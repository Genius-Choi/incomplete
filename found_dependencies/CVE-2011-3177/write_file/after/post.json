[
    {
        "line": 4,
        "fullcodeline": "Pathname pn(filename);"
    },
    {
        "line": 5,
        "fullcodeline": "PathInfo::assert_dir (pn.dirname ());"
    },
    {
        "line": 7,
        "fullcodeline": "mode_t file_umask = section.isPrivate()? 0077: 0022;"
    },
    {
        "line": 8,
        "fullcodeline": "mode_t orig_umask = umask(file_umask);"
    },
    {
        "line": 10,
        "fullcodeline": "unlink(filename.c_str());"
    },
    {
        "line": 12,
        "fullcodeline": "ofstream of(filename.c_str());"
    },
    {
        "line": 18,
        "fullcodeline": "write_helper (section, of, 0);"
    },
    {
        "line": 20,
        "fullcodeline": "of.close();"
    },
    {
        "line": 21,
        "fullcodeline": "umask(orig_umask);"
    },
    {
        "line": 13,
        "fullcodeline": "if (!of.good()) {"
    },
    {
        "line": 14,
        "fullcodeline": "y2error (\"Can not open file %s for write\", filename.c_str());"
    },
    {
        "line": 15,
        "fullcodeline": "return -1;"
    }
]