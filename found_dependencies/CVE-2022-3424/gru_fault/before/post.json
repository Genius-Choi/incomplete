[
    {
        "line": 3,
        "fullcodeline": "struct vm_area_struct *vma = vmf->vma;"
    },
    {
        "line": 8,
        "fullcodeline": "vaddr = vmf->address;"
    },
    {
        "line": 9,
        "fullcodeline": "gru_dbg(grudev, \"vma %p, vaddr 0x%lx (0x%lx)\\n\","
    },
    {
        "line": 11,
        "fullcodeline": "STAT(nopfn);"
    },
    {
        "line": 14,
        "fullcodeline": "gts = gru_find_thread_state(vma, TSID(vaddr, vma));"
    },
    {
        "line": 19,
        "fullcodeline": "mutex_lock(&gts->ts_ctxlock);"
    },
    {
        "line": 20,
        "fullcodeline": "preempt_disable();"
    },
    {
        "line": 22,
        "fullcodeline": "gru_check_context_placement(gts);"
    },
    {
        "line": 43,
        "fullcodeline": "preempt_enable();"
    },
    {
        "line": 44,
        "fullcodeline": "mutex_unlock(&gts->ts_ctxlock);"
    },
    {
        "line": 10,
        "fullcodeline": "vma, vaddr, GSEG_BASE(vaddr));"
    },
    {
        "line": 15,
        "fullcodeline": "if (!gts)"
    },
    {
        "line": 24,
        "fullcodeline": "if (!gts->ts_gru) {"
    },
    {
        "line": 25,
        "fullcodeline": "STAT(load_user_context);"
    },
    {
        "line": 36,
        "fullcodeline": "gru_load_context(gts);"
    },
    {
        "line": 37,
        "fullcodeline": "paddr = gseg_physical_address(gts->ts_gru, gts->ts_ctxnum);"
    },
    {
        "line": 38,
        "fullcodeline": "remap_pfn_range(vma, vaddr & ~(GRU_GSEG_PAGESIZE - 1),"
    },
    {
        "line": 26,
        "fullcodeline": "if (!gru_assign_gru_context(gts)) {"
    },
    {
        "line": 39,
        "fullcodeline": "paddr >> PAGE_SHIFT, GRU_GSEG_PAGESIZE,"
    },
    {
        "line": 27,
        "fullcodeline": "preempt_enable();"
    },
    {
        "line": 28,
        "fullcodeline": "mutex_unlock(&gts->ts_ctxlock);"
    },
    {
        "line": 29,
        "fullcodeline": "set_current_state(TASK_INTERRUPTIBLE);"
    },
    {
        "line": 30,
        "fullcodeline": "schedule_timeout(GRU_ASSIGN_DELAY);  /* true hack ZZZ */"
    },
    {
        "line": 31,
        "fullcodeline": "expires = gts->ts_steal_jiffies + GRU_STEAL_DELAY;"
    },
    {
        "line": 32,
        "fullcodeline": "if (time_before(expires, jiffies))"
    },
    {
        "line": 33,
        "fullcodeline": "gru_steal_context(gts);"
    }
]