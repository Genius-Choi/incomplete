[
    {
        "line": 5,
        "fullcodeline": "int ret = 0;"
    },
    {
        "line": 7,
        "fullcodeline": "STAT(set_context_option);"
    },
    {
        "line": 10,
        "fullcodeline": "gru_dbg(grudev, \"op %d, gseg 0x%lx, value1 0x%lx\\n\", req.op, req.gseg, req.val1);"
    },
    {
        "line": 12,
        "fullcodeline": "gts = gru_find_lock_gts(req.gseg);"
    },
    {
        "line": 13,
        "fullcodeline": "if (!gts) {"
    },
    {
        "line": 14,
        "fullcodeline": "gts = gru_alloc_locked_gts(req.gseg);"
    },
    {
        "line": 38,
        "fullcodeline": "gts->ts_tgid_owner = current->tgid;"
    },
    {
        "line": 42,
        "fullcodeline": "gts->ts_cch_req_slice = req.val1 & 3;"
    },
    {
        "line": 45,
        "fullcodeline": "ret = -EINVAL;"
    },
    {
        "line": 9,
        "fullcodeline": "return -EFAULT;"
    },
    {
        "line": 15,
        "fullcodeline": "if (IS_ERR(gts))"
    },
    {
        "line": 22,
        "fullcodeline": "if (req.val0 < -1 || req.val0 >= GRU_CHIPLETS_PER_HUB ||"
    },
    {
        "line": 24,
        "fullcodeline": "(req.val1 >= 0 && !gru_base[req.val1])) {"
    },
    {
        "line": 25,
        "fullcodeline": "ret = -EINVAL;"
    },
    {
        "line": 16,
        "fullcodeline": "return PTR_ERR(gts);"
    },
    {
        "line": 23,
        "fullcodeline": "req.val1 < -1 || req.val1 >= GRU_MAX_BLADES ||"
    },
    {
        "line": 27,
        "fullcodeline": "gts->ts_user_blade_id = req.val1;"
    },
    {
        "line": 28,
        "fullcodeline": "gts->ts_user_chiplet_id = req.val0;"
    },
    {
        "line": 29,
        "fullcodeline": "if (gru_check_context_placement(gts)) {"
    },
    {
        "line": 30,
        "fullcodeline": "gru_unlock_gts(gts);"
    }
]