[
    {
        "line": 6,
        "fullcodeline": "attrs = {}"
    },
    {
        "line": 10,
        "fullcodeline": "attrs[:details] = details.map { |r| \"#{r[0]}: #{r[1]}\" }.join(\"\\n\")"
    },
    {
        "line": 11,
        "fullcodeline": "attrs[:acting_user_id] = @admin.id"
    },
    {
        "line": 12,
        "fullcodeline": "attrs[:action] = UserHistory.actions[:custom_staff]"
    },
    {
        "line": 13,
        "fullcodeline": "attrs[:custom_type] = custom_type"
    },
    {
        "line": 1,
        "fullcodeline": "def log_custom(custom_type, details = nil)"
    },
    {
        "line": 2,
        "fullcodeline": "raise Discourse::InvalidParameters.new(:custom_type) unless custom_type"
    },
    {
        "line": 15,
        "fullcodeline": "UserHistory.create!(attrs)"
    },
    {
        "line": 4,
        "fullcodeline": "details ||= {}"
    },
    {
        "line": 7,
        "fullcodeline": "StaffActionLogger.base_attrs.each do |attr|"
    }
]