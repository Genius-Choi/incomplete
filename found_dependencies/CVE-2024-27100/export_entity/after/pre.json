[
    {
        "line": 2,
        "fullcodeline": "guardian.ensure_can_export_entity!(export_params[:entity])"
    },
    {
        "line": 3,
        "fullcodeline": "entity = export_params[:entity]"
    },
    {
        "line": 23,
        "fullcodeline": "render json: success_json"
    },
    {
        "line": 4,
        "fullcodeline": "raise Discourse::InvalidParameters.new(:entity) unless entity.is_a?(String) && entity.size < 100"
    },
    {
        "line": 12,
        "fullcodeline": "if entity == \"user_archive\""
    },
    {
        "line": 6,
        "fullcodeline": "(export_params[:args] || {}).each do |key, value|"
    },
    {
        "line": 13,
        "fullcodeline": "Jobs.enqueue(:export_user_archive, user_id: current_user.id, args: export_params[:args])"
    },
    {
        "line": 15,
        "fullcodeline": "Jobs.enqueue("
    },
    {
        "line": 22,
        "fullcodeline": "StaffActionLogger.new(current_user).log_entity_export(entity)"
    },
    {
        "line": 25,
        "fullcodeline": "render_json_error I18n.t(\"csv_export.rate_limit_error\")"
    }
]