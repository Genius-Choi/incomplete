[
    {
        "line": 2,
        "fullcodeline": "guardian.ensure_can_export_entity!(export_params[:entity])"
    },
    {
        "line": 14,
        "fullcodeline": "StaffActionLogger.new(current_user).log_entity_export(export_params[:entity])"
    },
    {
        "line": 15,
        "fullcodeline": "render json: success_json"
    },
    {
        "line": 4,
        "fullcodeline": "if export_params[:entity] == \"user_archive\""
    },
    {
        "line": 5,
        "fullcodeline": "Jobs.enqueue(:export_user_archive, user_id: current_user.id, args: export_params[:args])"
    },
    {
        "line": 7,
        "fullcodeline": "Jobs.enqueue("
    },
    {
        "line": 17,
        "fullcodeline": "render_json_error I18n.t(\"csv_export.rate_limit_error\")"
    }
]