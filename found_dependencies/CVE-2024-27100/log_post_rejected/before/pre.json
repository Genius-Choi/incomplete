[
    {
        "line": 4,
        "fullcodeline": "topic = reviewable.topic || Topic.with_deleted.find_by(id: reviewable.topic_id)"
    },
    {
        "line": 5,
        "fullcodeline": "topic_title = topic&.title || I18n.t(\"staff_action_logs.not_found\")"
    },
    {
        "line": 6,
        "fullcodeline": "username = reviewable.target_created_by&.username || I18n.t(\"staff_action_logs.unknown\")"
    },
    {
        "line": 7,
        "fullcodeline": "name = reviewable.target_created_by&.name || I18n.t(\"staff_action_logs.unknown\")"
    },
    {
        "line": 9,
        "fullcodeline": "details = ["
    },
    {
        "line": 1,
        "fullcodeline": "def log_post_rejected(reviewable, rejected_at, opts = {})"
    },
    {
        "line": 2,
        "fullcodeline": "raise Discourse::InvalidParameters.new(:rejected_post) unless reviewable.is_a?(Reviewable)"
    },
    {
        "line": 17,
        "fullcodeline": "UserHistory.create!("
    },
    {
        "line": 10,
        "fullcodeline": "\"created_at: #{reviewable.created_at}\","
    },
    {
        "line": 11,
        "fullcodeline": "\"rejected_at: #{rejected_at}\","
    },
    {
        "line": 12,
        "fullcodeline": "\"user: #{username} (#{name})\","
    },
    {
        "line": 13,
        "fullcodeline": "\"topic: #{topic_title}\","
    },
    {
        "line": 14,
        "fullcodeline": "\"raw: #{reviewable.payload[\"raw\"]}\","
    },
    {
        "line": 18,
        "fullcodeline": "params(opts).merge(action: UserHistory.actions[:post_rejected], details: details.join(\"\\n\")),"
    }
]