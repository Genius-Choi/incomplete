[
    {
        "line": 7,
        "fullcodeline": "struct gfs2_inode *ip = GFS2_I(inode);"
    },
    {
        "line": 8,
        "fullcodeline": "struct gfs2_sbd *sdp = GFS2_SB(inode);"
    },
    {
        "line": 9,
        "fullcodeline": "struct buffer_head *dibh = mp->mp_bh[0];"
    },
    {
        "line": 10,
        "fullcodeline": "u64 bn, dblock = 0;"
    },
    {
        "line": 11,
        "fullcodeline": "unsigned n, i, blks, alloced = 0, iblks = 0, branch_start = 0;"
    },
    {
        "line": 12,
        "fullcodeline": "unsigned dblks = 0;"
    },
    {
        "line": 14,
        "fullcodeline": "const unsigned end_of_metadata = height - 1;"
    },
    {
        "line": 15,
        "fullcodeline": "int eob = 0;"
    },
    {
        "line": 18,
        "fullcodeline": "__be64 zero_bn = 0;"
    },
    {
        "line": 20,
        "fullcodeline": "BUG_ON(sheight < 1);"
    },
    {
        "line": 21,
        "fullcodeline": "BUG_ON(dibh == NULL);"
    },
    {
        "line": 23,
        "fullcodeline": "gfs2_trans_add_bh(ip->i_gl, dibh, 1);"
    },
    {
        "line": 53,
        "fullcodeline": "blks = dblks + iblks;"
    },
    {
        "line": 54,
        "fullcodeline": "i = sheight;"
    },
    {
        "line": 121,
        "fullcodeline": "ip->i_height = height;"
    },
    {
        "line": 124,
        "fullcodeline": "map_bh(bh_map, inode->i_sb, dblock);"
    },
    {
        "line": 125,
        "fullcodeline": "bh_map->b_size = dblks << inode->i_blkbits;"
    },
    {
        "line": 25,
        "fullcodeline": "if (height == sheight) {"
    },
    {
        "line": 119,
        "fullcodeline": "} while ((state != ALLOC_DATA) || !dblock);"
    },
    {
        "line": 28,
        "fullcodeline": "ptr = metapointer(end_of_metadata, mp);"
    },
    {
        "line": 29,
        "fullcodeline": "bh = mp->mp_bh[end_of_metadata];"
    },
    {
        "line": 30,
        "fullcodeline": "dblks = gfs2_extent_length(bh->b_data, bh->b_size, ptr, maxlen,"
    },
    {
        "line": 32,
        "fullcodeline": "BUG_ON(dblks < 1);"
    },
    {
        "line": 33,
        "fullcodeline": "state = ALLOC_DATA;"
    },
    {
        "line": 57,
        "fullcodeline": "n = blks - alloced;"
    },
    {
        "line": 58,
        "fullcodeline": "error = gfs2_alloc_block(ip, &bn, &n);"
    },
    {
        "line": 61,
        "fullcodeline": "alloced += n;"
    },
    {
        "line": 36,
        "fullcodeline": "ptrs_per_blk = height > 1 ? sdp->sd_inptrs : sdp->sd_diptrs;"
    },
    {
        "line": 37,
        "fullcodeline": "dblks = min(maxlen, ptrs_per_blk - mp->mp_list[end_of_metadata]);"
    },
    {
        "line": 62,
        "fullcodeline": "if (state != ALLOC_DATA || gfs2_is_jdata(ip))"
    },
    {
        "line": 38,
        "fullcodeline": "if (height == ip->i_height) {"
    },
    {
        "line": 63,
        "fullcodeline": "gfs2_trans_add_unrevoke(sdp, bn, n);"
    },
    {
        "line": 109,
        "fullcodeline": "BUG_ON(n > dblks);"
    },
    {
        "line": 110,
        "fullcodeline": "BUG_ON(mp->mp_bh[end_of_metadata] == NULL);"
    },
    {
        "line": 111,
        "fullcodeline": "gfs2_trans_add_bh(ip->i_gl, mp->mp_bh[end_of_metadata], 1);"
    },
    {
        "line": 112,
        "fullcodeline": "dblks = n;"
    },
    {
        "line": 113,
        "fullcodeline": "ptr = metapointer(end_of_metadata, mp);"
    },
    {
        "line": 114,
        "fullcodeline": "dblock = bn;"
    },
    {
        "line": 40,
        "fullcodeline": "iblks = height - sheight;"
    },
    {
        "line": 41,
        "fullcodeline": "state = ALLOC_GROW_DEPTH;"
    },
    {
        "line": 67,
        "fullcodeline": "if (i == 1) {"
    },
    {
        "line": 72,
        "fullcodeline": "for (; i - 1 < height - ip->i_height && n > 0; i++, n--)"
    },
    {
        "line": 73,
        "fullcodeline": "gfs2_indirect_init(mp, ip->i_gl, i, 0, bn++);"
    },
    {
        "line": 74,
        "fullcodeline": "if (i - 1 == height - ip->i_height) {"
    },
    {
        "line": 94,
        "fullcodeline": "if (n == 0)"
    },
    {
        "line": 98,
        "fullcodeline": "if (i > 1 && i < height)"
    },
    {
        "line": 100,
        "fullcodeline": "for (; i < height && n > 0; i++, n--)"
    },
    {
        "line": 101,
        "fullcodeline": "gfs2_indirect_init(mp, ip->i_gl, i,"
    },
    {
        "line": 103,
        "fullcodeline": "if (i == height)"
    },
    {
        "line": 105,
        "fullcodeline": "if (n == 0)"
    },
    {
        "line": 115,
        "fullcodeline": "while (n-- > 0)"
    },
    {
        "line": 116,
        "fullcodeline": "*ptr++ = cpu_to_be64(bn++);"
    },
    {
        "line": 44,
        "fullcodeline": "state = ALLOC_GROW_HEIGHT;"
    },
    {
        "line": 45,
        "fullcodeline": "iblks = height - ip->i_height;"
    },
    {
        "line": 46,
        "fullcodeline": "branch_start = metapath_branch_start(mp);"
    },
    {
        "line": 47,
        "fullcodeline": "iblks += (height - branch_start);"
    },
    {
        "line": 68,
        "fullcodeline": "ptr = (__be64 *)(dibh->b_data +"
    },
    {
        "line": 70,
        "fullcodeline": "zero_bn = *ptr;"
    },
    {
        "line": 75,
        "fullcodeline": "i--;"
    },
    {
        "line": 76,
        "fullcodeline": "gfs2_buffer_copy_tail(mp->mp_bh[i],"
    },
    {
        "line": 79,
        "fullcodeline": "gfs2_buffer_clear_tail(dibh,"
    },
    {
        "line": 82,
        "fullcodeline": "ptr = (__be64 *)(mp->mp_bh[i]->b_data +"
    },
    {
        "line": 84,
        "fullcodeline": "*ptr = zero_bn;"
    },
    {
        "line": 85,
        "fullcodeline": "state = ALLOC_GROW_DEPTH;"
    },
    {
        "line": 92,
        "fullcodeline": "i = branch_start;"
    },
    {
        "line": 99,
        "fullcodeline": "gfs2_trans_add_bh(ip->i_gl, mp->mp_bh[i-1], 1);"
    },
    {
        "line": 102,
        "fullcodeline": "mp->mp_list[i-1], bn++);"
    },
    {
        "line": 104,
        "fullcodeline": "state = ALLOC_DATA;"
    },
    {
        "line": 86,
        "fullcodeline": "for(i = branch_start; i < height; i++) {"
    },
    {
        "line": 80,
        "fullcodeline": "sizeof(struct gfs2_dinode) +"
    },
    {
        "line": 81,
        "fullcodeline": "sizeof(__be64));"
    },
    {
        "line": 89,
        "fullcodeline": "brelse(mp->mp_bh[i]);"
    },
    {
        "line": 90,
        "fullcodeline": "mp->mp_bh[i] = NULL;"
    },
    {
        "line": 69,
        "fullcodeline": "sizeof(struct gfs2_dinode));"
    },
    {
        "line": 83,
        "fullcodeline": "sizeof(struct gfs2_meta_header));"
    },
    {
        "line": 87,
        "fullcodeline": "if (mp->mp_bh[i] == NULL)"
    }
]