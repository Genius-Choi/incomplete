[
    {
        "line": 6,
        "fullcodeline": "if shelf.is_public == 1:"
    },
    {
        "line": 3,
        "fullcodeline": "ident = ub.Shelf.id != shelf_id"
    },
    {
        "line": 5,
        "fullcodeline": "ident = true()"
    },
    {
        "line": 7,
        "fullcodeline": "is_shelf_name_unique = ub.session.query(ub.Shelf) \\"
    },
    {
        "line": 17,
        "fullcodeline": "is_shelf_name_unique = ub.session.query(ub.Shelf) \\"
    },
    {
        "line": 12,
        "fullcodeline": "if not is_shelf_name_unique:"
    },
    {
        "line": 23,
        "fullcodeline": "if not is_shelf_name_unique:"
    },
    {
        "line": 13,
        "fullcodeline": "log.error(\"A public shelf with the name '{}' already exists.\".format(title))"
    },
    {
        "line": 14,
        "fullcodeline": "flash(_(u\"A public shelf with the name '%(title)s' already exists.\", title=title),"
    },
    {
        "line": 24,
        "fullcodeline": "log.error(\"A private shelf with the name '{}' already exists.\".format(title))"
    },
    {
        "line": 25,
        "fullcodeline": "flash(_(u\"A private shelf with the name '%(title)s' already exists.\", title=title),"
    },
    {
        "line": 8,
        "fullcodeline": ".filter((ub.Shelf.name == title) & (ub.Shelf.is_public == 1)) \\"
    },
    {
        "line": 18,
        "fullcodeline": ".filter((ub.Shelf.name == title) & (ub.Shelf.is_public == 0) &"
    },
    {
        "line": 19,
        "fullcodeline": "(ub.Shelf.user_id == int(current_user.id))) \\"
    }
]