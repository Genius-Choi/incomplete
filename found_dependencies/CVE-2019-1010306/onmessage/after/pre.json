[
    {
        "line": 2,
        "fullcodeline": "msg = Oj.strict_load(msg)"
    },
    {
        "line": 6,
        "fullcodeline": "event = msg['event'].gsub(/\\Apusher:/, 'pusher_')"
    },
    {
        "line": 4,
        "fullcodeline": "msg['data'] = Oj.strict_load(msg['data']) if msg['data'].is_a? String"
    },
    {
        "line": 8,
        "fullcodeline": "if event =~ /\\Aclient-/"
    },
    {
        "line": 9,
        "fullcodeline": "msg['socket_id'] = connection.socket_id"
    },
    {
        "line": 10,
        "fullcodeline": "Channel.send_client_message msg"
    },
    {
        "line": 11,
        "fullcodeline": "elsif respond_to? event, true"
    },
    {
        "line": 16,
        "fullcodeline": "error({ code: 5001, message: \"Invalid JSON\" })"
    },
    {
        "line": 18,
        "fullcodeline": "error({ code: 500, message: \"#{e.message}\\n #{e.backtrace.join \"\\n\"}\" })"
    },
    {
        "line": 12,
        "fullcodeline": "send event, msg"
    }
]