[
    {
        "line": 2,
        "fullcodeline": "import ast"
    },
    {
        "line": 3,
        "fullcodeline": "import base64"
    },
    {
        "line": 4,
        "fullcodeline": "import json"
    },
    {
        "line": 5,
        "fullcodeline": "import os"
    },
    {
        "line": 6,
        "fullcodeline": "from html import unescape"
    },
    {
        "line": 7,
        "fullcodeline": "import werkzeug.utils"
    },
    {
        "line": 8,
        "fullcodeline": "import requests"
    },
    {
        "line": 10,
        "fullcodeline": "image_file = werkzeug.utils.secure_filename(ast.literal_eval(image_file))"
    },
    {
        "line": 12,
        "fullcodeline": "api = f\"http://{domain}:7873/bGVhdmVfcmlnaHRfbm93\""
    },
    {
        "line": 17,
        "fullcodeline": "im_b64 = base64.b64encode(im_bytes).decode(\"utf8\")"
    },
    {
        "line": 19,
        "fullcodeline": "headers = {\"Content-type\": \"application/json\", \"Accept\": \"text/plain\"}"
    },
    {
        "line": 21,
        "fullcodeline": "status = try_get_cached(domain, {\"title\": title, \"singer\": singer, \"album\": album})"
    },
    {
        "line": 22,
        "fullcodeline": "status = ast.literal_eval(str(status))"
    },
    {
        "line": 42,
        "fullcodeline": "cmd = \"del \" + image_file"
    },
    {
        "line": 43,
        "fullcodeline": "os.system(cmd)"
    },
    {
        "line": 14,
        "fullcodeline": "with open(image_file, \"rb\") as f:"
    },
    {
        "line": 24,
        "fullcodeline": "if status is None:"
    },
    {
        "line": 25,
        "fullcodeline": "print(\"Cached version not found. Uploading image with song metadata.\")"
    },
    {
        "line": 26,
        "fullcodeline": "payload = json.dumps("
    },
    {
        "line": 29,
        "fullcodeline": "response = requests.post(api, data=payload, headers=headers)"
    },
    {
        "line": 31,
        "fullcodeline": "data = unescape(response.text)"
    },
    {
        "line": 32,
        "fullcodeline": "print(data)"
    },
    {
        "line": 35,
        "fullcodeline": "print(data)"
    },
    {
        "line": 38,
        "fullcodeline": "data = status"
    },
    {
        "line": 15,
        "fullcodeline": "im_bytes = f.read()"
    },
    {
        "line": 16,
        "fullcodeline": "f.close()"
    },
    {
        "line": 34,
        "fullcodeline": "data = ast.literal_eval(data)[\"entry\"]"
    },
    {
        "line": 27,
        "fullcodeline": "{\"image\": im_b64, \"title\": title, \"singer\": singer, \"album\": album}"
    }
]