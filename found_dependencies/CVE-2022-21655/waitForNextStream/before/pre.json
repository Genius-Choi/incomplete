[
    {
        "line": 2,
        "fullcodeline": "FakeStreamPtr new_stream = nullptr;"
    },
    {
        "line": 3,
        "fullcodeline": "auto wait_new_stream_fn = [this,"
    },
    {
        "line": 32,
        "fullcodeline": "AssertionResult result = new_stream->waitForEndStream(*dispatcher_);"
    },
    {
        "line": 33,
        "fullcodeline": "ASSERT(result);"
    },
    {
        "line": 15,
        "fullcodeline": "while (new_stream == nullptr) {"
    },
    {
        "line": 16,
        "fullcodeline": "FakeHttpConnectionPtr new_connection = nullptr;"
    },
    {
        "line": 17,
        "fullcodeline": "AssertionResult result = fake_upstreams_[0]->waitForHttpConnection("
    },
    {
        "line": 18,
        "fullcodeline": "*dispatcher_, new_connection, std::chrono::milliseconds(50));"
    },
    {
        "line": 20,
        "fullcodeline": "ASSERT(new_connection);"
    },
    {
        "line": 21,
        "fullcodeline": "upstream_connections_.push_back(std::move(new_connection));"
    },
    {
        "line": 25,
        "fullcodeline": "result = wait_new_stream_fn(connection);"
    }
]