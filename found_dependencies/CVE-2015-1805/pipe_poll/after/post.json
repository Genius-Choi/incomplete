[
    {
        "line": 4,
        "fullcodeline": "struct pipe_inode_info *pipe = filp->private_data;"
    },
    {
        "line": 7,
        "fullcodeline": "poll_wait(filp, &pipe->wait, wait);"
    },
    {
        "line": 10,
        "fullcodeline": "nrbufs = pipe->nrbufs;"
    },
    {
        "line": 11,
        "fullcodeline": "mask = 0;"
    },
    {
        "line": 12,
        "fullcodeline": "if (filp->f_mode & FMODE_READ) {"
    },
    {
        "line": 18,
        "fullcodeline": "if (filp->f_mode & FMODE_WRITE) {"
    },
    {
        "line": 13,
        "fullcodeline": "mask = (nrbufs > 0) ? POLLIN | POLLRDNORM : 0;"
    },
    {
        "line": 19,
        "fullcodeline": "mask |= (nrbufs < pipe->buffers) ? POLLOUT | POLLWRNORM : 0;"
    },
    {
        "line": 14,
        "fullcodeline": "if (!pipe->writers && filp->f_version != pipe->w_counter)"
    },
    {
        "line": 24,
        "fullcodeline": "if (!pipe->readers)"
    },
    {
        "line": 15,
        "fullcodeline": "mask |= POLLHUP;"
    },
    {
        "line": 25,
        "fullcodeline": "mask |= POLLERR;"
    }
]