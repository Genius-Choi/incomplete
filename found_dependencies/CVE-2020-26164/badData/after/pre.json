[
    {
        "line": 3,
        "fullcodeline": "const QList<QByteArray> dataToSend = { \"data1\\n\", \"data\" }; //does not end in a \\n"
    },
    {
        "line": 7,
        "fullcodeline": "m_conn->flush();"
    },
    {
        "line": 9,
        "fullcodeline": "QSignalSpy spy(m_server, &QTcpServer::newConnection);"
    },
    {
        "line": 10,
        "fullcodeline": "QVERIFY(m_server->hasPendingConnections() || spy.wait(1000));"
    },
    {
        "line": 11,
        "fullcodeline": "QSslSocket* sock = m_server->nextPendingConnection();"
    },
    {
        "line": 13,
        "fullcodeline": "QVERIFY2(sock != nullptr, \"Could not open a connection to the client\");"
    },
    {
        "line": 15,
        "fullcodeline": "m_reader = new SocketLineReader(sock, this);"
    },
    {
        "line": 16,
        "fullcodeline": "connect(m_reader, &SocketLineReader::readyRead, this, &TestSocketLineReader::newPacket);"
    },
    {
        "line": 17,
        "fullcodeline": "m_timer.start();"
    },
    {
        "line": 18,
        "fullcodeline": "m_loop.exec();"
    },
    {
        "line": 20,
        "fullcodeline": "QCOMPARE(m_packets.count(), 1);"
    },
    {
        "line": 21,
        "fullcodeline": "QCOMPARE(m_packets[0], dataToSend[0]);"
    },
    {
        "line": 5,
        "fullcodeline": "m_conn->write(line);"
    }
]