[
    {
        "line": 2,
        "fullcodeline": "from lollms.security import sanitize_shell_code"
    },
    {
        "line": 3,
        "fullcodeline": "env_name = sanitize_shell_code(env_name)"
    },
    {
        "line": 4,
        "fullcodeline": "conda_path = get_conda_path()"
    },
    {
        "line": 5,
        "fullcodeline": "result = subprocess.run(f'{conda_path} env list --json', shell=True, capture_output=True, text=True)"
    },
    {
        "line": 6,
        "fullcodeline": "envs_info = json.loads(result.stdout)"
    },
    {
        "line": 7,
        "fullcodeline": "env_names = [Path(env).name for env in envs_info['envs']]"
    },
    {
        "line": 8,
        "fullcodeline": "return env_name in env_names"
    }
]