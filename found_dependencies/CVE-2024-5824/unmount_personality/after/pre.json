[
    {
        "line": 2,
        "fullcodeline": "check_access(lollmsElfServer, data.client_id)"
    },
    {
        "line": 3,
        "fullcodeline": "print(\"- Unmounting personality ...\")"
    },
    {
        "line": 4,
        "fullcodeline": "category = sanitize_path(data.category)"
    },
    {
        "line": 5,
        "fullcodeline": "name = sanitize_path(data.folder)"
    },
    {
        "line": 6,
        "fullcodeline": "language = data.language #.get('language', None)"
    },
    {
        "line": 8,
        "fullcodeline": "if category==\"\":"
    },
    {
        "line": 12,
        "fullcodeline": "personality_id = f\"{category}/{name}\" if language is None or language==\"\" else f\"{category}/{name}:{language}\""
    },
    {
        "line": 13,
        "fullcodeline": "index = lollmsElfServer.config[\"personalities\"].index(personality_id)"
    },
    {
        "line": 27,
        "fullcodeline": "ASCIIColors.success(\"ok\")"
    },
    {
        "line": 14,
        "fullcodeline": "lollmsElfServer.config[\"personalities\"].remove(personality_id)"
    },
    {
        "line": 15,
        "fullcodeline": "if lollmsElfServer.config[\"active_personality_id\"]>=index:"
    },
    {
        "line": 9,
        "fullcodeline": "return {\"status\":False, \"error\":\"category must not be empty.\"}"
    },
    {
        "line": 16,
        "fullcodeline": "lollmsElfServer.config[\"active_personality_id\"]=0"
    },
    {
        "line": 17,
        "fullcodeline": "if len(lollmsElfServer.config[\"personalities\"])>0:"
    },
    {
        "line": 18,
        "fullcodeline": "lollmsElfServer.mounted_personalities = lollmsElfServer.rebuild_personalities()"
    },
    {
        "line": 21,
        "fullcodeline": "lollmsElfServer.personalities = [\"generic/lollms\"]"
    },
    {
        "line": 22,
        "fullcodeline": "lollmsElfServer.mounted_personalities = lollmsElfServer.rebuild_personalities()"
    },
    {
        "line": 29,
        "fullcodeline": "ASCIIColors.info(\"Saving configuration\")"
    },
    {
        "line": 31,
        "fullcodeline": "return {"
    },
    {
        "line": 23,
        "fullcodeline": "if lollmsElfServer.config[\"active_personality_id\"]<len(lollmsElfServer.mounted_personalities):"
    },
    {
        "line": 30,
        "fullcodeline": "lollmsElfServer.config.save_config()"
    },
    {
        "line": 43,
        "fullcodeline": "ASCIIColors.yellow(f\"Available personalities: {[p.name for p in lollmsElfServer.mounted_personalities if p is not None]}\")"
    },
    {
        "line": 26,
        "fullcodeline": "lollmsElfServer.config[\"active_personality_id\"] = -1"
    },
    {
        "line": 39,
        "fullcodeline": "ASCIIColors.error(f\"nok : Personality not found @ {category}/{name}:{language}\")"
    },
    {
        "line": 41,
        "fullcodeline": "ASCIIColors.error(f\"nok : Personality not found @ {category}/{name}\")"
    },
    {
        "line": 44,
        "fullcodeline": "return {\"status\": False, \"error\":\"Couldn't unmount personality\"}"
    }
]