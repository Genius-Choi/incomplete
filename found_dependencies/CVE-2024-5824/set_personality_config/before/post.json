[
    {
        "line": 2,
        "fullcodeline": "check_access(lollmsElfServer, data.client_id)"
    },
    {
        "line": 3,
        "fullcodeline": "print(\"- Recovering personality config\")"
    },
    {
        "line": 4,
        "fullcodeline": "category = sanitize_path(data.category)"
    },
    {
        "line": 5,
        "fullcodeline": "name = sanitize_path(data.name)"
    },
    {
        "line": 6,
        "fullcodeline": "config = data.config"
    },
    {
        "line": 8,
        "fullcodeline": "package_path = f\"{category}/{name}\""
    },
    {
        "line": 14,
        "fullcodeline": "config_file = package_full_path / \"config.yaml\""
    },
    {
        "line": 9,
        "fullcodeline": "if category==\"custom_personalities\":"
    },
    {
        "line": 15,
        "fullcodeline": "if config_file.exists():"
    },
    {
        "line": 10,
        "fullcodeline": "package_full_path = lollmsElfServer.lollms_paths.custom_personalities_path/f\"{name}\""
    },
    {
        "line": 12,
        "fullcodeline": "package_full_path = lollmsElfServer.lollms_paths.personalities_zoo_path/package_path"
    },
    {
        "line": 19,
        "fullcodeline": "lollmsElfServer.mounted_personalities = lollmsElfServer.rebuild_personalities(reload_all=True)"
    },
    {
        "line": 20,
        "fullcodeline": "lollmsElfServer.InfoMessage(\"Personality updated\")"
    },
    {
        "line": 16,
        "fullcodeline": "with open(config_file,\"w\") as f:"
    },
    {
        "line": 21,
        "fullcodeline": "return {\"status\":True}"
    },
    {
        "line": 23,
        "fullcodeline": "return {\"status\":False, \"error\":\"Not found\"}"
    },
    {
        "line": 17,
        "fullcodeline": "yaml.safe_dump(config, f)"
    }
]