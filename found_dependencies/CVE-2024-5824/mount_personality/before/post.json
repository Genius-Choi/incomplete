[
    {
        "line": 2,
        "fullcodeline": "check_access(lollmsElfServer, data.client_id)"
    },
    {
        "line": 3,
        "fullcodeline": "print(\"- Mounting personality\")"
    },
    {
        "line": 4,
        "fullcodeline": "category = sanitize_path(data.category)"
    },
    {
        "line": 5,
        "fullcodeline": "name = sanitize_path(data.folder)"
    },
    {
        "line": 6,
        "fullcodeline": "language = data.language #.get('language', None)"
    },
    {
        "line": 8,
        "fullcodeline": "package_path = f\"{category}/{name}\""
    },
    {
        "line": 14,
        "fullcodeline": "config_file = package_full_path / \"config.yaml\""
    },
    {
        "line": 9,
        "fullcodeline": "if category==\"custom_personalities\":"
    },
    {
        "line": 15,
        "fullcodeline": "if config_file.exists():"
    },
    {
        "line": 10,
        "fullcodeline": "package_full_path = lollmsElfServer.lollms_paths.custom_personalities_path/f\"{name}\""
    },
    {
        "line": 12,
        "fullcodeline": "package_full_path = lollmsElfServer.lollms_paths.personalities_zoo_path/package_path"
    },
    {
        "line": 28,
        "fullcodeline": "lollmsElfServer.mounted_personalities = lollmsElfServer.rebuild_personalities()"
    },
    {
        "line": 29,
        "fullcodeline": "lollmsElfServer.config[\"active_personality_id\"]= len(lollmsElfServer.config[\"personalities\"])-1"
    },
    {
        "line": 31,
        "fullcodeline": "ASCIIColors.success(\"ok\")"
    },
    {
        "line": 49,
        "fullcodeline": "pth = str(config_file).replace('\\\\','/')"
    },
    {
        "line": 50,
        "fullcodeline": "ASCIIColors.error(f\"nok : Personality not found @ {pth}\")"
    },
    {
        "line": 51,
        "fullcodeline": "ASCIIColors.yellow(f\"Available personalities: {[p.name for p in lollmsElfServer.mounted_personalities]}\")"
    },
    {
        "line": 27,
        "fullcodeline": "lollmsElfServer.config[\"personalities\"].append(package_path)"
    },
    {
        "line": 32,
        "fullcodeline": "if lollmsElfServer.config[\"active_personality_id\"]<0:"
    },
    {
        "line": 17,
        "fullcodeline": "package_path += \":\" + language"
    },
    {
        "line": 33,
        "fullcodeline": "ASCIIColors.error(\"error:active_personality_id<0\")"
    },
    {
        "line": 43,
        "fullcodeline": "ASCIIColors.success(f\"Personality {name} mounted successfully\")"
    },
    {
        "line": 52,
        "fullcodeline": "return {\"status\": False, \"error\":f\"Personality not found @ {pth}\"}"
    },
    {
        "line": 34,
        "fullcodeline": "return {\"status\": False,"
    },
    {
        "line": 41,
        "fullcodeline": "ASCIIColors.info(\"Saving configuration\")"
    },
    {
        "line": 44,
        "fullcodeline": "return {\"status\": True,"
    },
    {
        "line": 42,
        "fullcodeline": "lollmsElfServer.config.save_config()"
    }
]