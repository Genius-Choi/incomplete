[
    {
        "line": 2,
        "fullcodeline": "import dtale.global_state as global_state"
    },
    {
        "line": 4,
        "fullcodeline": "global_state.clear_store()"
    },
    {
        "line": 5,
        "fullcodeline": "global_state.set_app_settings(dict(enable_web_uploads=True))"
    },
    {
        "line": 6,
        "fullcodeline": "with build_app(url=URL).test_client() as c:"
    },
    {
        "line": 7,
        "fullcodeline": "with ExitStack() as stack:"
    },
    {
        "line": 8,
        "fullcodeline": "load_csv = stack.enter_context("
    },
    {
        "line": 14,
        "fullcodeline": "load_excel = stack.enter_context("
    },
    {
        "line": 22,
        "fullcodeline": "load_json = stack.enter_context("
    },
    {
        "line": 28,
        "fullcodeline": "params = {\"type\": \"csv\", \"url\": \"http://test.com\"}"
    },
    {
        "line": 29,
        "fullcodeline": "c.get(\"/dtale/web-upload\", query_string=params)"
    },
    {
        "line": 30,
        "fullcodeline": "load_csv.assert_called_once()"
    },
    {
        "line": 31,
        "fullcodeline": "unittest.assertEqual("
    },
    {
        "line": 34,
        "fullcodeline": "assert global_state.size() == 1"
    },
    {
        "line": 35,
        "fullcodeline": "load_csv.reset_mock()"
    },
    {
        "line": 37,
        "fullcodeline": "params = {\"type\": \"tsv\", \"url\": \"http://test.com\"}"
    },
    {
        "line": 38,
        "fullcodeline": "c.get(\"/dtale/web-upload\", query_string=params)"
    },
    {
        "line": 39,
        "fullcodeline": "load_csv.assert_called_once()"
    },
    {
        "line": 40,
        "fullcodeline": "unittest.assertEqual("
    },
    {
        "line": 44,
        "fullcodeline": "assert global_state.size() == 2"
    },
    {
        "line": 46,
        "fullcodeline": "params = {"
    },
    {
        "line": 51,
        "fullcodeline": "c.get(\"/dtale/web-upload\", query_string=params)"
    },
    {
        "line": 52,
        "fullcodeline": "load_json.assert_called_once()"
    },
    {
        "line": 53,
        "fullcodeline": "unittest.assertEqual("
    },
    {
        "line": 57,
        "fullcodeline": "assert global_state.size() == 3"
    },
    {
        "line": 59,
        "fullcodeline": "params = {\"type\": \"excel\", \"url\": \"http://test.com\"}"
    },
    {
        "line": 60,
        "fullcodeline": "c.get(\"/dtale/web-upload\", query_string=params)"
    },
    {
        "line": 61,
        "fullcodeline": "load_excel.assert_called_once()"
    },
    {
        "line": 62,
        "fullcodeline": "unittest.assertEqual("
    },
    {
        "line": 65,
        "fullcodeline": "assert global_state.size() == 4"
    },
    {
        "line": 66,
        "fullcodeline": "global_state.clear_store()"
    },
    {
        "line": 67,
        "fullcodeline": "load_excel.reset_mock()"
    },
    {
        "line": 68,
        "fullcodeline": "load_excel.return_value = {"
    },
    {
        "line": 73,
        "fullcodeline": "sheets = resp.json[\"sheets\"]"
    },
    {
        "line": 74,
        "fullcodeline": "assert len(sheets) == 2"
    },
    {
        "line": 75,
        "fullcodeline": "unittest.assertEqual("
    },
    {
        "line": 79,
        "fullcodeline": "global_state.set_app_settings(dict(enable_web_uploads=False))"
    },
    {
        "line": 80,
        "fullcodeline": "resp = c.get(\"/dtale/web-upload\", query_string=params)"
    },
    {
        "line": 81,
        "fullcodeline": "response_data = resp.get_json()"
    },
    {
        "line": 82,
        "fullcodeline": "assert not response_data[\"success\"]"
    },
    {
        "line": 83,
        "fullcodeline": "assert response_data[\"error\"] == ("
    },
    {
        "line": 87,
        "fullcodeline": "global_state.set_app_settings(dict(enable_web_uploads=True))"
    },
    {
        "line": 72,
        "fullcodeline": "resp = c.get(\"/dtale/web-upload\", query_string=params)"
    },
    {
        "line": 76,
        "fullcodeline": "sorted([s[\"name\"] for s in sheets]), [\"Sheet 1\", \"Sheet 2\"]"
    },
    {
        "line": 9,
        "fullcodeline": "mock.patch("
    },
    {
        "line": 15,
        "fullcodeline": "mock.patch("
    },
    {
        "line": 23,
        "fullcodeline": "mock.patch("
    },
    {
        "line": 32,
        "fullcodeline": "load_csv.call_args[1], {\"path\": \"http://test.com\", \"proxy\": None}"
    },
    {
        "line": 42,
        "fullcodeline": "{\"path\": \"http://test.com\", \"proxy\": None, \"delimiter\": \"\\t\"},"
    },
    {
        "line": 55,
        "fullcodeline": "{\"path\": \"http://test.com\", \"proxy\": \"http://testproxy.com\"},"
    },
    {
        "line": 63,
        "fullcodeline": "load_excel.call_args[1], {\"path\": \"http://test.com\", \"proxy\": None}"
    },
    {
        "line": 84,
        "fullcodeline": "\"Web uploads not enabled! Web uploads are vulnerable to blind server side request forgery, please \""
    },
    {
        "line": 11,
        "fullcodeline": "mock.Mock(return_value=pd.DataFrame(dict(a=[1], b=[2]))),"
    },
    {
        "line": 17,
        "fullcodeline": "mock.Mock("
    },
    {
        "line": 25,
        "fullcodeline": "mock.Mock(return_value=pd.DataFrame(dict(a=[1], b=[2]))),"
    },
    {
        "line": 69,
        "fullcodeline": "\"Sheet 1\": pd.DataFrame(dict(a=[1], b=[2])),"
    },
    {
        "line": 70,
        "fullcodeline": "\"Sheet 2\": pd.DataFrame(dict(c=[1], d=[2])),"
    },
    {
        "line": 18,
        "fullcodeline": "return_value={\"Sheet 1\": pd.DataFrame(dict(a=[1], b=[2]))}"
    }
]