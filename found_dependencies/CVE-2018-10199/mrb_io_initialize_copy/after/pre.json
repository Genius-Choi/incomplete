[
    {
        "line": 7,
        "fullcodeline": "mrb_bool failed = TRUE;"
    },
    {
        "line": 9,
        "fullcodeline": "mrb_get_args(mrb, \"o\", &orig);"
    },
    {
        "line": 10,
        "fullcodeline": "fptr_orig = io_get_open_fptr(mrb, orig);"
    },
    {
        "line": 11,
        "fullcodeline": "fptr_copy = (struct mrb_io *)DATA_PTR(copy);"
    },
    {
        "line": 16,
        "fullcodeline": "fptr_copy = (struct mrb_io *)mrb_io_alloc(mrb);"
    },
    {
        "line": 18,
        "fullcodeline": "DATA_TYPE(copy) = &mrb_io_type;"
    },
    {
        "line": 19,
        "fullcodeline": "DATA_PTR(copy) = fptr_copy;"
    },
    {
        "line": 21,
        "fullcodeline": "buf = mrb_iv_get(mrb, orig, mrb_intern_cstr(mrb, \"@buf\"));"
    },
    {
        "line": 22,
        "fullcodeline": "mrb_iv_set(mrb, copy, mrb_intern_cstr(mrb, \"@buf\"), buf);"
    },
    {
        "line": 24,
        "fullcodeline": "fptr_copy->fd = mrb_dup(mrb, fptr_orig->fd, &failed);"
    },
    {
        "line": 28,
        "fullcodeline": "mrb_fd_cloexec(mrb, fptr_copy->fd);"
    },
    {
        "line": 39,
        "fullcodeline": "fptr_copy->pid = fptr_orig->pid;"
    },
    {
        "line": 40,
        "fullcodeline": "fptr_copy->readable = fptr_orig->readable;"
    },
    {
        "line": 41,
        "fullcodeline": "fptr_copy->writable = fptr_orig->writable;"
    },
    {
        "line": 42,
        "fullcodeline": "fptr_copy->sync = fptr_orig->sync;"
    },
    {
        "line": 43,
        "fullcodeline": "fptr_copy->is_socket = fptr_orig->is_socket;"
    },
    {
        "line": 12,
        "fullcodeline": "if (fptr_copy != NULL) {"
    },
    {
        "line": 30,
        "fullcodeline": "if (fptr_orig->fd2 != -1) {"
    },
    {
        "line": 13,
        "fullcodeline": "fptr_finalize(mrb, fptr_copy, FALSE);"
    },
    {
        "line": 14,
        "fullcodeline": "mrb_free(mrb, fptr_copy);"
    },
    {
        "line": 26,
        "fullcodeline": "mrb_sys_fail(mrb, 0);"
    },
    {
        "line": 31,
        "fullcodeline": "fptr_copy->fd2 = mrb_dup(mrb, fptr_orig->fd2, &failed);"
    },
    {
        "line": 36,
        "fullcodeline": "mrb_fd_cloexec(mrb, fptr_copy->fd2);"
    },
    {
        "line": 33,
        "fullcodeline": "close(fptr_copy->fd);"
    },
    {
        "line": 34,
        "fullcodeline": "mrb_sys_fail(mrb, 0);"
    }
]