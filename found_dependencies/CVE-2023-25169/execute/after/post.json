[
    {
        "line": 3,
        "fullcodeline": "review_year = args[:review_year] ? args[:review_year] : ::YearlyReview.last_year"
    },
    {
        "line": 4,
        "fullcodeline": "review_start = Time.new(review_year, 1, 1)"
    },
    {
        "line": 5,
        "fullcodeline": "review_end = review_start.end_of_year"
    },
    {
        "line": 6,
        "fullcodeline": "title = I18n.t(\"yearly_review.topic_title\", year: review_year)"
    },
    {
        "line": 14,
        "fullcodeline": "view = ActionView::Base.with_view_paths(ActionController::Base.view_paths)"
    },
    {
        "line": 15,
        "fullcodeline": "view.class_eval do"
    },
    {
        "line": 22,
        "fullcodeline": "raw = create_raw_topic view, review_year, review_start, review_end"
    },
    {
        "line": 8,
        "fullcodeline": "unless args[:force]"
    },
    {
        "line": 23,
        "fullcodeline": "unless raw.empty?"
    },
    {
        "line": 24,
        "fullcodeline": "topic_opts = {"
    },
    {
        "line": 34,
        "fullcodeline": "post = PostCreator.create!(Discourse.system_user, topic_opts)"
    },
    {
        "line": 10,
        "fullcodeline": "return unless now.month == 1 && now.day <= 31"
    },
    {
        "line": 36,
        "fullcodeline": "if post.respond_to? :topic_id"
    },
    {
        "line": 11,
        "fullcodeline": "return if Topic.where(user: Discourse.system_user, title: title).exists?"
    },
    {
        "line": 25,
        "fullcodeline": "title: title,"
    },
    {
        "line": 26,
        "fullcodeline": "raw: raw,"
    },
    {
        "line": 28,
        "fullcodeline": "skip_validations: true,"
    },
    {
        "line": 29,
        "fullcodeline": "custom_fields: {"
    },
    {
        "line": 37,
        "fullcodeline": "create_category_posts view, review_start, review_end, post.topic_id"
    },
    {
        "line": 30,
        "fullcodeline": "::YearlyReview::POST_CUSTOM_FIELD => review_year,"
    }
]