[
    {
        "line": 2,
        "fullcodeline": "struct pollfd *free_slot = NULL;"
    },
    {
        "line": 53,
        "fullcodeline": "free_slot->fd = fd;"
    },
    {
        "line": 54,
        "fullcodeline": "++poll_set->used;"
    },
    {
        "line": 4,
        "fullcodeline": "if (poll_set->used == poll_set->max_used) {"
    },
    {
        "line": 40,
        "fullcodeline": "free_slot = &poll_set->pollfds[poll_set->max_used++];"
    },
    {
        "line": 6,
        "fullcodeline": "if (poll_set->max_used >= poll_set->alloc) {"
    },
    {
        "line": 50,
        "fullcodeline": "assert(free_slot != NULL);"
    },
    {
        "line": 7,
        "fullcodeline": "size_t new_alloc = poll_set->alloc + POLL_SET_ALLOC_INCREMENT;"
    },
    {
        "line": 37,
        "fullcodeline": "poll_set->pollfds = new_fds;"
    },
    {
        "line": 38,
        "fullcodeline": "poll_set->alloc = new_alloc;"
    },
    {
        "line": 43,
        "fullcodeline": "for (unsigned int i = 0; i < poll_set->max_used; ++i) {"
    },
    {
        "line": 10,
        "fullcodeline": "if (!new_fds) {"
    },
    {
        "line": 44,
        "fullcodeline": "struct pollfd *slot = &poll_set->pollfds[i];"
    },
    {
        "line": 13,
        "fullcodeline": "memcpy(new_fds, poll_set->pollfds, sizeof(struct pollfd) * poll_set->alloc);"
    },
    {
        "line": 45,
        "fullcodeline": "if (slot->fd == -1) {"
    },
    {
        "line": 17,
        "fullcodeline": "for (mp_uint_t i = 0; i < poll_set->map.alloc; ++i) {"
    },
    {
        "line": 46,
        "fullcodeline": "free_slot = slot;"
    },
    {
        "line": 22,
        "fullcodeline": "poll_obj_t *poll_obj = MP_OBJ_TO_PTR(poll_set->map.table[i].value);"
    },
    {
        "line": 30,
        "fullcodeline": "poll_obj->pollfd = new_fds + (poll_obj->pollfd - poll_set->pollfds);"
    },
    {
        "line": 18,
        "fullcodeline": "if (!mp_map_slot_is_filled(&poll_set->map, i)) {"
    },
    {
        "line": 23,
        "fullcodeline": "if (!poll_obj) {"
    }
]