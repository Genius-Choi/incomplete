[
    {
        "line": 2,
        "fullcodeline": "Log.add_info(request, '')   # Not to show passwords."
    },
    {
        "line": 9,
        "fullcodeline": "target_user = nil"
    },
    {
        "line": 11,
        "fullcodeline": "SqlHelper.validate_token([params[:user_id], params[:zeptair_id], params[:group_id]])"
    },
    {
        "line": 4,
        "fullcodeline": "unless @login_user.admin?(User::AUTH_ZEPTAIR)"
    },
    {
        "line": 51,
        "fullcodeline": "Log.add_error(request, evar)"
    },
    {
        "line": 52,
        "fullcodeline": "render(:text => 'ERROR:' + t('msg.system_error'))"
    },
    {
        "line": 5,
        "fullcodeline": "render(:text => 'ERROR:' + t('msg.need_to_be_admin'))"
    },
    {
        "line": 14,
        "fullcodeline": "target_user = User.find(params[:user_id])"
    },
    {
        "line": 18,
        "fullcodeline": "zeptair_id = params[:zeptair_id]"
    },
    {
        "line": 45,
        "fullcodeline": "@post_items = Item.find_by_sql(sql)"
    },
    {
        "line": 47,
        "fullcodeline": "@post_item = ZeptairPostHelper.get_item_for(target_user)"
    },
    {
        "line": 13,
        "fullcodeline": "unless params[:user_id].blank?"
    },
    {
        "line": 17,
        "fullcodeline": "unless params[:zeptair_id].blank?"
    },
    {
        "line": 19,
        "fullcodeline": "target_user = User.where(\"zeptair_id=#{zeptair_id}\").first"
    },
    {
        "line": 24,
        "fullcodeline": "if params[:group_id].blank?"
    },
    {
        "line": 25,
        "fullcodeline": "sql = 'select distinct Item.* from items Item, attachments Attachment'"
    },
    {
        "line": 26,
        "fullcodeline": "sql << \" where Item.xtype='#{Item::XTYPE_ZEPTAIR_POST}' and Item.id=Attachment.item_id\""
    },
    {
        "line": 27,
        "fullcodeline": "sql << ' order by Item.user_id ASC'"
    },
    {
        "line": 29,
        "fullcodeline": "group_ids = [params[:group_id]]"
    },
    {
        "line": 35,
        "fullcodeline": "groups_con = []"
    },
    {
        "line": 36,
        "fullcodeline": "group_ids.each do |group_id|"
    },
    {
        "line": 39,
        "fullcodeline": "sql = 'select distinct Item.* from items Item, attachments Attachment, users User'"
    },
    {
        "line": 40,
        "fullcodeline": "sql << \" where Item.xtype='#{Item::XTYPE_ZEPTAIR_POST}' and Item.id=Attachment.item_id\""
    },
    {
        "line": 41,
        "fullcodeline": "sql << \" and (Item.user_id=User.id and (#{groups_con.join(' or ')}))\""
    },
    {
        "line": 42,
        "fullcodeline": "sql << ' order by Item.user_id ASC'"
    },
    {
        "line": 31,
        "fullcodeline": "if params[:recursive] == 'true'"
    },
    {
        "line": 32,
        "fullcodeline": "group_ids += Group.get_childs(params[:group_id], true, false)"
    }
]