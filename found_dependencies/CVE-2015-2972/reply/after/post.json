[
    {
        "line": 2,
        "fullcodeline": "Log.add_info(request, '')   # Not to show passwords."
    },
    {
        "line": 17,
        "fullcodeline": "item = target.item"
    },
    {
        "line": 19,
        "fullcodeline": "comment = ZeptairDistHelper.get_comment_of(item.id, @login_user.id)"
    },
    {
        "line": 12,
        "fullcodeline": "if target.nil? or target.item.nil? \\"
    },
    {
        "line": 100,
        "fullcodeline": "render(:text => '')"
    },
    {
        "line": 7,
        "fullcodeline": "target = Attachment.find(params[:attach_id])"
    },
    {
        "line": 10,
        "fullcodeline": "target = ZeptairCommand.find(params[:cmd_id])"
    },
    {
        "line": 13,
        "fullcodeline": "or target.item.xtype != Item::XTYPE_ZEPTAIR_DIST"
    },
    {
        "line": 14,
        "fullcodeline": "render(:text => 'ERROR:' + t('msg.system_error'))"
    },
    {
        "line": 22,
        "fullcodeline": "when ZeptairDistHelper::ENTRY_STATUS_SAVED, ZeptairDistHelper::ENTRY_STATUS_EXECUTED, ZeptairDistHelper::ENTRY_STATUS_ERROR"
    },
    {
        "line": 23,
        "fullcodeline": "new_entry = \"#{target.class}#{ZeptairDistHelper::ACK_CLASS_SEP}#{target.id}#{ZeptairDistHelper::ACK_ID_SEP}#{params[:timestamp]}#{ZeptairDistHelper::ACK_TS_SEP}#{params[:status]}\""
    },
    {
        "line": 75,
        "fullcodeline": "when 'canceled'"
    },
    {
        "line": 26,
        "fullcodeline": "comment = Comment.new"
    },
    {
        "line": 28,
        "fullcodeline": "comment.item_id = item.id"
    },
    {
        "line": 30,
        "fullcodeline": "comment.message = new_entry + \"\\n\""
    },
    {
        "line": 33,
        "fullcodeline": "class_order = {'Attachment' => 0, 'ZeptairCommand' => 1}"
    },
    {
        "line": 34,
        "fullcodeline": "target_order = class_order[target.class.to_s]"
    },
    {
        "line": 36,
        "fullcodeline": "entries = ZeptairDistHelper.get_ack_array_of(comment)"
    },
    {
        "line": 38,
        "fullcodeline": "unless entries.include?(new_entry)"
    },
    {
        "line": 76,
        "fullcodeline": "unless comment.nil?"
    },
    {
        "line": 27,
        "fullcodeline": "comment.user_id = @login_user.id"
    },
    {
        "line": 39,
        "fullcodeline": "msg = ''"
    },
    {
        "line": 40,
        "fullcodeline": "inserted = false"
    },
    {
        "line": 42,
        "fullcodeline": "entries.each do |entry|"
    },
    {
        "line": 72,
        "fullcodeline": "comment.update_attribute(:message, msg)"
    },
    {
        "line": 82,
        "fullcodeline": "msg = ''"
    },
    {
        "line": 83,
        "fullcodeline": "exp = \"^#{target.class}#{ZeptairDistHelper::ACK_CLASS_SEP}#{target.id}#{ZeptairDistHelper::ACK_ID_SEP}\""
    },
    {
        "line": 85,
        "fullcodeline": "entries.each do |entry|"
    },
    {
        "line": 69,
        "fullcodeline": "unless inserted"
    },
    {
        "line": 70,
        "fullcodeline": "msg << new_entry + \"\\n\""
    },
    {
        "line": 77,
        "fullcodeline": "if comment.message.nil?"
    },
    {
        "line": 78,
        "fullcodeline": "entries = []"
    },
    {
        "line": 80,
        "fullcodeline": "entries = comment.message.split(\"\\n\")"
    },
    {
        "line": 96,
        "fullcodeline": "comment.update_attribute(:message, msg)"
    }
]