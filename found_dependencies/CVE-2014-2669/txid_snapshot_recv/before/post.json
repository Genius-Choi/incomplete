[
    {
        "line": 3,
        "fullcodeline": "StringInfo\tbuf = (StringInfo) PG_GETARG_POINTER(0);"
    },
    {
        "line": 5,
        "fullcodeline": "txid\t\tlast = 0;"
    },
    {
        "line": 18,
        "fullcodeline": "nxip = pq_getmsgint(buf, 4);"
    },
    {
        "line": 19,
        "fullcodeline": "avail = buf->len - buf->cursor;"
    },
    {
        "line": 20,
        "fullcodeline": "expect = 8 + 8 + nxip * 8;"
    },
    {
        "line": 24,
        "fullcodeline": "xmin = pq_getmsgint64(buf);"
    },
    {
        "line": 25,
        "fullcodeline": "xmax = pq_getmsgint64(buf);"
    },
    {
        "line": 29,
        "fullcodeline": "snap = palloc(TXID_SNAPSHOT_SIZE(nxip));"
    },
    {
        "line": 30,
        "fullcodeline": "snap->xmin = xmin;"
    },
    {
        "line": 31,
        "fullcodeline": "snap->xmax = xmax;"
    },
    {
        "line": 32,
        "fullcodeline": "snap->nxip = nxip;"
    },
    {
        "line": 33,
        "fullcodeline": "SET_VARSIZE(snap, TXID_SNAPSHOT_SIZE(nxip));"
    },
    {
        "line": 44,
        "fullcodeline": "PG_RETURN_POINTER(snap);"
    },
    {
        "line": 47,
        "fullcodeline": "elog(ERROR, \"invalid snapshot data\");"
    },
    {
        "line": 21,
        "fullcodeline": "if (nxip < 0 || nxip > avail || expect > avail)"
    },
    {
        "line": 26,
        "fullcodeline": "if (xmin == 0 || xmax == 0 || xmin > xmax || xmax > MAX_TXID)"
    },
    {
        "line": 35,
        "fullcodeline": "for (i = 0; i < nxip; i++)"
    },
    {
        "line": 48,
        "fullcodeline": "return (Datum) NULL;"
    },
    {
        "line": 37,
        "fullcodeline": "txid\t\tcur = pq_getmsgint64(buf);"
    },
    {
        "line": 41,
        "fullcodeline": "snap->xip[i] = cur;"
    },
    {
        "line": 42,
        "fullcodeline": "last = cur;"
    },
    {
        "line": 39,
        "fullcodeline": "if (cur <= last || cur < xmin || cur >= xmax)"
    }
]