[
    {
        "line": 3,
        "fullcodeline": "StringInfo\tbuf = (StringInfo) PG_GETARG_POINTER(0);"
    },
    {
        "line": 5,
        "fullcodeline": "txid\t\tlast = 0;"
    },
    {
        "line": 12,
        "fullcodeline": "nxip = pq_getmsgint(buf, 4);"
    },
    {
        "line": 16,
        "fullcodeline": "xmin = pq_getmsgint64(buf);"
    },
    {
        "line": 17,
        "fullcodeline": "xmax = pq_getmsgint64(buf);"
    },
    {
        "line": 21,
        "fullcodeline": "snap = palloc(TXID_SNAPSHOT_SIZE(nxip));"
    },
    {
        "line": 22,
        "fullcodeline": "snap->xmin = xmin;"
    },
    {
        "line": 23,
        "fullcodeline": "snap->xmax = xmax;"
    },
    {
        "line": 24,
        "fullcodeline": "snap->nxip = nxip;"
    },
    {
        "line": 25,
        "fullcodeline": "SET_VARSIZE(snap, TXID_SNAPSHOT_SIZE(nxip));"
    },
    {
        "line": 36,
        "fullcodeline": "PG_RETURN_POINTER(snap);"
    },
    {
        "line": 39,
        "fullcodeline": "elog(ERROR, \"invalid snapshot data\");"
    },
    {
        "line": 13,
        "fullcodeline": "if (nxip < 0 || nxip > TXID_SNAPSHOT_MAX_NXIP)"
    },
    {
        "line": 18,
        "fullcodeline": "if (xmin == 0 || xmax == 0 || xmin > xmax || xmax > MAX_TXID)"
    },
    {
        "line": 27,
        "fullcodeline": "for (i = 0; i < nxip; i++)"
    },
    {
        "line": 40,
        "fullcodeline": "return (Datum) NULL;"
    },
    {
        "line": 29,
        "fullcodeline": "txid\t\tcur = pq_getmsgint64(buf);"
    },
    {
        "line": 33,
        "fullcodeline": "snap->xip[i] = cur;"
    },
    {
        "line": 34,
        "fullcodeline": "last = cur;"
    },
    {
        "line": 31,
        "fullcodeline": "if (cur <= last || cur < xmin || cur >= xmax)"
    }
]