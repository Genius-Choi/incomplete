[
    {
        "line": 6,
        "fullcodeline": "struct buffer_head *bh = NULL;"
    },
    {
        "line": 7,
        "fullcodeline": "int depth = ext_depth(inode);"
    },
    {
        "line": 10,
        "fullcodeline": "int i = at, k, m, a;"
    },
    {
        "line": 13,
        "fullcodeline": "ext4_fsblk_t *ablocks = NULL; /* array of allocated blocks */"
    },
    {
        "line": 14,
        "fullcodeline": "int err = 0;"
    },
    {
        "line": 15,
        "fullcodeline": "size_t ext_size = 0;"
    },
    {
        "line": 50,
        "fullcodeline": "ablocks = kcalloc(depth, sizeof(ext4_fsblk_t), GFP_NOFS);"
    },
    {
        "line": 55,
        "fullcodeline": "ext_debug(\"allocate %d blocks for indexes/leaf\\n\", depth - at);"
    },
    {
        "line": 65,
        "fullcodeline": "newblock = ablocks[--a];"
    },
    {
        "line": 71,
        "fullcodeline": "bh = sb_getblk_gfp(inode->i_sb, newblock, __GFP_MOVABLE | GFP_NOFS);"
    },
    {
        "line": 76,
        "fullcodeline": "lock_buffer(bh);"
    },
    {
        "line": 78,
        "fullcodeline": "err = ext4_journal_get_create_access(handle, bh);"
    },
    {
        "line": 82,
        "fullcodeline": "neh = ext_block_hdr(bh);"
    },
    {
        "line": 83,
        "fullcodeline": "neh->eh_entries = 0;"
    },
    {
        "line": 84,
        "fullcodeline": "neh->eh_max = cpu_to_le16(ext4_ext_space_block(inode, 0));"
    },
    {
        "line": 85,
        "fullcodeline": "neh->eh_magic = EXT4_EXT_MAGIC;"
    },
    {
        "line": 86,
        "fullcodeline": "neh->eh_depth = 0;"
    },
    {
        "line": 98,
        "fullcodeline": "m = EXT_MAX_EXTENT(path[depth].p_hdr) - path[depth].p_ext++;"
    },
    {
        "line": 99,
        "fullcodeline": "ext4_ext_show_move(inode, path, newblock, depth);"
    },
    {
        "line": 108,
        "fullcodeline": "ext_size = sizeof(struct ext4_extent_header) +"
    },
    {
        "line": 110,
        "fullcodeline": "memset(bh->b_data + ext_size, 0, inode->i_sb->s_blocksize - ext_size);"
    },
    {
        "line": 111,
        "fullcodeline": "ext4_extent_block_csum_set(inode, neh);"
    },
    {
        "line": 112,
        "fullcodeline": "set_buffer_uptodate(bh);"
    },
    {
        "line": 113,
        "fullcodeline": "unlock_buffer(bh);"
    },
    {
        "line": 115,
        "fullcodeline": "err = ext4_handle_dirty_metadata(handle, inode, bh);"
    },
    {
        "line": 118,
        "fullcodeline": "brelse(bh);"
    },
    {
        "line": 119,
        "fullcodeline": "bh = NULL;"
    },
    {
        "line": 134,
        "fullcodeline": "k = depth - at - 1;"
    },
    {
        "line": 144,
        "fullcodeline": "i = depth - 1;"
    },
    {
        "line": 220,
        "fullcodeline": "err = ext4_ext_insert_index(handle, inode, path + at,"
    },
    {
        "line": 239,
        "fullcodeline": "kfree(ablocks);"
    },
    {
        "line": 22,
        "fullcodeline": "if (unlikely(path[depth].p_ext > EXT_MAX_EXTENT(path[depth].p_hdr))) {"
    },
    {
        "line": 26,
        "fullcodeline": "if (path[depth].p_ext != EXT_MAX_EXTENT(path[depth].p_hdr)) {"
    },
    {
        "line": 51,
        "fullcodeline": "if (!ablocks)"
    },
    {
        "line": 56,
        "fullcodeline": "for (a = 0; a < depth - at; a++) {"
    },
    {
        "line": 66,
        "fullcodeline": "if (unlikely(newblock == 0)) {"
    },
    {
        "line": 72,
        "fullcodeline": "if (unlikely(!bh)) {"
    },
    {
        "line": 89,
        "fullcodeline": "if (unlikely(path[depth].p_hdr->eh_entries !="
    },
    {
        "line": 135,
        "fullcodeline": "if (unlikely(k < 0)) {"
    },
    {
        "line": 145,
        "fullcodeline": "while (k--) {"
    },
    {
        "line": 23,
        "fullcodeline": "EXT4_ERROR_INODE(inode, \"p_ext > EXT_MAX_EXTENT!\");"
    },
    {
        "line": 28,
        "fullcodeline": "ext_debug(\"leaf will be split.\""
    },
    {
        "line": 57,
        "fullcodeline": "newblock = ext4_ext_new_meta_block(handle, inode, path,"
    },
    {
        "line": 61,
        "fullcodeline": "ablocks[a] = newblock;"
    },
    {
        "line": 67,
        "fullcodeline": "EXT4_ERROR_INODE(inode, \"newblock == 0!\");"
    },
    {
        "line": 68,
        "fullcodeline": "err = -EFSCORRUPTED;"
    },
    {
        "line": 73,
        "fullcodeline": "err = -ENOMEM;"
    },
    {
        "line": 91,
        "fullcodeline": "EXT4_ERROR_INODE(inode, \"eh_entries %d != eh_max %d!\","
    },
    {
        "line": 94,
        "fullcodeline": "err = -EFSCORRUPTED;"
    },
    {
        "line": 102,
        "fullcodeline": "ex = EXT_FIRST_EXTENT(neh);"
    },
    {
        "line": 103,
        "fullcodeline": "memmove(ex, path[depth].p_ext, sizeof(struct ext4_extent) * m);"
    },
    {
        "line": 104,
        "fullcodeline": "le16_add_cpu(&neh->eh_entries, m);"
    },
    {
        "line": 109,
        "fullcodeline": "sizeof(struct ext4_extent) * le16_to_cpu(neh->eh_entries);"
    },
    {
        "line": 123,
        "fullcodeline": "err = ext4_ext_get_access(handle, inode, path + depth);"
    },
    {
        "line": 126,
        "fullcodeline": "le16_add_cpu(&path[depth].p_hdr->eh_entries, -m);"
    },
    {
        "line": 127,
        "fullcodeline": "err = ext4_ext_dirty(handle, inode, path + depth);"
    },
    {
        "line": 136,
        "fullcodeline": "EXT4_ERROR_INODE(inode, \"k %d < 0!\", k);"
    },
    {
        "line": 137,
        "fullcodeline": "err = -EFSCORRUPTED;"
    },
    {
        "line": 141,
        "fullcodeline": "ext_debug(\"create %d intermediate indices\\n\", k);"
    },
    {
        "line": 146,
        "fullcodeline": "oldblock = newblock;"
    },
    {
        "line": 147,
        "fullcodeline": "newblock = ablocks[--a];"
    },
    {
        "line": 148,
        "fullcodeline": "bh = sb_getblk(inode->i_sb, newblock);"
    },
    {
        "line": 153,
        "fullcodeline": "lock_buffer(bh);"
    },
    {
        "line": 155,
        "fullcodeline": "err = ext4_journal_get_create_access(handle, bh);"
    },
    {
        "line": 159,
        "fullcodeline": "neh = ext_block_hdr(bh);"
    },
    {
        "line": 160,
        "fullcodeline": "neh->eh_entries = cpu_to_le16(1);"
    },
    {
        "line": 161,
        "fullcodeline": "neh->eh_magic = EXT4_EXT_MAGIC;"
    },
    {
        "line": 162,
        "fullcodeline": "neh->eh_max = cpu_to_le16(ext4_ext_space_block_idx(inode, 0));"
    },
    {
        "line": 163,
        "fullcodeline": "neh->eh_depth = cpu_to_le16(depth - i);"
    },
    {
        "line": 164,
        "fullcodeline": "fidx = EXT_FIRST_INDEX(neh);"
    },
    {
        "line": 165,
        "fullcodeline": "fidx->ei_block = border;"
    },
    {
        "line": 166,
        "fullcodeline": "ext4_idx_store_pblock(fidx, oldblock);"
    },
    {
        "line": 168,
        "fullcodeline": "ext_debug(\"int.index at %d (block %llu): %u -> %llu\\n\","
    },
    {
        "line": 181,
        "fullcodeline": "m = EXT_MAX_INDEX(path[i].p_hdr) - path[i].p_idx++;"
    },
    {
        "line": 182,
        "fullcodeline": "ext_debug(\"cur 0x%p, last 0x%p\\n\", path[i].p_idx,"
    },
    {
        "line": 184,
        "fullcodeline": "ext4_ext_show_move(inode, path, newblock, i);"
    },
    {
        "line": 191,
        "fullcodeline": "ext_size = sizeof(struct ext4_extent_header) +"
    },
    {
        "line": 193,
        "fullcodeline": "memset(bh->b_data + ext_size, 0,"
    },
    {
        "line": 195,
        "fullcodeline": "ext4_extent_block_csum_set(inode, neh);"
    },
    {
        "line": 196,
        "fullcodeline": "set_buffer_uptodate(bh);"
    },
    {
        "line": 197,
        "fullcodeline": "unlock_buffer(bh);"
    },
    {
        "line": 199,
        "fullcodeline": "err = ext4_handle_dirty_metadata(handle, inode, bh);"
    },
    {
        "line": 202,
        "fullcodeline": "brelse(bh);"
    },
    {
        "line": 203,
        "fullcodeline": "bh = NULL;"
    },
    {
        "line": 216,
        "fullcodeline": "i--;"
    },
    {
        "line": 221,
        "fullcodeline": "le32_to_cpu(border), newblock);"
    },
    {
        "line": 227,
        "fullcodeline": "brelse(bh);"
    },
    {
        "line": 24,
        "fullcodeline": "return -EFSCORRUPTED;"
    },
    {
        "line": 30,
        "fullcodeline": "le32_to_cpu(border));"
    },
    {
        "line": 32,
        "fullcodeline": "border = newext->ee_block;"
    },
    {
        "line": 33,
        "fullcodeline": "ext_debug(\"leaf will be added.\""
    },
    {
        "line": 52,
        "fullcodeline": "return -ENOMEM;"
    },
    {
        "line": 59,
        "fullcodeline": "if (newblock == 0)"
    },
    {
        "line": 149,
        "fullcodeline": "if (unlikely(!bh)) {"
    },
    {
        "line": 169,
        "fullcodeline": "i, newblock, le32_to_cpu(border), oldblock);"
    },
    {
        "line": 172,
        "fullcodeline": "if (unlikely(EXT_MAX_INDEX(path[i].p_hdr) !="
    },
    {
        "line": 183,
        "fullcodeline": "EXT_MAX_INDEX(path[i].p_hdr));"
    },
    {
        "line": 194,
        "fullcodeline": "inode->i_sb->s_blocksize - ext_size);"
    },
    {
        "line": 225,
        "fullcodeline": "if (buffer_locked(bh))"
    },
    {
        "line": 232,
        "fullcodeline": "for (i = 0; i < depth; i++) {"
    },
    {
        "line": 35,
        "fullcodeline": "le32_to_cpu(border));"
    },
    {
        "line": 150,
        "fullcodeline": "err = -ENOMEM;"
    },
    {
        "line": 174,
        "fullcodeline": "EXT4_ERROR_INODE(inode,"
    },
    {
        "line": 177,
        "fullcodeline": "err = -EFSCORRUPTED;"
    },
    {
        "line": 186,
        "fullcodeline": "memmove(++fidx, path[i].p_idx,"
    },
    {
        "line": 188,
        "fullcodeline": "le16_add_cpu(&neh->eh_entries, m);"
    },
    {
        "line": 192,
        "fullcodeline": "(sizeof(struct ext4_extent) * le16_to_cpu(neh->eh_entries));"
    },
    {
        "line": 207,
        "fullcodeline": "err = ext4_ext_get_access(handle, inode, path + i);"
    },
    {
        "line": 210,
        "fullcodeline": "le16_add_cpu(&path[i].p_hdr->eh_entries, -m);"
    },
    {
        "line": 211,
        "fullcodeline": "err = ext4_ext_dirty(handle, inode, path + i);"
    },
    {
        "line": 226,
        "fullcodeline": "unlock_buffer(bh);"
    },
    {
        "line": 235,
        "fullcodeline": "ext4_free_blocks(handle, inode, NULL, ablocks[i], 1,"
    },
    {
        "line": 173,
        "fullcodeline": "EXT_LAST_INDEX(path[i].p_hdr))) {"
    },
    {
        "line": 187,
        "fullcodeline": "sizeof(struct ext4_extent_idx) * m);"
    },
    {
        "line": 233,
        "fullcodeline": "if (!ablocks[i])"
    }
]