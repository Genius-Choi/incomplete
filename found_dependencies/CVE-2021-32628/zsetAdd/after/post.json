[
    {
        "line": 3,
        "fullcodeline": "int incr = (*flags & ZADD_INCR) != 0;"
    },
    {
        "line": 4,
        "fullcodeline": "int nx = (*flags & ZADD_NX) != 0;"
    },
    {
        "line": 5,
        "fullcodeline": "int xx = (*flags & ZADD_XX) != 0;"
    },
    {
        "line": 6,
        "fullcodeline": "*flags = 0; /* We'll return our response flags. */"
    },
    {
        "line": 10,
        "fullcodeline": "if (isnan(score)) {"
    },
    {
        "line": 16,
        "fullcodeline": "if (zobj->encoding == OBJ_ENCODING_ZIPLIST) {"
    },
    {
        "line": 65,
        "fullcodeline": "if (zobj->encoding == OBJ_ENCODING_SKIPLIST) {"
    },
    {
        "line": 11,
        "fullcodeline": "*flags = ZADD_NAN;"
    },
    {
        "line": 66,
        "fullcodeline": "zset *zs = zobj->ptr;"
    },
    {
        "line": 70,
        "fullcodeline": "de = dictFind(zs->dict,ele);"
    },
    {
        "line": 19,
        "fullcodeline": "if ((eptr = zzlFind(zobj->ptr,ele,&curscore)) != NULL) {"
    },
    {
        "line": 71,
        "fullcodeline": "if (de != NULL) {"
    },
    {
        "line": 111,
        "fullcodeline": "serverPanic(\"Unknown sorted set encoding\");"
    },
    {
        "line": 37,
        "fullcodeline": "if (score != curscore) {"
    },
    {
        "line": 90,
        "fullcodeline": "if (score != curscore) {"
    },
    {
        "line": 22,
        "fullcodeline": "*flags |= ZADD_NOP;"
    },
    {
        "line": 28,
        "fullcodeline": "score += curscore;"
    },
    {
        "line": 38,
        "fullcodeline": "zobj->ptr = zzlDelete(zobj->ptr,eptr);"
    },
    {
        "line": 39,
        "fullcodeline": "zobj->ptr = zzlInsert(zobj->ptr,ele,score);"
    },
    {
        "line": 40,
        "fullcodeline": "*flags |= ZADD_UPDATED;"
    },
    {
        "line": 43,
        "fullcodeline": "} else if (!xx) {"
    },
    {
        "line": 74,
        "fullcodeline": "*flags |= ZADD_NOP;"
    },
    {
        "line": 77,
        "fullcodeline": "curscore = *(double*)dictGetVal(de);"
    },
    {
        "line": 81,
        "fullcodeline": "score += curscore;"
    },
    {
        "line": 91,
        "fullcodeline": "znode = zslUpdateScore(zs->zsl,curscore,ele,score);"
    },
    {
        "line": 95,
        "fullcodeline": "dictGetVal(de) = &znode->score; /* Update score ptr. */"
    },
    {
        "line": 96,
        "fullcodeline": "*flags |= ZADD_UPDATED;"
    },
    {
        "line": 99,
        "fullcodeline": "} else if (!xx) {"
    },
    {
        "line": 29,
        "fullcodeline": "if (isnan(score)) {"
    },
    {
        "line": 82,
        "fullcodeline": "if (isnan(score)) {"
    },
    {
        "line": 100,
        "fullcodeline": "ele = sdsdup(ele);"
    },
    {
        "line": 101,
        "fullcodeline": "znode = zslInsert(zs->zsl,score,ele);"
    },
    {
        "line": 102,
        "fullcodeline": "serverAssert(dictAdd(zs->dict,ele,&znode->score) == DICT_OK);"
    },
    {
        "line": 103,
        "fullcodeline": "*flags |= ZADD_ADDED;"
    },
    {
        "line": 30,
        "fullcodeline": "*flags |= ZADD_NAN;"
    },
    {
        "line": 33,
        "fullcodeline": "if (newscore) *newscore = score;"
    },
    {
        "line": 46,
        "fullcodeline": "if (zzlLength(zobj->ptr)+1 > server.zset_max_ziplist_entries ||"
    },
    {
        "line": 58,
        "fullcodeline": "*flags |= ZADD_NOP;"
    },
    {
        "line": 83,
        "fullcodeline": "*flags |= ZADD_NAN;"
    },
    {
        "line": 86,
        "fullcodeline": "if (newscore) *newscore = score;"
    },
    {
        "line": 107,
        "fullcodeline": "*flags |= ZADD_NOP;"
    },
    {
        "line": 48,
        "fullcodeline": "!ziplistSafeToAdd(zobj->ptr, sdslen(ele)))"
    },
    {
        "line": 50,
        "fullcodeline": "zsetConvert(zobj,OBJ_ENCODING_SKIPLIST);"
    },
    {
        "line": 104,
        "fullcodeline": "if (newscore) *newscore = score;"
    },
    {
        "line": 47,
        "fullcodeline": "sdslen(ele) > server.zset_max_ziplist_value ||"
    },
    {
        "line": 52,
        "fullcodeline": "zobj->ptr = zzlInsert(zobj->ptr,ele,score);"
    },
    {
        "line": 54,
        "fullcodeline": "*flags |= ZADD_ADDED;"
    },
    {
        "line": 53,
        "fullcodeline": "if (newscore) *newscore = score;"
    }
]