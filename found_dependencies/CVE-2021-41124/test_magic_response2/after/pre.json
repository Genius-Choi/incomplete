[
    {
        "line": 3,
        "fullcodeline": "mw = _get_mw()"
    },
    {
        "line": 4,
        "fullcodeline": "req = SplashRequest('http://example.com/', magic_response=True,"
    },
    {
        "line": 6,
        "fullcodeline": "req = mw.process_request(req, None) or req"
    },
    {
        "line": 7,
        "fullcodeline": "assert 'headers' not in req.meta['splash']['args']"
    },
    {
        "line": 9,
        "fullcodeline": "resp_data = {"
    },
    {
        "line": 13,
        "fullcodeline": "resp = TextResponse(\"http://mysplash.example.com/execute\","
    },
    {
        "line": 16,
        "fullcodeline": "resp2 = mw.process_response(req, resp, None)"
    },
    {
        "line": 17,
        "fullcodeline": "assert resp2.data == resp_data"
    },
    {
        "line": 18,
        "fullcodeline": "assert resp2.body == b'binary data'"
    },
    {
        "line": 19,
        "fullcodeline": "assert resp2.headers == {b'Content-Type': [b'text/plain']}"
    },
    {
        "line": 20,
        "fullcodeline": "assert resp2.splash_response_headers == {b'Content-Type': [b'application/json']}"
    },
    {
        "line": 21,
        "fullcodeline": "assert resp2.status == resp2.splash_response_status == 200"
    },
    {
        "line": 22,
        "fullcodeline": "assert resp2.url == \"http://example.com/\""
    },
    {
        "line": 5,
        "fullcodeline": "headers={'foo': 'bar'}, dont_send_headers=True)"
    },
    {
        "line": 14,
        "fullcodeline": "headers={b'Content-Type': b'application/json'},"
    },
    {
        "line": 15,
        "fullcodeline": "body=json.dumps(resp_data).encode('utf8'))"
    },
    {
        "line": 10,
        "fullcodeline": "'body': base64.b64encode(b\"binary data\").decode('ascii'),"
    },
    {
        "line": 11,
        "fullcodeline": "'headers': {'Content-Type': 'text/plain'},"
    }
]