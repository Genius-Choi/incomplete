[
    {
        "line": 3,
        "fullcodeline": "FlatpakTransactionPrivate *priv = flatpak_transaction_get_instance_private (self);"
    },
    {
        "line": 4,
        "fullcodeline": "g_autoptr(GFile) deploy_dir = NULL;"
    },
    {
        "line": 5,
        "fullcodeline": "g_autoptr(GFile) metadata_file = NULL;"
    },
    {
        "line": 6,
        "fullcodeline": "g_autofree char *metadata_contents = NULL;"
    },
    {
        "line": 9,
        "fullcodeline": "deploy_dir = flatpak_dir_get_if_deployed (priv->dir, ref, NULL, NULL);"
    },
    {
        "line": 28,
        "fullcodeline": "metadata_file = g_file_get_child (deploy_dir, \"metadata\");"
    },
    {
        "line": 10,
        "fullcodeline": "if (deploy_dir == NULL)"
    },
    {
        "line": 13,
        "fullcodeline": "if (out_commit || out_remote)"
    },
    {
        "line": 30,
        "fullcodeline": "if (!g_file_load_contents (metadata_file, NULL, &metadata_contents, &metadata_contents_length, NULL, NULL))"
    },
    {
        "line": 36,
        "fullcodeline": "return g_bytes_new_take (g_steal_pointer (&metadata_contents), metadata_contents_length + 1);"
    },
    {
        "line": 15,
        "fullcodeline": "g_autoptr(GBytes) deploy_data = NULL;"
    },
    {
        "line": 16,
        "fullcodeline": "deploy_data = flatpak_load_deploy_data (deploy_dir, ref,"
    },
    {
        "line": 32,
        "fullcodeline": "g_debug (\"No metadata in local deploy of %s\", flatpak_decomposed_get_ref (ref));"
    },
    {
        "line": 19,
        "fullcodeline": "if (deploy_data == NULL)"
    },
    {
        "line": 17,
        "fullcodeline": "flatpak_dir_get_repo (priv->dir),"
    },
    {
        "line": 23,
        "fullcodeline": "*out_commit = g_strdup (flatpak_deploy_data_get_commit (deploy_data));"
    },
    {
        "line": 25,
        "fullcodeline": "*out_remote = g_strdup (flatpak_deploy_data_get_origin (deploy_data));"
    }
]