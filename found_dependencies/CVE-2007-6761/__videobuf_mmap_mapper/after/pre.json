[
    {
        "line": 8,
        "fullcodeline": "unsigned long offset = vma->vm_pgoff << PAGE_SHIFT;"
    },
    {
        "line": 30,
        "fullcodeline": "map = q->bufs[first]->map = kzalloc(sizeof(struct videobuf_mapping),GFP_KERNEL);"
    },
    {
        "line": 34,
        "fullcodeline": "map->start = vma->vm_start;"
    },
    {
        "line": 35,
        "fullcodeline": "map->end   = vma->vm_end;"
    },
    {
        "line": 36,
        "fullcodeline": "map->q     = q;"
    },
    {
        "line": 40,
        "fullcodeline": "vma->vm_ops          = &videobuf_vm_ops;"
    },
    {
        "line": 41,
        "fullcodeline": "vma->vm_flags       |= VM_DONTEXPAND | VM_RESERVED;"
    },
    {
        "line": 42,
        "fullcodeline": "vma->vm_private_data = map;"
    },
    {
        "line": 44,
        "fullcodeline": "mem=q->bufs[first]->priv;"
    },
    {
        "line": 46,
        "fullcodeline": "MAGIC_CHECK(mem->magic,MAGIC_VMAL_MEM);"
    },
    {
        "line": 49,
        "fullcodeline": "retval=remap_vmalloc_range(vma, mem->vmalloc,0);"
    },
    {
        "line": 62,
        "fullcodeline": "dprintk(1,\"mmap %p: q=%p %08lx-%08lx (%lx) pgoff %08lx buf %d\\n\","
    },
    {
        "line": 10,
        "fullcodeline": "if (! (vma->vm_flags & VM_WRITE) || ! (vma->vm_flags & VM_SHARED))"
    },
    {
        "line": 14,
        "fullcodeline": "for (first = 0; first < VIDEO_MAX_FRAME; first++) {"
    },
    {
        "line": 23,
        "fullcodeline": "if (VIDEO_MAX_FRAME == first) {"
    },
    {
        "line": 31,
        "fullcodeline": "if (NULL == map)"
    },
    {
        "line": 45,
        "fullcodeline": "BUG_ON (!mem);"
    },
    {
        "line": 53,
        "fullcodeline": "mem->vma=kmalloc(sizeof(*vma),GFP_KERNEL);"
    },
    {
        "line": 59,
        "fullcodeline": "memcpy(mem->vma,vma,sizeof(*vma));"
    },
    {
        "line": 11,
        "fullcodeline": "return -EINVAL;"
    },
    {
        "line": 15,
        "fullcodeline": "if (NULL == q->bufs[first])"
    },
    {
        "line": 18,
        "fullcodeline": "if (V4L2_MEMORY_MMAP != q->bufs[first]->memory)"
    },
    {
        "line": 20,
        "fullcodeline": "if (q->bufs[first]->boff == offset)"
    },
    {
        "line": 25,
        "fullcodeline": "(vma->vm_pgoff << PAGE_SHIFT));"
    },
    {
        "line": 26,
        "fullcodeline": "return -EINVAL;"
    },
    {
        "line": 32,
        "fullcodeline": "return -ENOMEM;"
    },
    {
        "line": 54,
        "fullcodeline": "if (!mem->vma) {"
    },
    {
        "line": 57,
        "fullcodeline": "return -ENOMEM;"
    }
]