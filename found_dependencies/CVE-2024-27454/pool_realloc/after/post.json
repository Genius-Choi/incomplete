[
    {
        "line": 4,
        "fullcodeline": "pool_ctx *ctx = (pool_ctx *)ctx_ptr;"
    },
    {
        "line": 5,
        "fullcodeline": "pool_chunk *cur = ((pool_chunk *)ptr) - 1, *prev, *next, *tmp;"
    },
    {
        "line": 9,
        "fullcodeline": "pool_size_align(&old_size);"
    },
    {
        "line": 10,
        "fullcodeline": "pool_size_align(&size);"
    },
    {
        "line": 14,
        "fullcodeline": "prev = NULL;"
    },
    {
        "line": 15,
        "fullcodeline": "next = ctx->free_list;"
    },
    {
        "line": 8,
        "fullcodeline": "if (unlikely(size >= ctx->size)) return NULL;"
    },
    {
        "line": 11,
        "fullcodeline": "if (unlikely(old_size == size)) return ptr;"
    },
    {
        "line": 16,
        "fullcodeline": "while (next && next < cur) {"
    },
    {
        "line": 21,
        "fullcodeline": "if ((u8 *)cur + cur->size == (u8 *)next && cur->size + next->size >= size) {"
    },
    {
        "line": 17,
        "fullcodeline": "prev = next;"
    },
    {
        "line": 18,
        "fullcodeline": "next = next->next;"
    },
    {
        "line": 23,
        "fullcodeline": "usize free_size = cur->size + next->size - size;"
    },
    {
        "line": 24,
        "fullcodeline": "if (free_size > sizeof(pool_chunk) * 2) {"
    },
    {
        "line": 39,
        "fullcodeline": "void *new_ptr = pool_malloc(ctx_ptr, size - sizeof(pool_chunk));"
    },
    {
        "line": 25,
        "fullcodeline": "tmp = (pool_chunk *)(void *)((u8 *)cur + size);"
    },
    {
        "line": 28,
        "fullcodeline": "tmp->next = next->next;"
    },
    {
        "line": 29,
        "fullcodeline": "tmp->size = free_size;"
    },
    {
        "line": 30,
        "fullcodeline": "cur->size = size;"
    },
    {
        "line": 34,
        "fullcodeline": "cur->size += next->size;"
    },
    {
        "line": 41,
        "fullcodeline": "memcpy(new_ptr, ptr, cur->size - sizeof(pool_chunk));"
    },
    {
        "line": 42,
        "fullcodeline": "pool_free(ctx_ptr, ptr);"
    },
    {
        "line": 26,
        "fullcodeline": "if (prev) prev->next = tmp;"
    },
    {
        "line": 27,
        "fullcodeline": "else ctx->free_list = tmp;"
    },
    {
        "line": 32,
        "fullcodeline": "if (prev) prev->next = next->next;"
    },
    {
        "line": 33,
        "fullcodeline": "else ctx->free_list = next->next;"
    }
]