[
    {
        "line": 6,
        "fullcodeline": "TF_LITE_ENSURE_OK(context,"
    },
    {
        "line": 9,
        "fullcodeline": "const TfLiteTensor* decoded_boxes ="
    },
    {
        "line": 11,
        "fullcodeline": "const int num_boxes = input_box_encodings->dims->data[1];"
    },
    {
        "line": 12,
        "fullcodeline": "const float non_max_suppression_score_threshold ="
    },
    {
        "line": 14,
        "fullcodeline": "const float intersection_over_union_threshold ="
    },
    {
        "line": 17,
        "fullcodeline": "TF_LITE_ENSURE(context, (max_detections >= 0));"
    },
    {
        "line": 20,
        "fullcodeline": "TF_LITE_ENSURE(context, (intersection_over_union_threshold > 0.0f) &&"
    },
    {
        "line": 23,
        "fullcodeline": "TF_LITE_ENSURE(context, ValidateBoxes(decoded_boxes, num_boxes));"
    },
    {
        "line": 30,
        "fullcodeline": "SelectDetectionsAboveScoreThreshold("
    },
    {
        "line": 33,
        "fullcodeline": "int num_scores_kept = keep_scores.size();"
    },
    {
        "line": 35,
        "fullcodeline": "sorted_indices.resize(num_scores_kept);"
    },
    {
        "line": 36,
        "fullcodeline": "DecreasingPartialArgSort(keep_scores.data(), num_scores_kept, num_scores_kept,"
    },
    {
        "line": 38,
        "fullcodeline": "const int num_boxes_kept = num_scores_kept;"
    },
    {
        "line": 39,
        "fullcodeline": "const int output_size = std::min(num_boxes_kept, max_detections);"
    },
    {
        "line": 40,
        "fullcodeline": "selected->clear();"
    },
    {
        "line": 41,
        "fullcodeline": "TfLiteTensor* active_candidate ="
    },
    {
        "line": 43,
        "fullcodeline": "TF_LITE_ENSURE(context, (active_candidate->dims->data[0]) == num_boxes);"
    },
    {
        "line": 44,
        "fullcodeline": "int num_active_candidate = num_boxes_kept;"
    },
    {
        "line": 45,
        "fullcodeline": "uint8_t* active_box_candidate = (active_candidate->data.uint8);"
    },
    {
        "line": 7,
        "fullcodeline": "GetInputSafe(context, node, kInputTensorBoxEncodings,"
    },
    {
        "line": 37,
        "fullcodeline": "sorted_indices.data());"
    },
    {
        "line": 46,
        "fullcodeline": "for (int row = 0; row < num_boxes_kept; row++) {"
    },
    {
        "line": 50,
        "fullcodeline": "for (int i = 0; i < num_boxes_kept; ++i) {"
    },
    {
        "line": 21,
        "fullcodeline": "(intersection_over_union_threshold <= 1.0f));"
    },
    {
        "line": 47,
        "fullcodeline": "active_box_candidate[row] = 1;"
    },
    {
        "line": 51,
        "fullcodeline": "if (num_active_candidate == 0 || selected->size() >= output_size) break;"
    },
    {
        "line": 52,
        "fullcodeline": "if (active_box_candidate[i] == 1) {"
    },
    {
        "line": 59,
        "fullcodeline": "for (int j = i + 1; j < num_boxes_kept; ++j) {"
    },
    {
        "line": 53,
        "fullcodeline": "selected->push_back(keep_indices[sorted_indices[i]]);"
    },
    {
        "line": 54,
        "fullcodeline": "active_box_candidate[i] = 0;"
    },
    {
        "line": 55,
        "fullcodeline": "num_active_candidate--;"
    },
    {
        "line": 60,
        "fullcodeline": "if (active_box_candidate[j] == 1) {"
    },
    {
        "line": 61,
        "fullcodeline": "float intersection_over_union = ComputeIntersectionOverUnion("
    },
    {
        "line": 65,
        "fullcodeline": "if (intersection_over_union > intersection_over_union_threshold) {"
    },
    {
        "line": 66,
        "fullcodeline": "active_box_candidate[j] = 0;"
    },
    {
        "line": 67,
        "fullcodeline": "num_active_candidate--;"
    }
]