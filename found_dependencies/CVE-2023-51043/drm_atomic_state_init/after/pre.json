[
    {
        "line": 3,
        "fullcodeline": "kref_init(&state->ref);"
    },
    {
        "line": 8,
        "fullcodeline": "state->allow_modeset = true;"
    },
    {
        "line": 10,
        "fullcodeline": "state->crtcs = kcalloc(dev->mode_config.num_crtc,"
    },
    {
        "line": 14,
        "fullcodeline": "state->planes = kcalloc(dev->mode_config.num_total_plane,"
    },
    {
        "line": 24,
        "fullcodeline": "drm_dev_get(dev);"
    },
    {
        "line": 25,
        "fullcodeline": "state->dev = dev;"
    },
    {
        "line": 27,
        "fullcodeline": "drm_dbg_atomic(dev, \"Allocated atomic state %p\\n\", state);"
    },
    {
        "line": 12,
        "fullcodeline": "if (!state->crtcs)"
    },
    {
        "line": 16,
        "fullcodeline": "if (!state->planes)"
    },
    {
        "line": 32,
        "fullcodeline": "return -ENOMEM;"
    },
    {
        "line": 11,
        "fullcodeline": "sizeof(*state->crtcs), GFP_KERNEL);"
    },
    {
        "line": 15,
        "fullcodeline": "sizeof(*state->planes), GFP_KERNEL);"
    }
]