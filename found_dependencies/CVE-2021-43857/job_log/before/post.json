[
    {
        "line": 11,
        "fullcodeline": "if request.method == 'GET':"
    },
    {
        "line": 12,
        "fullcodeline": "client = Client.objects.get(id=client_id)"
    },
    {
        "line": 14,
        "fullcodeline": "url = log_url(client.ip, client.port, project_name, spider_name, job_id)"
    },
    {
        "line": 16,
        "fullcodeline": "response = requests.get(url, timeout=5, headers={"
    },
    {
        "line": 20,
        "fullcodeline": "encoding = response.apparent_encoding"
    },
    {
        "line": 25,
        "fullcodeline": "text = response.content.decode(encoding, errors='replace')"
    },
    {
        "line": 22,
        "fullcodeline": "if response.status_code == 404:"
    },
    {
        "line": 26,
        "fullcodeline": "return HttpResponse(text)"
    },
    {
        "line": 18,
        "fullcodeline": "}, auth=(client.username, client.password) if client.auth else None)"
    },
    {
        "line": 23,
        "fullcodeline": "return JsonResponse({'message': 'Log Not Found'}, status=404)"
    }
]