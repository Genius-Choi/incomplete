[
    {
        "line": 2,
        "fullcodeline": "unsigned char *ptr = (unsigned char*)gfx->backendData;"
    },
    {
        "line": 3,
        "fullcodeline": "unsigned int idx = lcdGetPixelIndex_ArrayBuffer(gfx,x,y,pixelCount);"
    },
    {
        "line": 4,
        "fullcodeline": "ptr += idx>>3;"
    },
    {
        "line": 6,
        "fullcodeline": "unsigned int whiteMask = (1U<<gfx->data.bpp)-1;"
    },
    {
        "line": 7,
        "fullcodeline": "bool shortCut = (col==0 || (col&whiteMask)==whiteMask) && (!(gfx->data.flags&JSGRAPHICSFLAGS_ARRAYBUFFER_VERTICAL_BYTE)); // simple black or white fill"
    },
    {
        "line": 9,
        "fullcodeline": "while (pixelCount--) { // writing individual bits"
    },
    {
        "line": 10,
        "fullcodeline": "if (gfx->data.bpp&7/*not a multiple of one byte*/) {"
    },
    {
        "line": 11,
        "fullcodeline": "idx = idx & 7;"
    },
    {
        "line": 26,
        "fullcodeline": "unsigned int mask = (unsigned int)(1<<gfx->data.bpp)-1;"
    },
    {
        "line": 27,
        "fullcodeline": "unsigned int existing = (unsigned int)*ptr;"
    },
    {
        "line": 28,
        "fullcodeline": "unsigned int bitIdx = (gfx->data.flags & JSGRAPHICSFLAGS_ARRAYBUFFER_MSB) ? 8-(idx+gfx->data.bpp) : idx;"
    },
    {
        "line": 29,
        "fullcodeline": "*ptr = (char)((existing&~(mask<<bitIdx)) | ((col&mask)<<bitIdx));"
    },
    {
        "line": 12,
        "fullcodeline": "if (shortCut && idx==0) {"
    },
    {
        "line": 30,
        "fullcodeline": "if (gfx->data.flags & JSGRAPHICSFLAGS_ARRAYBUFFER_VERTICAL_BYTE) {"
    },
    {
        "line": 15,
        "fullcodeline": "int wholeBytes = (gfx->data.bpp*(pixelCount+1)) >> 3;"
    },
    {
        "line": 31,
        "fullcodeline": "ptr++;"
    },
    {
        "line": 38,
        "fullcodeline": "for (i=0;i<gfx->data.bpp;i+=8) {"
    },
    {
        "line": 33,
        "fullcodeline": "idx += gfx->data.bpp;"
    },
    {
        "line": 39,
        "fullcodeline": "*ptr = (char)(col >> i);"
    },
    {
        "line": 40,
        "fullcodeline": "ptr++;"
    },
    {
        "line": 17,
        "fullcodeline": "char c = (char)(col?0xFF:0);"
    },
    {
        "line": 18,
        "fullcodeline": "pixelCount = (short)(pixelCount+1 - (wholeBytes*8/gfx->data.bpp));"
    },
    {
        "line": 34,
        "fullcodeline": "if (idx>=8) ptr++;"
    },
    {
        "line": 19,
        "fullcodeline": "while (wholeBytes--) {"
    },
    {
        "line": 20,
        "fullcodeline": "*ptr = c;"
    },
    {
        "line": 21,
        "fullcodeline": "ptr++;"
    }
]