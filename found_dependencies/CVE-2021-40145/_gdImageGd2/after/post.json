[
    {
        "line": 3,
        "fullcodeline": "int ret = 0;"
    },
    {
        "line": 7,
        "fullcodeline": "int chunkNum = 0;"
    },
    {
        "line": 8,
        "fullcodeline": "char *chunkData = NULL;\t/* So we can gdFree it with impunity. */"
    },
    {
        "line": 9,
        "fullcodeline": "char *compData = NULL;\t/* So we can gdFree it with impunity. */"
    },
    {
        "line": 11,
        "fullcodeline": "int idxPos = 0;"
    },
    {
        "line": 13,
        "fullcodeline": "t_chunk_info *chunkIdx = NULL;"
    },
    {
        "line": 15,
        "fullcodeline": "int bytesPerPixel = im->trueColor ? 4 : 1;"
    },
    {
        "line": 16,
        "fullcodeline": "int compMax = 0;"
    },
    {
        "line": 44,
        "fullcodeline": "ncx = (im->sx + cs - 1) / cs;"
    },
    {
        "line": 45,
        "fullcodeline": "ncy = (im->sy + cs - 1) / cs;"
    },
    {
        "line": 48,
        "fullcodeline": "_gd2PutHeader (im, out, cs, fmt, ncx, ncy);"
    },
    {
        "line": 90,
        "fullcodeline": "_gdPutColors (im, out);"
    },
    {
        "line": 92,
        "fullcodeline": "GD2_DBG (printf (\"Size: %dx%d\\n\", im->sx, im->sy));"
    },
    {
        "line": 93,
        "fullcodeline": "GD2_DBG (printf (\"Chunks: %dx%d\\n\", ncx, ncy));"
    },
    {
        "line": 188,
        "fullcodeline": "GD2_DBG (printf (\"Freeing memory\\n\"));"
    },
    {
        "line": 199,
        "fullcodeline": "GD2_DBG (printf (\"Done\\n\"));"
    },
    {
        "line": 23,
        "fullcodeline": "if ((fmt != GD2_FMT_RAW) && (fmt != GD2_FMT_COMPRESSED)) {"
    },
    {
        "line": 35,
        "fullcodeline": "if (cs == 0) {"
    },
    {
        "line": 50,
        "fullcodeline": "if (gd2_compressed (fmt)) {"
    },
    {
        "line": 95,
        "fullcodeline": "for (cy = 0; (cy < ncy); cy++) {"
    },
    {
        "line": 168,
        "fullcodeline": "if (gd2_compressed (fmt)) {"
    },
    {
        "line": 24,
        "fullcodeline": "fmt = GD2_FMT_COMPRESSED;"
    },
    {
        "line": 27,
        "fullcodeline": "fmt += 2;"
    },
    {
        "line": 36,
        "fullcodeline": "cs = GD2_CHUNKSIZE;"
    },
    {
        "line": 58,
        "fullcodeline": "compMax = cs * bytesPerPixel * cs * 1.02 + 12;"
    },
    {
        "line": 63,
        "fullcodeline": "chunkData = gdCalloc (cs * bytesPerPixel * cs, 1);"
    },
    {
        "line": 68,
        "fullcodeline": "compData = gdCalloc (compMax, 1);"
    },
    {
        "line": 78,
        "fullcodeline": "idxPos = gdTell (out);"
    },
    {
        "line": 79,
        "fullcodeline": "idxSize = ncx * ncy * sizeof (t_chunk_info);"
    },
    {
        "line": 80,
        "fullcodeline": "GD2_DBG (printf (\"Index size is %d\\n\", idxSize));"
    },
    {
        "line": 81,
        "fullcodeline": "gdSeek (out, idxPos + idxSize);"
    },
    {
        "line": 83,
        "fullcodeline": "chunkIdx = gdCalloc (idxSize * sizeof (t_chunk_info), 1);"
    },
    {
        "line": 170,
        "fullcodeline": "GD2_DBG (printf (\"Seeking %d to write index\\n\", idxPos));"
    },
    {
        "line": 171,
        "fullcodeline": "posSave = gdTell (out);"
    },
    {
        "line": 172,
        "fullcodeline": "gdSeek (out, idxPos);"
    },
    {
        "line": 173,
        "fullcodeline": "GD2_DBG (printf (\"Writing index\\n\"));"
    },
    {
        "line": 183,
        "fullcodeline": "gdSeek (out, posSave);"
    },
    {
        "line": 191,
        "fullcodeline": "gdFree (chunkData);"
    },
    {
        "line": 194,
        "fullcodeline": "gdFree (compData);"
    },
    {
        "line": 197,
        "fullcodeline": "gdFree (chunkIdx);"
    },
    {
        "line": 64,
        "fullcodeline": "if (!chunkData) {"
    },
    {
        "line": 69,
        "fullcodeline": "if (!compData) {"
    },
    {
        "line": 84,
        "fullcodeline": "if (!chunkIdx) {"
    },
    {
        "line": 96,
        "fullcodeline": "for (cx = 0; (cx < ncx); cx++) {"
    },
    {
        "line": 174,
        "fullcodeline": "for (x = 0; x < chunkNum; x++) {"
    },
    {
        "line": 37,
        "fullcodeline": "} else if (cs < GD2_CHUNKSIZE_MIN) {"
    },
    {
        "line": 65,
        "fullcodeline": "ret = 1;"
    },
    {
        "line": 70,
        "fullcodeline": "ret = 1;"
    },
    {
        "line": 85,
        "fullcodeline": "ret = 1;"
    },
    {
        "line": 98,
        "fullcodeline": "ylo = cy * cs;"
    },
    {
        "line": 99,
        "fullcodeline": "yhi = ylo + cs;"
    },
    {
        "line": 104,
        "fullcodeline": "GD2_DBG (printf"
    },
    {
        "line": 107,
        "fullcodeline": "chunkLen = 0;"
    },
    {
        "line": 175,
        "fullcodeline": "GD2_DBG (printf"
    },
    {
        "line": 178,
        "fullcodeline": "gdPutInt (chunkIdx[x].offset, out);"
    },
    {
        "line": 179,
        "fullcodeline": "gdPutInt (chunkIdx[x].size, out);"
    },
    {
        "line": 38,
        "fullcodeline": "cs = GD2_CHUNKSIZE_MIN;"
    },
    {
        "line": 100,
        "fullcodeline": "if (yhi > im->sy) {"
    },
    {
        "line": 108,
        "fullcodeline": "for (y = ylo; (y < yhi); y++) {"
    },
    {
        "line": 146,
        "fullcodeline": "if (gd2_compressed (fmt)) {"
    },
    {
        "line": 101,
        "fullcodeline": "yhi = im->sy;"
    },
    {
        "line": 112,
        "fullcodeline": "xlo = cx * cs;"
    },
    {
        "line": 113,
        "fullcodeline": "xhi = xlo + cs;"
    },
    {
        "line": 147,
        "fullcodeline": "compLen = compMax;"
    },
    {
        "line": 39,
        "fullcodeline": "} else if (cs > GD2_CHUNKSIZE_MAX) {"
    },
    {
        "line": 114,
        "fullcodeline": "if (xhi > im->sx) {"
    },
    {
        "line": 118,
        "fullcodeline": "if (gd2_compressed (fmt)) {"
    },
    {
        "line": 148,
        "fullcodeline": "if (compress ((unsigned char *)"
    },
    {
        "line": 40,
        "fullcodeline": "cs = GD2_CHUNKSIZE_MAX;"
    },
    {
        "line": 115,
        "fullcodeline": "xhi = im->sx;"
    },
    {
        "line": 152,
        "fullcodeline": "printf (\"Error from compressing\\n\");"
    },
    {
        "line": 119,
        "fullcodeline": "for (x = xlo; x < xhi; x++) {"
    },
    {
        "line": 154,
        "fullcodeline": "chunkIdx[chunkNum].offset = gdTell (out);"
    },
    {
        "line": 155,
        "fullcodeline": "chunkIdx[chunkNum++].size = compLen;"
    },
    {
        "line": 156,
        "fullcodeline": "GD2_DBG (printf"
    },
    {
        "line": 134,
        "fullcodeline": "for (x = xlo; x < xhi; x++) {"
    },
    {
        "line": 161,
        "fullcodeline": "if (gdPutBuf (compData, compLen, out) <= 0) {"
    },
    {
        "line": 162,
        "fullcodeline": "gd_error(\"gd write error\\n\");"
    },
    {
        "line": 123,
        "fullcodeline": "int p = im->tpixels[y][x];"
    },
    {
        "line": 124,
        "fullcodeline": "chunkData[chunkLen++] = gdTrueColorGetAlpha (p);"
    },
    {
        "line": 125,
        "fullcodeline": "chunkData[chunkLen++] = gdTrueColorGetRed (p);"
    },
    {
        "line": 126,
        "fullcodeline": "chunkData[chunkLen++] = gdTrueColorGetGreen (p);"
    },
    {
        "line": 127,
        "fullcodeline": "chunkData[chunkLen++] = gdTrueColorGetBlue (p);"
    },
    {
        "line": 130,
        "fullcodeline": "chunkData[chunkLen++] = p;"
    },
    {
        "line": 138,
        "fullcodeline": "gdPutInt (im->tpixels[y][x], out);"
    },
    {
        "line": 158,
        "fullcodeline": "chunkIdx[chunkNum - 1].size,"
    },
    {
        "line": 159,
        "fullcodeline": "chunkIdx[chunkNum - 1].offset));"
    },
    {
        "line": 140,
        "fullcodeline": "gdPutC ((unsigned char) im->pixels[y][x], out);"
    }
]