[
    {
        "line": 11,
        "fullcodeline": "query = get_str_arg(request, \"query\")"
    },
    {
        "line": 12,
        "fullcodeline": "run_query("
    },
    {
        "line": 13,
        "fullcodeline": "handle_predefined(data_id),"
    },
    {
        "line": 14,
        "fullcodeline": "build_query(data_id, query),"
    },
    {
        "line": 15,
        "fullcodeline": "global_state.get_context_variables(data_id),"
    },
    {
        "line": 17,
        "fullcodeline": "if get_str_arg(request, \"save\"):"
    },
    {
        "line": 24,
        "fullcodeline": "return jsonify(dict(success=True))"
    },
    {
        "line": 18,
        "fullcodeline": "curr_settings = global_state.get_settings(data_id) or {}"
    },
    {
        "line": 23,
        "fullcodeline": "global_state.set_settings(data_id, curr_settings)"
    },
    {
        "line": 19,
        "fullcodeline": "if query is not None:"
    },
    {
        "line": 20,
        "fullcodeline": "curr_settings = dict_merge(curr_settings, dict(query=query))"
    },
    {
        "line": 22,
        "fullcodeline": "curr_settings = {k: v for k, v in curr_settings.items() if k != \"query\"}"
    }
]