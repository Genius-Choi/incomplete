[
    {
        "line": 3,
        "fullcodeline": "transaction_t *commit_transaction = journal->j_running_transaction;"
    },
    {
        "line": 8,
        "fullcodeline": "spin_lock(&commit_transaction->t_handle_lock);"
    },
    {
        "line": 5,
        "fullcodeline": "if (!commit_transaction)"
    },
    {
        "line": 9,
        "fullcodeline": "while (atomic_read(&commit_transaction->t_updates)) {"
    },
    {
        "line": 10,
        "fullcodeline": "DEFINE_WAIT(wait);"
    },
    {
        "line": 12,
        "fullcodeline": "prepare_to_wait(&journal->j_wait_updates, &wait,"
    },
    {
        "line": 21,
        "fullcodeline": "finish_wait(&journal->j_wait_updates, &wait);"
    },
    {
        "line": 14,
        "fullcodeline": "if (atomic_read(&commit_transaction->t_updates)) {"
    },
    {
        "line": 15,
        "fullcodeline": "spin_unlock(&commit_transaction->t_handle_lock);"
    },
    {
        "line": 16,
        "fullcodeline": "write_unlock(&journal->j_state_lock);"
    },
    {
        "line": 18,
        "fullcodeline": "write_lock(&journal->j_state_lock);"
    },
    {
        "line": 19,
        "fullcodeline": "spin_lock(&commit_transaction->t_handle_lock);"
    }
]