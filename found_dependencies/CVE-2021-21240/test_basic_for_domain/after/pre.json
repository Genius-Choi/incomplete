[
    {
        "line": 3,
        "fullcodeline": "http = httplib2.Http()"
    },
    {
        "line": 4,
        "fullcodeline": "password = tests.gen_password()"
    },
    {
        "line": 5,
        "fullcodeline": "handler = tests.http_reflect_with_auth(allow_scheme=\"basic\", allow_credentials=((\"joe\", password),))"
    },
    {
        "line": 6,
        "fullcodeline": "with tests.server_request(handler, request_count=4) as uri:"
    },
    {
        "line": 9,
        "fullcodeline": "http.add_credentials(\"joe\", password, \"example.org\")"
    },
    {
        "line": 11,
        "fullcodeline": "assert response.status == 401"
    },
    {
        "line": 12,
        "fullcodeline": "domain = urllib.parse.urlparse(uri)[1]"
    },
    {
        "line": 13,
        "fullcodeline": "http.add_credentials(\"joe\", password, domain)"
    },
    {
        "line": 15,
        "fullcodeline": "assert response.status == 200"
    },
    {
        "line": 7,
        "fullcodeline": "response, content = http.request(uri, \"GET\")"
    },
    {
        "line": 8,
        "fullcodeline": "assert response.status == 401"
    },
    {
        "line": 10,
        "fullcodeline": "response, content = http.request(uri, \"GET\")"
    },
    {
        "line": 14,
        "fullcodeline": "response, content = http.request(uri, \"GET\")"
    }
]