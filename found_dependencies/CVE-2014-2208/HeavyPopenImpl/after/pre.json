[
    {
        "line": 3,
        "fullcodeline": "if (cwd && *cwd) {"
    },
    {
        "line": 17,
        "fullcodeline": "return ::popen(cmd, type);"
    },
    {
        "line": 4,
        "fullcodeline": "auto old_cwd = Process::GetCurrentDirectory();"
    },
    {
        "line": 5,
        "fullcodeline": "if (old_cwd != cwd) {"
    },
    {
        "line": 6,
        "fullcodeline": "Lock lock(s_mutex);"
    },
    {
        "line": 10,
        "fullcodeline": "FILE *f = ::popen(cmd, type);"
    },
    {
        "line": 7,
        "fullcodeline": "if (chdir(cwd)) {"
    },
    {
        "line": 11,
        "fullcodeline": "if (chdir(old_cwd.c_str())) {"
    },
    {
        "line": 8,
        "fullcodeline": "Logger::Warning(\"Failed to chdir to %s.\", cwd);"
    }
]