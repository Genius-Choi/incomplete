[
    {
        "line": 55,
        "fullcodeline": "site = FakeSite()"
    },
    {
        "line": 56,
        "fullcodeline": "channel = FakeChannel(site, reactor)"
    },
    {
        "line": 58,
        "fullcodeline": "req = request(channel)"
    },
    {
        "line": 59,
        "fullcodeline": "req.process = lambda: b\"\""
    },
    {
        "line": 60,
        "fullcodeline": "req.content = BytesIO(content)"
    },
    {
        "line": 61,
        "fullcodeline": "req.postpath = list(map(unquote, path[1:].split(b\"/\")))"
    },
    {
        "line": 77,
        "fullcodeline": "req.requestReceived(method, path, b\"1.1\")"
    },
    {
        "line": 33,
        "fullcodeline": "if not isinstance(method, bytes):"
    },
    {
        "line": 36,
        "fullcodeline": "if not isinstance(path, bytes):"
    },
    {
        "line": 41,
        "fullcodeline": "shorthand"
    },
    {
        "line": 47,
        "fullcodeline": "if not path.startswith(b\"/\"):"
    },
    {
        "line": 50,
        "fullcodeline": "if isinstance(content, dict):"
    },
    {
        "line": 52,
        "fullcodeline": "if isinstance(content, text_type):"
    },
    {
        "line": 68,
        "fullcodeline": "if federation_auth_origin is not None:"
    },
    {
        "line": 79,
        "fullcodeline": "return req, channel"
    },
    {
        "line": 34,
        "fullcodeline": "method = method.encode(\"ascii\")"
    },
    {
        "line": 37,
        "fullcodeline": "path = path.encode(\"ascii\")"
    },
    {
        "line": 42,
        "fullcodeline": "and not path.startswith(b\"/_matrix\")"
    },
    {
        "line": 44,
        "fullcodeline": "path = b\"/_matrix/identity/v2/\" + path"
    },
    {
        "line": 45,
        "fullcodeline": "path = path.replace(b\"//\", b\"/\")"
    },
    {
        "line": 48,
        "fullcodeline": "path = b\"/\" + path"
    },
    {
        "line": 51,
        "fullcodeline": "content = json.dumps(content)"
    },
    {
        "line": 53,
        "fullcodeline": "content = content.encode(\"utf8\")"
    },
    {
        "line": 64,
        "fullcodeline": "req.requestHeaders.addRawHeader("
    },
    {
        "line": 69,
        "fullcodeline": "req.requestHeaders.addRawHeader("
    },
    {
        "line": 75,
        "fullcodeline": "req.requestHeaders.addRawHeader(b\"Content-Type\", b\"application/json\")"
    },
    {
        "line": 65,
        "fullcodeline": "b\"Authorization\", b\"Bearer \" + access_token.encode(\"ascii\")"
    },
    {
        "line": 71,
        "fullcodeline": "b\"X-Matrix origin=%s,key=,sig=\" % (federation_auth_origin,),"
    }
]