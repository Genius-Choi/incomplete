[
    {
        "line": 2,
        "fullcodeline": "host = uri.host"
    },
    {
        "line": 5,
        "fullcodeline": "res = @dns.getresource \"_rubygems._tcp.#{host}\","
    },
    {
        "line": 11,
        "fullcodeline": "target = res.target.to_s.strip"
    },
    {
        "line": 8,
        "fullcodeline": "verbose \"Getting SRV record failed: #{e}\""
    },
    {
        "line": 6,
        "fullcodeline": "Resolv::DNS::Resource::IN::SRV"
    },
    {
        "line": 13,
        "fullcodeline": "if URI(\"http://\" + target).host.end_with?(\".#{host}\")"
    },
    {
        "line": 14,
        "fullcodeline": "return URI.parse \"#{uri.scheme}://#{target}#{uri.path}\""
    }
]