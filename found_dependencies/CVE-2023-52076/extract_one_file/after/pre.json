[
    {
        "line": 4,
        "fullcodeline": "gsize writesize = 0;"
    },
    {
        "line": 16,
        "fullcodeline": "gboolean result = TRUE;"
    },
    {
        "line": 18,
        "fullcodeline": "gpointer currentfilename = g_malloc0(512);"
    },
    {
        "line": 19,
        "fullcodeline": "unzGetCurrentFileInfo64(epub_document->epubDocument,&info,currentfilename,512,NULL,0,NULL,0) ;"
    },
    {
        "line": 20,
        "fullcodeline": "directory = g_strrstr(currentfilename,\"/\") ;"
    },
    {
        "line": 25,
        "fullcodeline": "gfilepath = g_string_new(epub_document->tmp_archive_dir) ;"
    },
    {
        "line": 26,
        "fullcodeline": "g_string_append_printf(gfilepath,\"/%s\",(gchar*)currentfilename);"
    },
    {
        "line": 28,
        "fullcodeline": "outfile = g_file_new_for_path (gfilepath->str);"
    },
    {
        "line": 29,
        "fullcodeline": "g_autofree gchar *rpath = g_file_get_relative_path (tmp_gfile, outfile);"
    },
    {
        "line": 69,
        "fullcodeline": "outstream = g_file_create(outfile,G_FILE_CREATE_PRIVATE,NULL,error);"
    },
    {
        "line": 70,
        "fullcodeline": "gpointer buffer = g_malloc0(512);"
    },
    {
        "line": 11,
        "fullcodeline": "if ( unzOpenCurrentFile(epub_document->epubDocument) != UNZ_OK )"
    },
    {
        "line": 22,
        "fullcodeline": "if ( directory != NULL )"
    },
    {
        "line": 31,
        "fullcodeline": "if (rpath == NULL)"
    },
    {
        "line": 23,
        "fullcodeline": "directory++;"
    },
    {
        "line": 33,
        "fullcodeline": "g_set_error_literal (error,"
    },
    {
        "line": 38,
        "fullcodeline": "result = FALSE;"
    },
    {
        "line": 43,
        "fullcodeline": "if (directory != NULL && *directory == '\\0')"
    },
    {
        "line": 45,
        "fullcodeline": "g_mkdir(gfilepath->str,0777);"
    },
    {
        "line": 71,
        "fullcodeline": "while ( (writesize = unzReadCurrentFile(epub_document->epubDocument,buffer,512) ) != 0 )"
    },
    {
        "line": 36,
        "fullcodeline": "_(\"epub file is invalid or corrupt\"));"
    },
    {
        "line": 73,
        "fullcodeline": "if ( g_output_stream_write((GOutputStream*)outstream,buffer,writesize,NULL,error) == -1 )"
    },
    {
        "line": 75,
        "fullcodeline": "result = FALSE;"
    },
    {
        "line": 48,
        "fullcodeline": "else if (directory != NULL && *directory != '\\0' ) {"
    },
    {
        "line": 49,
        "fullcodeline": "gchar* createdir = currentfilename;"
    },
    {
        "line": 51,
        "fullcodeline": "gchar *createdirname = g_malloc0(strlen(currentfilename));"
    },
    {
        "line": 53,
        "fullcodeline": "gchar *createdirnametemp = createdirname;"
    },
    {
        "line": 61,
        "fullcodeline": "dir_create = g_string_new(epub_document->tmp_archive_dir);"
    },
    {
        "line": 62,
        "fullcodeline": "g_string_append_printf(dir_create,\"/%s\",createdirname);"
    },
    {
        "line": 65,
        "fullcodeline": "g_mkdir_with_parents(dir_create->str,0777);"
    },
    {
        "line": 66,
        "fullcodeline": "g_string_free(dir_create,TRUE);"
    },
    {
        "line": 54,
        "fullcodeline": "while ( createdir != directory ) {"
    },
    {
        "line": 55,
        "fullcodeline": "(*createdirnametemp) = (*createdir);"
    },
    {
        "line": 57,
        "fullcodeline": "createdir++;"
    }
]