[
    {
        "line": 4,
        "fullcodeline": "parts = urlsplit(url)"
    },
    {
        "line": 5,
        "fullcodeline": "safe_url = parts.path"
    },
    {
        "line": 12,
        "fullcodeline": "safe_url = re.sub(r'^//+', '/', safe_url)"
    },
    {
        "line": 2,
        "fullcodeline": "if url in ('help', 'login', 'signin', 'restart', 'new_session', 'exit', 'interview', 'logout', 'exit_logout', 'leave', 'register', 'profile', 'change_password', 'interviews', 'dispatch', 'manage', 'config', 'playground', 'playgroundtemplate', 'playgroundstatic', 'playgroundsources', 'playgroundmodules', 'playgroundpackages', 'configuration', 'root', 'temp_url', 'login_url', 'exit_endpoint', 'interview_start', 'interview_list', 'playgroundfiles', 'create_playground_package', 'run', 'run_interview_in_package', 'run_dispatch', 'run_new', 'run_new_dispatch'):"
    },
    {
        "line": 6,
        "fullcodeline": "if parts.query != '':"
    },
    {
        "line": 8,
        "fullcodeline": "if parts.fragment != '':"
    },
    {
        "line": 7,
        "fullcodeline": "safe_url += '?' + parts.query"
    },
    {
        "line": 9,
        "fullcodeline": "safe_url += '#' + parts.fragment"
    },
    {
        "line": 10,
        "fullcodeline": "if len(safe_url) > 0 and safe_url[0] not in ('?', '#', '/'):"
    },
    {
        "line": 11,
        "fullcodeline": "safe_url = '/' + safe_url"
    }
]