[
    {
        "line": 2,
        "fullcodeline": "keepdir = request.POST.get(\"keepdir\", \"false\") == \"true\""
    },
    {
        "line": 8,
        "fullcodeline": "dom = Domain.objects.get(pk=dom_id)"
    },
    {
        "line": 13,
        "fullcodeline": "dom.delete(request.user, keepdir)"
    },
    {
        "line": 15,
        "fullcodeline": "msg = ungettext(\"Domain deleted\", \"Domains deleted\", 1)"
    },
    {
        "line": 9,
        "fullcodeline": "if not request.user.can_access(dom):"
    },
    {
        "line": 11,
        "fullcodeline": "if mb and mb.domain == dom:"
    },
    {
        "line": 16,
        "fullcodeline": "return render_to_json_response(msg)"
    },
    {
        "line": 4,
        "fullcodeline": "mb = Mailbox.objects.get(user__id=request.user.id)"
    },
    {
        "line": 10,
        "fullcodeline": "raise PermDeniedException"
    },
    {
        "line": 12,
        "fullcodeline": "raise PermDeniedException(_(\"You can't delete your own domain\"))"
    },
    {
        "line": 6,
        "fullcodeline": "mb = None"
    }
]