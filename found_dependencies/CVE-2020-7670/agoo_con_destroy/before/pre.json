[
    {
        "line": 2,
        "fullcodeline": "atomic_fetch_sub(&agoo_server.con_cnt, 1);"
    },
    {
        "line": 28,
        "fullcodeline": "agoo_log_cat(&agoo_con_cat, \"Connection %llu closed.\", (unsigned long long)c->id);"
    },
    {
        "line": 36,
        "fullcodeline": "pthread_mutex_destroy(&c->res_lock);"
    },
    {
        "line": 37,
        "fullcodeline": "AGOO_FREE(c);"
    },
    {
        "line": 3,
        "fullcodeline": "if (AGOO_CON_WS == c->bind->kind || AGOO_CON_SSE == c->bind->kind) {"
    },
    {
        "line": 6,
        "fullcodeline": "if (0 < c->sock) {"
    },
    {
        "line": 16,
        "fullcodeline": "if (NULL != c->req) {"
    },
    {
        "line": 19,
        "fullcodeline": "if (NULL != c->up) {"
    },
    {
        "line": 23,
        "fullcodeline": "if (NULL != c->gsub) {"
    },
    {
        "line": 32,
        "fullcodeline": "while (NULL != (res = c->res_head)) {"
    },
    {
        "line": 4,
        "fullcodeline": "agoo_ws_req_close(c);"
    },
    {
        "line": 13,
        "fullcodeline": "close(c->sock);"
    },
    {
        "line": 14,
        "fullcodeline": "c->sock = 0;"
    },
    {
        "line": 17,
        "fullcodeline": "agoo_req_destroy(c->req);"
    },
    {
        "line": 20,
        "fullcodeline": "agoo_upgraded_release_con(c->up);"
    },
    {
        "line": 21,
        "fullcodeline": "c->up = NULL;"
    },
    {
        "line": 24,
        "fullcodeline": "agoo_server_del_gsub(c->gsub);"
    },
    {
        "line": 25,
        "fullcodeline": "gql_sub_destroy(c->gsub);"
    },
    {
        "line": 26,
        "fullcodeline": "c->gsub = NULL;"
    },
    {
        "line": 33,
        "fullcodeline": "c->res_head = res->next;"
    },
    {
        "line": 34,
        "fullcodeline": "AGOO_FREE(res);"
    }
]