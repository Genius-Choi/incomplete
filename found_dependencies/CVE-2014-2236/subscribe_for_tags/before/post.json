[
    {
        "line": 4,
        "fullcodeline": "tag_names = request.REQUEST.get('tags','').strip().split()"
    },
    {
        "line": 5,
        "fullcodeline": "pure_tag_names, wildcards = forms.clean_marked_tagnames(tag_names)"
    },
    {
        "line": 6,
        "fullcodeline": "if request.user.is_authenticated():"
    },
    {
        "line": 28,
        "fullcodeline": "all_tag_names = pure_tag_names + wildcards"
    },
    {
        "line": 29,
        "fullcodeline": "message = _('Please sign in to subscribe for: %(tags)s') \\"
    },
    {
        "line": 32,
        "fullcodeline": "request.session['subscribe_for_tags'] = (pure_tag_names, wildcards)"
    },
    {
        "line": 7,
        "fullcodeline": "if request.method == 'POST':"
    },
    {
        "line": 31,
        "fullcodeline": "request.user.message_set.create(message = message)"
    },
    {
        "line": 33,
        "fullcodeline": "return HttpResponseRedirect(url_utils.get_login_url())"
    },
    {
        "line": 25,
        "fullcodeline": "data = {'tags': tag_names}"
    },
    {
        "line": 8,
        "fullcodeline": "if 'ok' in request.POST:"
    },
    {
        "line": 23,
        "fullcodeline": "return HttpResponseRedirect(reverse('index'))"
    },
    {
        "line": 26,
        "fullcodeline": "return render(request, 'subscribe_for_tags.html', data)"
    },
    {
        "line": 30,
        "fullcodeline": "% {'tags': ', '.join(all_tag_names)}"
    },
    {
        "line": 19,
        "fullcodeline": "message = _("
    },
    {
        "line": 9,
        "fullcodeline": "request.user.mark_tags("
    },
    {
        "line": 15,
        "fullcodeline": "request.user.message_set.create("
    },
    {
        "line": 22,
        "fullcodeline": "request.user.message_set.create(message = message)"
    },
    {
        "line": 16,
        "fullcodeline": "message = _('Your tag subscription was saved, thanks!')"
    },
    {
        "line": 21,
        "fullcodeline": ") % {'url': request.path + '?tags=' + request.REQUEST['tags']}"
    }
]