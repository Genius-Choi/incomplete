[
    {
        "line": 95,
        "fullcodeline": "name = os.path.expanduser(name)"
    },
    {
        "line": 97,
        "fullcodeline": "if not ret:"
    },
    {
        "line": 103,
        "fullcodeline": "if source and not sfn:"
    },
    {
        "line": 124,
        "fullcodeline": "if os.path.isfile(name) or os.path.islink(name):"
    },
    {
        "line": 98,
        "fullcodeline": "ret = {'name': name,"
    },
    {
        "line": 105,
        "fullcodeline": "sfn = __salt__['cp.cache_file'](source, saltenv)"
    },
    {
        "line": 109,
        "fullcodeline": "htype = source_sum.get('hash_type', __opts__['hash_type'])"
    },
    {
        "line": 111,
        "fullcodeline": "source_sum = {"
    },
    {
        "line": 288,
        "fullcodeline": "contain_dir = os.path.dirname(name)"
    },
    {
        "line": 290,
        "fullcodeline": "def _set_mode_and_make_dirs(name, dir_mode, mode, user, group):"
    },
    {
        "line": 106,
        "fullcodeline": "if not sfn:"
    },
    {
        "line": 125,
        "fullcodeline": "if os.path.islink(name) and follow_symlinks:"
    },
    {
        "line": 131,
        "fullcodeline": "if source and not (not follow_symlinks and os.path.islink(real_name)):"
    },
    {
        "line": 137,
        "fullcodeline": "if source and (name_sum is None or source_sum.get('hsum', __opts__['hash_type']) != name_sum):"
    },
    {
        "line": 196,
        "fullcodeline": "if contents is not None:"
    },
    {
        "line": 239,
        "fullcodeline": "if os.path.islink(name) and not follow_symlinks:"
    },
    {
        "line": 275,
        "fullcodeline": "ret, _ = check_perms(name, ret, user, group, mode, follow_symlinks)"
    },
    {
        "line": 382,
        "fullcodeline": "if contents is not None:"
    },
    {
        "line": 407,
        "fullcodeline": "if mode is None and not salt.utils.is_windows():"
    },
    {
        "line": 413,
        "fullcodeline": "ret, _ = check_perms(name, ret, user, group, mode)"
    },
    {
        "line": 415,
        "fullcodeline": "if not ret['comment']:"
    },
    {
        "line": 126,
        "fullcodeline": "real_name = os.path.realpath(name)"
    },
    {
        "line": 128,
        "fullcodeline": "real_name = name"
    },
    {
        "line": 132,
        "fullcodeline": "name_sum = get_hash(real_name, source_sum.get('hash_type', __opts__['hash_type']))"
    },
    {
        "line": 134,
        "fullcodeline": "name_sum = None"
    },
    {
        "line": 198,
        "fullcodeline": "tmp = salt.utils.mkstemp(prefix=salt.utils.files.TEMPFILE_PREFIX,"
    },
    {
        "line": 236,
        "fullcodeline": "__clean_tmp(tmp)"
    },
    {
        "line": 272,
        "fullcodeline": "ret['changes']['diff'] = \\"
    },
    {
        "line": 278,
        "fullcodeline": "ret['comment'] = 'File {0} updated'.format(name)"
    },
    {
        "line": 285,
        "fullcodeline": "__clean_tmp(sfn)"
    },
    {
        "line": 313,
        "fullcodeline": "ret['changes']['diff'] = 'New file'"
    },
    {
        "line": 384,
        "fullcodeline": "tmp = salt.utils.mkstemp(prefix=salt.utils.files.TEMPFILE_PREFIX,"
    },
    {
        "line": 396,
        "fullcodeline": "__clean_tmp(tmp)"
    },
    {
        "line": 409,
        "fullcodeline": "mask = os.umask(0)"
    },
    {
        "line": 410,
        "fullcodeline": "os.umask(mask)"
    },
    {
        "line": 412,
        "fullcodeline": "mode = oct((0o777 ^ mask) & 0o666)"
    },
    {
        "line": 416,
        "fullcodeline": "ret['comment'] = 'File ' + name + ' updated'"
    },
    {
        "line": 419,
        "fullcodeline": "ret['comment'] = 'File ' + name + ' not updated'"
    },
    {
        "line": 423,
        "fullcodeline": "__clean_tmp(sfn)"
    },
    {
        "line": 107,
        "fullcodeline": "return _error("
    },
    {
        "line": 113,
        "fullcodeline": "'hsum': get_hash(sfn, form=htype)"
    },
    {
        "line": 116,
        "fullcodeline": "if _urlparse(source).scheme in ('salt', 'file') \\"
    },
    {
        "line": 138,
        "fullcodeline": "if not sfn:"
    },
    {
        "line": 140,
        "fullcodeline": "if not sfn:"
    },
    {
        "line": 146,
        "fullcodeline": "if not skip_verify \\"
    },
    {
        "line": 166,
        "fullcodeline": "if __salt__['config.option']('obfuscate_templates'):"
    },
    {
        "line": 203,
        "fullcodeline": "with salt.utils.fopen(tmp, 'w') as tmp_:"
    },
    {
        "line": 207,
        "fullcodeline": "with salt.utils.fopen(tmp, 'r') as src:"
    },
    {
        "line": 209,
        "fullcodeline": "with salt.utils.fopen(real_name, 'r') as name_:"
    },
    {
        "line": 240,
        "fullcodeline": "if not sfn:"
    },
    {
        "line": 242,
        "fullcodeline": "if not sfn:"
    },
    {
        "line": 247,
        "fullcodeline": "if not skip_verify and _urlparse(source).scheme != 'salt':"
    },
    {
        "line": 280,
        "fullcodeline": "elif not ret['changes'] and ret['result']:"
    },
    {
        "line": 315,
        "fullcodeline": "if not sfn:"
    },
    {
        "line": 317,
        "fullcodeline": "if not sfn:"
    },
    {
        "line": 322,
        "fullcodeline": "if not skip_verify \\"
    },
    {
        "line": 337,
        "fullcodeline": "if not os.path.isdir(contain_dir):"
    },
    {
        "line": 346,
        "fullcodeline": "if not os.path.isdir(contain_dir):"
    },
    {
        "line": 361,
        "fullcodeline": "if contents is None:"
    },
    {
        "line": 389,
        "fullcodeline": "with salt.utils.fopen(tmp, 'w') as tmp_:"
    },
    {
        "line": 392,
        "fullcodeline": "salt.utils.files.copyfile(tmp,"
    },
    {
        "line": 420,
        "fullcodeline": "elif not ret['changes'] and ret['result']:"
    },
    {
        "line": 99,
        "fullcodeline": "'changes': {},"
    },
    {
        "line": 117,
        "fullcodeline": "or source.startswith('/'):"
    },
    {
        "line": 139,
        "fullcodeline": "sfn = __salt__['cp.cache_file'](source, saltenv)"
    },
    {
        "line": 147,
        "fullcodeline": "and _urlparse(source).scheme not in ('salt', ''):"
    },
    {
        "line": 148,
        "fullcodeline": "dl_sum = get_hash(sfn, source_sum['hash_type'])"
    },
    {
        "line": 167,
        "fullcodeline": "ret['changes']['diff'] = '<Obfuscated Template>'"
    },
    {
        "line": 200,
        "fullcodeline": "if salt.utils.is_windows():"
    },
    {
        "line": 201,
        "fullcodeline": "contents = os.linesep.join("
    },
    {
        "line": 241,
        "fullcodeline": "sfn = __salt__['cp.cache_file'](source, saltenv)"
    },
    {
        "line": 248,
        "fullcodeline": "dl_sum = get_hash(sfn, source_sum['hash_type'])"
    },
    {
        "line": 281,
        "fullcodeline": "ret['comment'] = u'File {0} is in the correct state'.format("
    },
    {
        "line": 316,
        "fullcodeline": "sfn = __salt__['cp.cache_file'](source, saltenv)"
    },
    {
        "line": 323,
        "fullcodeline": "and _urlparse(source).scheme != 'salt':"
    },
    {
        "line": 324,
        "fullcodeline": "dl_sum = get_hash(sfn, source_sum['hash_type'])"
    },
    {
        "line": 358,
        "fullcodeline": "current_umask = os.umask(0o77)"
    },
    {
        "line": 380,
        "fullcodeline": "os.umask(current_umask)"
    },
    {
        "line": 386,
        "fullcodeline": "if salt.utils.is_windows():"
    },
    {
        "line": 387,
        "fullcodeline": "contents = os.linesep.join("
    },
    {
        "line": 394,
        "fullcodeline": "__salt__['config.backup_mode'](backup),"
    },
    {
        "line": 403,
        "fullcodeline": "__clean_tmp(sfn)"
    },
    {
        "line": 421,
        "fullcodeline": "ret['comment'] = 'File ' + name + ' is in the correct state'"
    },
    {
        "line": 108,
        "fullcodeline": "ret, 'Source file \\'{0}\\' not found'.format(source))"
    },
    {
        "line": 141,
        "fullcodeline": "return _error("
    },
    {
        "line": 149,
        "fullcodeline": "if dl_sum != source_sum['hsum']:"
    },
    {
        "line": 168,
        "fullcodeline": "elif not show_changes:"
    },
    {
        "line": 187,
        "fullcodeline": "salt.utils.files.copyfile(sfn,"
    },
    {
        "line": 204,
        "fullcodeline": "tmp_.write(str(contents))"
    },
    {
        "line": 208,
        "fullcodeline": "slines = src.readlines()"
    },
    {
        "line": 210,
        "fullcodeline": "nlines = name_.readlines()"
    },
    {
        "line": 211,
        "fullcodeline": "different = ''.join(slines) != ''.join(nlines)"
    },
    {
        "line": 214,
        "fullcodeline": "if __salt__['config.option']('obfuscate_templates'):"
    },
    {
        "line": 243,
        "fullcodeline": "return _error("
    },
    {
        "line": 249,
        "fullcodeline": "if dl_sum != source_sum['hsum']:"
    },
    {
        "line": 263,
        "fullcodeline": "salt.utils.files.copyfile(sfn,"
    },
    {
        "line": 318,
        "fullcodeline": "return _error("
    },
    {
        "line": 325,
        "fullcodeline": "if dl_sum != source_sum['hsum']:"
    },
    {
        "line": 390,
        "fullcodeline": "tmp_.write(str(contents))"
    },
    {
        "line": 399,
        "fullcodeline": "salt.utils.files.copyfile(sfn,"
    },
    {
        "line": 119,
        "fullcodeline": "mode = salt.utils.st_mode_to_octal(os.stat(sfn).st_mode)"
    },
    {
        "line": 150,
        "fullcodeline": "ret['comment'] = ("
    },
    {
        "line": 162,
        "fullcodeline": "ret['result'] = False"
    },
    {
        "line": 169,
        "fullcodeline": "ret['changes']['diff'] = '<show_changes=False>'"
    },
    {
        "line": 172,
        "fullcodeline": "bdiff = _binary_replace(real_name, sfn)"
    },
    {
        "line": 189,
        "fullcodeline": "__salt__['config.backup_mode'](backup),"
    },
    {
        "line": 192,
        "fullcodeline": "__clean_tmp(sfn)"
    },
    {
        "line": 215,
        "fullcodeline": "ret['changes']['diff'] = '<Obfuscated Template>'"
    },
    {
        "line": 250,
        "fullcodeline": "ret['comment'] = ("
    },
    {
        "line": 259,
        "fullcodeline": "ret['result'] = False"
    },
    {
        "line": 265,
        "fullcodeline": "__salt__['config.backup_mode'](backup),"
    },
    {
        "line": 268,
        "fullcodeline": "__clean_tmp(sfn)"
    },
    {
        "line": 326,
        "fullcodeline": "ret['comment'] = ("
    },
    {
        "line": 335,
        "fullcodeline": "ret['result'] = False"
    },
    {
        "line": 339,
        "fullcodeline": "_set_mode_and_make_dirs(name, dir_mode, mode, user, group)"
    },
    {
        "line": 341,
        "fullcodeline": "__clean_tmp(sfn)"
    },
    {
        "line": 348,
        "fullcodeline": "_set_mode_and_make_dirs(name, dir_mode, mode, user, group)"
    },
    {
        "line": 350,
        "fullcodeline": "__clean_tmp(sfn)"
    },
    {
        "line": 401,
        "fullcodeline": "__salt__['config.backup_mode'](backup),"
    },
    {
        "line": 142,
        "fullcodeline": "ret, 'Source file \\'{0}\\' not found'.format(source))"
    },
    {
        "line": 193,
        "fullcodeline": "return _error("
    },
    {
        "line": 202,
        "fullcodeline": "_splitlines_preserving_trailing_newline(contents))"
    },
    {
        "line": 216,
        "fullcodeline": "elif not show_changes:"
    },
    {
        "line": 228,
        "fullcodeline": "salt.utils.files.copyfile(tmp,"
    },
    {
        "line": 244,
        "fullcodeline": "ret, 'Source file \\'{0}\\' not found'.format(source))"
    },
    {
        "line": 269,
        "fullcodeline": "return _error("
    },
    {
        "line": 319,
        "fullcodeline": "ret, 'Source file \\'{0}\\' not found'.format(source))"
    },
    {
        "line": 343,
        "fullcodeline": "ret['changes'].pop('diff', None)"
    },
    {
        "line": 344,
        "fullcodeline": "return _error(ret, 'Parent directory not present')"
    },
    {
        "line": 352,
        "fullcodeline": "ret['changes'].pop('diff', None)"
    },
    {
        "line": 353,
        "fullcodeline": "return _error(ret, 'Parent directory not present')"
    },
    {
        "line": 363,
        "fullcodeline": "if touch(name):"
    },
    {
        "line": 372,
        "fullcodeline": "if touch(name):"
    },
    {
        "line": 388,
        "fullcodeline": "_splitlines_preserving_trailing_newline(contents))"
    },
    {
        "line": 121,
        "fullcodeline": "log.warning('Unable to stat %s: %s', sfn, exc)"
    },
    {
        "line": 151,
        "fullcodeline": "'Specified {0} checksum for {1} ({2}) does not match '"
    },
    {
        "line": 174,
        "fullcodeline": "ret['changes']['diff'] = bdiff"
    },
    {
        "line": 181,
        "fullcodeline": "sndiff = ''.join(difflib.unified_diff(nlines, slines))"
    },
    {
        "line": 217,
        "fullcodeline": "ret['changes']['diff'] = '<show_changes=False>'"
    },
    {
        "line": 230,
        "fullcodeline": "__salt__['config.backup_mode'](backup),"
    },
    {
        "line": 233,
        "fullcodeline": "__clean_tmp(tmp)"
    },
    {
        "line": 251,
        "fullcodeline": "'Specified {0} checksum for {1} ({2}) does not match '"
    },
    {
        "line": 282,
        "fullcodeline": "salt.utils.locales.sdecode(name)"
    },
    {
        "line": 327,
        "fullcodeline": "'Specified {0} checksum for {1} ({2}) does not match '"
    },
    {
        "line": 364,
        "fullcodeline": "ret['changes']['new'] = 'file {0} created'.format(name)"
    },
    {
        "line": 365,
        "fullcodeline": "ret['comment'] = 'Empty file'"
    },
    {
        "line": 373,
        "fullcodeline": "ret['changes']['diff'] = 'New file'"
    },
    {
        "line": 176,
        "fullcodeline": "with salt.utils.fopen(sfn, 'r') as src:"
    },
    {
        "line": 178,
        "fullcodeline": "with salt.utils.fopen(real_name, 'r') as name_:"
    },
    {
        "line": 194,
        "fullcodeline": "ret, 'Failed to commit change: {0}'.format(io_error))"
    },
    {
        "line": 234,
        "fullcodeline": "return _error("
    },
    {
        "line": 270,
        "fullcodeline": "ret, 'Failed to commit change: {0}'.format(io_error))"
    },
    {
        "line": 367,
        "fullcodeline": "return _error("
    },
    {
        "line": 375,
        "fullcodeline": "return _error("
    },
    {
        "line": 183,
        "fullcodeline": "ret['changes']['diff'] = sndiff"
    },
    {
        "line": 219,
        "fullcodeline": "if salt.utils.istextfile(real_name):"
    },
    {
        "line": 220,
        "fullcodeline": "ret['changes']['diff'] = \\"
    },
    {
        "line": 223,
        "fullcodeline": "ret['changes']['diff'] = \\"
    },
    {
        "line": 177,
        "fullcodeline": "slines = src.readlines()"
    },
    {
        "line": 179,
        "fullcodeline": "nlines = name_.readlines()"
    },
    {
        "line": 235,
        "fullcodeline": "ret, 'Failed to commit change: {0}'.format(io_error))"
    },
    {
        "line": 368,
        "fullcodeline": "ret, 'Empty file {0} not created'.format(name)"
    },
    {
        "line": 376,
        "fullcodeline": "ret, 'File {0} not created'.format(name)"
    },
    {
        "line": 221,
        "fullcodeline": "''.join(difflib.unified_diff(nlines, slines))"
    }
]