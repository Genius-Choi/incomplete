[
    {
        "line": 9,
        "fullcodeline": "from _bentoml_sdk import Service"
    },
    {
        "line": 13,
        "fullcodeline": "bento_path = bento_path.absolute()"
    },
    {
        "line": 11,
        "fullcodeline": "if bento_path is None:"
    },
    {
        "line": 16,
        "fullcodeline": "if bento_path != pathlib.Path(\".\").absolute():"
    },
    {
        "line": 26,
        "fullcodeline": "bento_path.parent.joinpath(BENTO_YAML_FILENAME).exists()"
    },
    {
        "line": 12,
        "fullcodeline": "bento_path = pathlib.Path(\".\")"
    },
    {
        "line": 18,
        "fullcodeline": "extra_python_path = str(bento_path)"
    },
    {
        "line": 22,
        "fullcodeline": "extra_python_path = None"
    },
    {
        "line": 29,
        "fullcodeline": "from bentoml._internal.configuration.containers import BentoMLContainer"
    },
    {
        "line": 30,
        "fullcodeline": "from bentoml._internal.models import ModelStore"
    },
    {
        "line": 32,
        "fullcodeline": "original_model_store = BentoMLContainer.model_store.get()"
    },
    {
        "line": 38,
        "fullcodeline": "original_model_store = None"
    },
    {
        "line": 43,
        "fullcodeline": "assert ("
    },
    {
        "line": 47,
        "fullcodeline": "module = importlib.import_module(module_name)"
    },
    {
        "line": 49,
        "fullcodeline": "root_service = getattr(module, root_service_name)"
    },
    {
        "line": 51,
        "fullcodeline": "assert isinstance("
    },
    {
        "line": 19,
        "fullcodeline": "sys.path.insert(0, extra_python_path)"
    },
    {
        "line": 27,
        "fullcodeline": "and bento_path.parent.joinpath(\"models\").exists()"
    },
    {
        "line": 34,
        "fullcodeline": "BentoMLContainer.model_store.set("
    },
    {
        "line": 41,
        "fullcodeline": "module_name, _, attrs_str = service_identifier.partition(\":\")"
    },
    {
        "line": 44,
        "fullcodeline": "module_name and attrs_str"
    },
    {
        "line": 45,
        "fullcodeline": "), f'Invalid import target \"{service_identifier}\", must format as \"<module>:<attribute>\"'"
    },
    {
        "line": 48,
        "fullcodeline": "root_service_name, _, depend_path = attrs_str.partition(\".\")"
    },
    {
        "line": 53,
        "fullcodeline": "), f'import target \"{module_name}:{attrs_str}\" is not a bentoml.Service instance'"
    },
    {
        "line": 55,
        "fullcodeline": "if not depend_path:"
    },
    {
        "line": 35,
        "fullcodeline": "ModelStore((bento_path.parent.joinpath(\"models\").absolute()))"
    },
    {
        "line": 61,
        "fullcodeline": "sys_path = sys.path.copy()"
    },
    {
        "line": 58,
        "fullcodeline": "return root_service.find_dependent(depend_path)"
    },
    {
        "line": 62,
        "fullcodeline": "if extra_python_path is not None:"
    },
    {
        "line": 65,
        "fullcodeline": "if original_model_store is not None:"
    },
    {
        "line": 69,
        "fullcodeline": "from bentoml.exceptions import ImportServiceError"
    },
    {
        "line": 71,
        "fullcodeline": "raise ImportServiceError("
    },
    {
        "line": 66,
        "fullcodeline": "from bentoml._internal.configuration.containers import BentoMLContainer"
    },
    {
        "line": 72,
        "fullcodeline": "f'Failed to import service \"{service_identifier}\": {e}, sys.path: {sys_path}, cwd: {pathlib.Path.cwd()}'"
    },
    {
        "line": 63,
        "fullcodeline": "sys.path.remove(extra_python_path)"
    },
    {
        "line": 68,
        "fullcodeline": "BentoMLContainer.model_store.set(original_model_store)"
    }
]