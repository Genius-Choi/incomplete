[
    {
        "line": 2,
        "fullcodeline": "if not config.config_uploading:"
    },
    {
        "line": 4,
        "fullcodeline": "if request.method == 'POST' and 'btn-upload' in request.files:"
    },
    {
        "line": 3,
        "fullcodeline": "abort(404)"
    },
    {
        "line": 5,
        "fullcodeline": "for requested_file in request.files.getlist(\"btn-upload\"):"
    },
    {
        "line": 54,
        "fullcodeline": "return Response(json.dumps({\"location\": url_for(\"web.index\")}), mimetype='application/json')"
    },
    {
        "line": 7,
        "fullcodeline": "modif_date = False"
    },
    {
        "line": 9,
        "fullcodeline": "calibre_db.update_title_sort(config)"
    },
    {
        "line": 19,
        "fullcodeline": "modif_date |= edit_book_comments(Markup(meta.description).unescape(), db_book)"
    },
    {
        "line": 21,
        "fullcodeline": "book_id = db_book.id"
    },
    {
        "line": 22,
        "fullcodeline": "title = db_book.title"
    },
    {
        "line": 24,
        "fullcodeline": "error = helper.update_dir_structure_file(book_id,"
    },
    {
        "line": 30,
        "fullcodeline": "move_coverfile(meta, db_book)"
    },
    {
        "line": 39,
        "fullcodeline": "link = '<a href=\"{}\">{}</a>'.format(url_for('web.show_book', book_id=book_id), escape(title))"
    },
    {
        "line": 40,
        "fullcodeline": "uploadText = _(u\"File %(file)s uploaded\", file=link)"
    },
    {
        "line": 41,
        "fullcodeline": "WorkerThread.add(current_user.name, TaskUpload(uploadText))"
    },
    {
        "line": 10,
        "fullcodeline": "calibre_db.session.connection().connection.connection.create_function('uuid4', 0, lambda: str(uuid4()))"
    },
    {
        "line": 12,
        "fullcodeline": "meta, error = file_handling_on_upload(requested_file)"
    },
    {
        "line": 16,
        "fullcodeline": "db_book, input_authors, title_dir = create_book_on_upload(modif_date, meta)"
    },
    {
        "line": 33,
        "fullcodeline": "calibre_db.session.commit()"
    },
    {
        "line": 43,
        "fullcodeline": "if len(request.files.getlist(\"btn-upload\")) < 2:"
    },
    {
        "line": 28,
        "fullcodeline": "title_dir + meta.extension.lower())"
    },
    {
        "line": 36,
        "fullcodeline": "gdriveutils.updateGdriveCalibreFromLocal()"
    },
    {
        "line": 38,
        "fullcodeline": "flash(error, category=\"error\")"
    },
    {
        "line": 52,
        "fullcodeline": "log.error(\"Database error: %s\", e)"
    },
    {
        "line": 53,
        "fullcodeline": "flash(_(u\"Database error: %(error)s.\", error=e), category=\"error\")"
    },
    {
        "line": 44,
        "fullcodeline": "if current_user.role_edit() or current_user.role_admin():"
    },
    {
        "line": 51,
        "fullcodeline": "calibre_db.session.rollback()"
    },
    {
        "line": 45,
        "fullcodeline": "resp = {\"location\": url_for('editbook.edit_book', book_id=book_id)}"
    },
    {
        "line": 48,
        "fullcodeline": "resp = {\"location\": url_for('web.show_book', book_id=book_id)}"
    },
    {
        "line": 46,
        "fullcodeline": "return Response(json.dumps(resp), mimetype='application/json')"
    },
    {
        "line": 49,
        "fullcodeline": "return Response(json.dumps(resp), mimetype='application/json')"
    }
]