[
    {
        "line": 7,
        "fullcodeline": "int retval=0;"
    },
    {
        "line": 9,
        "fullcodeline": "iw_tmpsample alphasamp = 0.0;"
    },
    {
        "line": 10,
        "fullcodeline": "iw_tmpsample *inpix_tofree = NULL; // Used if we need a separate temp buffer for input samples"
    },
    {
        "line": 11,
        "fullcodeline": "iw_tmpsample *outpix_tofree = NULL; // Used if we need a separate temp buffer for output samples"
    },
    {
        "line": 13,
        "fullcodeline": "int using_errdiffdither = 0;"
    },
    {
        "line": 17,
        "fullcodeline": "double tmpbkgdalpha=0.0;"
    },
    {
        "line": 18,
        "fullcodeline": "int alt_bkgd = 0; // Nonzero if we should use bkgd2 for this sample"
    },
    {
        "line": 19,
        "fullcodeline": "struct iw_resize_settings *rs = NULL;"
    },
    {
        "line": 24,
        "fullcodeline": "iw_tmpsample *in_pix = NULL;"
    },
    {
        "line": 25,
        "fullcodeline": "iw_tmpsample *out_pix = NULL;"
    },
    {
        "line": 30,
        "fullcodeline": "num_in_pix = ctx->intermed_canvas_width;"
    },
    {
        "line": 31,
        "fullcodeline": "num_out_pix = ctx->img2.width;"
    },
    {
        "line": 33,
        "fullcodeline": "int_ci = &ctx->intermed_ci[intermed_channel];"
    },
    {
        "line": 34,
        "fullcodeline": "output_channel = int_ci->corresponding_output_channel;"
    },
    {
        "line": 49,
        "fullcodeline": "is_alpha_channel = (int_ci->channeltype==IW_CHANNELTYPE_ALPHA);"
    },
    {
        "line": 50,
        "fullcodeline": "bkgd_has_transparency = iw_bkgd_has_transparency(ctx);"
    },
    {
        "line": 52,
        "fullcodeline": "inpix_tofree = (iw_tmpsample*)iw_malloc(ctx, num_in_pix * sizeof(iw_tmpsample));"
    },
    {
        "line": 53,
        "fullcodeline": "in_pix = inpix_tofree;"
    },
    {
        "line": 56,
        "fullcodeline": "outpix_tofree = (iw_tmpsample*)iw_malloc(ctx, num_out_pix * sizeof(iw_tmpsample));"
    },
    {
        "line": 58,
        "fullcodeline": "out_pix = outpix_tofree;"
    },
    {
        "line": 72,
        "fullcodeline": "ditherfamily = out_ci->ditherfamily;"
    },
    {
        "line": 73,
        "fullcodeline": "dithersubtype = out_ci->dithersubtype;"
    },
    {
        "line": 96,
        "fullcodeline": "rs=&ctx->resize_settings[IW_DIMENSION_H];"
    },
    {
        "line": 214,
        "fullcodeline": "retval=1;"
    },
    {
        "line": 35,
        "fullcodeline": "if(output_channel>=0) {"
    },
    {
        "line": 57,
        "fullcodeline": "if(!outpix_tofree) goto done;"
    },
    {
        "line": 61,
        "fullcodeline": "if(ctx->nearest_color_table && !is_alpha_channel &&"
    },
    {
        "line": 74,
        "fullcodeline": "if(ditherfamily==IW_DITHERFAMILY_RANDOM) {"
    },
    {
        "line": 87,
        "fullcodeline": "if(output_channel>=0 && out_ci->ditherfamily==IW_DITHERFAMILY_ERRDIFF) {"
    },
    {
        "line": 100,
        "fullcodeline": "if(!rs->rrctx) {"
    },
    {
        "line": 106,
        "fullcodeline": "for(j=0;j<ctx->intermed_canvas_height;j++) {"
    },
    {
        "line": 217,
        "fullcodeline": "if(rs && rs->disable_rrctx_cache && rs->rrctx) {"
    },
    {
        "line": 36,
        "fullcodeline": "out_ci = &ctx->img2_ci[output_channel];"
    },
    {
        "line": 63,
        "fullcodeline": "out_ci->color_count==0)"
    },
    {
        "line": 65,
        "fullcodeline": "out_ci->use_nearest_color_table = 1;"
    },
    {
        "line": 88,
        "fullcodeline": "using_errdiffdither = 1;"
    },
    {
        "line": 101,
        "fullcodeline": "rs->rrctx = iwpvt_resize_rows_init(ctx,rs,int_ci->channeltype,"
    },
    {
        "line": 123,
        "fullcodeline": "iwpvt_resize_row_main(rs->rrctx,in_pix,out_pix);"
    },
    {
        "line": 220,
        "fullcodeline": "iwpvt_resize_rows_done(rs->rrctx);"
    },
    {
        "line": 221,
        "fullcodeline": "rs->rrctx = NULL;"
    },
    {
        "line": 223,
        "fullcodeline": "if(inpix_tofree) iw_free(ctx,inpix_tofree);"
    },
    {
        "line": 224,
        "fullcodeline": "if(outpix_tofree) iw_free(ctx,outpix_tofree);"
    },
    {
        "line": 44,
        "fullcodeline": "iw_zeromem(&default_ci_out, sizeof(struct iw_channelinfo_out));"
    },
    {
        "line": 45,
        "fullcodeline": "default_ci_out.channeltype = IW_CHANNELTYPE_NONALPHA;"
    },
    {
        "line": 46,
        "fullcodeline": "out_ci = &default_ci_out;"
    },
    {
        "line": 62,
        "fullcodeline": "out_ci->ditherfamily==IW_DITHERFAMILY_NONE &&"
    },
    {
        "line": 68,
        "fullcodeline": "out_ci->use_nearest_color_table = 0;"
    },
    {
        "line": 77,
        "fullcodeline": "if(dithersubtype==IW_DITHERSUBTYPE_SAMEPATTERN && out_ci->channeltype!=IW_CHANNELTYPE_ALPHA)"
    },
    {
        "line": 89,
        "fullcodeline": "for(i=0;i<ctx->img2.width;i++) {"
    },
    {
        "line": 103,
        "fullcodeline": "if(!rs->rrctx) goto done;"
    },
    {
        "line": 129,
        "fullcodeline": "if(is_alpha_channel && outpix_tofree && ctx->final_alpha32) {"
    },
    {
        "line": 137,
        "fullcodeline": "if(output_channel == -1) {"
    },
    {
        "line": 144,
        "fullcodeline": "for(z=0;z<ctx->img2.width;z++) {"
    },
    {
        "line": 79,
        "fullcodeline": "iwpvt_prng_set_random_seed(ctx->prng,ctx->random_seed);"
    },
    {
        "line": 126,
        "fullcodeline": "clamp_output_samples(ctx,out_pix,num_out_pix);"
    },
    {
        "line": 152,
        "fullcodeline": "tmpsamp = out_pix[i];"
    },
    {
        "line": 82,
        "fullcodeline": "iwpvt_prng_set_random_seed(ctx->prng,ctx->random_seed+out_ci->channeltype);"
    },
    {
        "line": 90,
        "fullcodeline": "for(k=0;k<IW_DITHER_MAXROWS;k++) {"
    },
    {
        "line": 112,
        "fullcodeline": "for(i=0;i<num_in_pix;i++) {"
    },
    {
        "line": 130,
        "fullcodeline": "for(i=0;i<num_out_pix;i++) {"
    },
    {
        "line": 147,
        "fullcodeline": "if(using_errdiffdither && (j%2))"
    },
    {
        "line": 189,
        "fullcodeline": "if(ctx->img2.sampletype==IW_SAMPLETYPE_FLOATINGPOINT)"
    },
    {
        "line": 200,
        "fullcodeline": "for(i=0;i<ctx->img2.width;i++) {"
    },
    {
        "line": 91,
        "fullcodeline": "ctx->dither_errors[k][i] = 0.0;"
    },
    {
        "line": 113,
        "fullcodeline": "inpix_tofree[i] = ctx->intermediate_alpha32[((size_t)j)*ctx->intermed_canvas_width+i];"
    },
    {
        "line": 117,
        "fullcodeline": "for(i=0;i<num_in_pix;i++) {"
    },
    {
        "line": 131,
        "fullcodeline": "ctx->final_alpha32[((size_t)j)*ctx->img2.width+i] = (iw_float32)outpix_tofree[i];"
    },
    {
        "line": 148,
        "fullcodeline": "i=ctx->img2.width-1-z;"
    },
    {
        "line": 155,
        "fullcodeline": "alt_bkgd = (((ctx->bkgd_check_origin[IW_DIMENSION_H]+i)/ctx->bkgd_check_size)%2) !="
    },
    {
        "line": 160,
        "fullcodeline": "tmpbkgdalpha = alt_bkgd ? ctx->bkgd2alpha : ctx->bkgd1alpha;"
    },
    {
        "line": 165,
        "fullcodeline": "alphasamp = ctx->final_alpha32[((size_t)j)*ctx->img2.width + i];"
    },
    {
        "line": 190,
        "fullcodeline": "put_sample_convert_from_linear_flt(ctx,tmpsamp,i,j,output_channel,out_csdescr);"
    },
    {
        "line": 206,
        "fullcodeline": "ctx->dither_errors[IW_DITHER_MAXROWS-1][i] = 0.0;"
    },
    {
        "line": 118,
        "fullcodeline": "inpix_tofree[i] = ctx->intermediate32[((size_t)j)*ctx->intermed_canvas_width+i];"
    },
    {
        "line": 150,
        "fullcodeline": "i=z;"
    },
    {
        "line": 167,
        "fullcodeline": "if(alphasamp!=0.0) {"
    },
    {
        "line": 171,
        "fullcodeline": "if(ctx->apply_bkgd && ctx->apply_bkgd_strategy==IW_BKGD_STRATEGY_LATE) {"
    },
    {
        "line": 192,
        "fullcodeline": "put_sample_convert_from_linear(ctx,tmpsamp,i,j,output_channel,out_csdescr);"
    },
    {
        "line": 202,
        "fullcodeline": "for(k=0;k<IW_DITHER_MAXROWS-1;k++) {"
    },
    {
        "line": 156,
        "fullcodeline": "(((ctx->bkgd_check_origin[IW_DIMENSION_V]+j)/ctx->bkgd_check_size)%2);"
    },
    {
        "line": 168,
        "fullcodeline": "tmpsamp /= alphasamp;"
    },
    {
        "line": 174,
        "fullcodeline": "bkcolor = alt_bkgd ? out_ci->bkgd2_color_lin : out_ci->bkgd1_color_lin;"
    },
    {
        "line": 184,
        "fullcodeline": "else if(is_alpha_channel && bkgd_has_transparency) {"
    },
    {
        "line": 203,
        "fullcodeline": "ctx->dither_errors[k][i] = ctx->dither_errors[k+1][i];"
    },
    {
        "line": 186,
        "fullcodeline": "tmpsamp = tmpsamp + tmpbkgdalpha*(1.0-tmpsamp);"
    },
    {
        "line": 177,
        "fullcodeline": "tmpsamp = tmpsamp*alphasamp + bkcolor*tmpbkgdalpha*(1.0-alphasamp);"
    },
    {
        "line": 180,
        "fullcodeline": "tmpsamp = tmpsamp*alphasamp + bkcolor*(1.0-alphasamp);"
    }
]