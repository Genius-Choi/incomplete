[
    {
        "line": 4,
        "fullcodeline": "u32 m = EMPTY_QUEUE;"
    },
    {
        "line": 6,
        "fullcodeline": "ulong timeout = jiffies + 30*HZ;"
    },
    {
        "line": 20,
        "fullcodeline": "msg = pHba->msg_addr_virt + m;"
    },
    {
        "line": 21,
        "fullcodeline": "memcpy_toio(msg, data, len);"
    },
    {
        "line": 22,
        "fullcodeline": "wmb();"
    },
    {
        "line": 25,
        "fullcodeline": "writel(m, pHba->post_port);"
    },
    {
        "line": 26,
        "fullcodeline": "wmb();"
    },
    {
        "line": 18,
        "fullcodeline": "} while(m == EMPTY_QUEUE);"
    },
    {
        "line": 8,
        "fullcodeline": "rmb();"
    },
    {
        "line": 9,
        "fullcodeline": "m = readl(pHba->post_port);"
    },
    {
        "line": 17,
        "fullcodeline": "schedule_timeout_uninterruptible(1);"
    },
    {
        "line": 10,
        "fullcodeline": "if (m != EMPTY_QUEUE) {"
    },
    {
        "line": 13,
        "fullcodeline": "if(time_after(jiffies,timeout)){"
    },
    {
        "line": 15,
        "fullcodeline": "return -ETIMEDOUT;"
    }
]