[
    {
        "line": 7,
        "fullcodeline": "if not os.path.exists(path):"
    },
    {
        "line": 9,
        "fullcodeline": "if not os.listdir(path):"
    },
    {
        "line": 8,
        "fullcodeline": "os.makedirs(path)"
    },
    {
        "line": 10,
        "fullcodeline": "with tmpdir() as tmp:"
    },
    {
        "line": 11,
        "fullcodeline": "tmp_file = os.path.join(tmp, \"tar_file\")"
    },
    {
        "line": 12,
        "fullcodeline": "if url.startswith(\"s3://\"):"
    },
    {
        "line": 13,
        "fullcodeline": "s3_download(url, tmp_file)"
    },
    {
        "line": 14,
        "fullcodeline": "with tarfile.open(name=tmp_file, mode=\"r:gz\") as t:"
    },
    {
        "line": 16,
        "fullcodeline": "elif url.startswith(\"http://\") or url.startswith(\"https://\"):"
    },
    {
        "line": 15,
        "fullcodeline": "t.extractall(path=path)"
    },
    {
        "line": 17,
        "fullcodeline": "with urlopen(url) as response, open(tmp_file, 'wb') as f:"
    },
    {
        "line": 19,
        "fullcodeline": "with tarfile.open(name=tmp_file, mode=\"r:gz\") as t:"
    },
    {
        "line": 20,
        "fullcodeline": "t.extractall(path=path)"
    },
    {
        "line": 18,
        "fullcodeline": "shutil.copyfileobj(response, f)"
    }
]