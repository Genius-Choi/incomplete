[
    {
        "line": 2,
        "fullcodeline": "all_privs = all_privs.collect { |p| p.downcase }"
    },
    {
        "line": 3,
        "fullcodeline": "set_privs = set_privs.collect { |p| p.downcase }"
    },
    {
        "line": 4,
        "fullcodeline": "invalid_privs = Array.new"
    },
    {
        "line": 5,
        "fullcodeline": "hints = Array.new"
    },
    {
        "line": 7,
        "fullcodeline": "set_privs.each do |priv|"
    },
    {
        "line": 11,
        "fullcodeline": "unless invalid_privs.empty?"
    },
    {
        "line": 14,
        "fullcodeline": "p = invalid_privs.size > 1 ? ['s', 'are not valid'] : ['', 'is not valid']"
    },
    {
        "line": 15,
        "fullcodeline": "detail = [\"The privilege#{p[0]} '#{invalid_privs.join(',')}' #{p[1]}.\"]"
    },
    {
        "line": 13,
        "fullcodeline": "hints = \"Did you mean '#{hints.join(',')}'?\" unless hints.empty?"
    },
    {
        "line": 16,
        "fullcodeline": "fail [detail, hints].join(' ')"
    }
]