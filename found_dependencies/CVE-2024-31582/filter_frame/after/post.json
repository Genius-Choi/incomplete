[
    {
        "line": 3,
        "fullcodeline": "AVFilterContext *ctx = inlink->dst;"
    },
    {
        "line": 4,
        "fullcodeline": "CodecViewContext *s = ctx->priv;"
    },
    {
        "line": 56,
        "fullcodeline": "if (s->mv || s->mv_type) {"
    },
    {
        "line": 91,
        "fullcodeline": "return ff_filter_frame(outlink, frame);"
    },
    {
        "line": 12,
        "fullcodeline": "ret = ff_qp_table_extract(frame, &qp_table, &qstride, NULL, &qp_type);"
    },
    {
        "line": 36,
        "fullcodeline": "av_freep(&qp_table);"
    },
    {
        "line": 40,
        "fullcodeline": "AVFrameSideData *sd = av_frame_get_side_data(frame, AV_FRAME_DATA_VIDEO_ENC_PARAMS);"
    },
    {
        "line": 57,
        "fullcodeline": "AVFrameSideData *sd = av_frame_get_side_data(frame, AV_FRAME_DATA_MOTION_VECTORS);"
    },
    {
        "line": 13,
        "fullcodeline": "if (ret < 0) {"
    },
    {
        "line": 14,
        "fullcodeline": "av_frame_free(&frame);"
    },
    {
        "line": 20,
        "fullcodeline": "const int w = AV_CEIL_RSHIFT(frame->width,  s->hsub);"
    },
    {
        "line": 21,
        "fullcodeline": "const int h = AV_CEIL_RSHIFT(frame->height, s->vsub);"
    },
    {
        "line": 42,
        "fullcodeline": "AVVideoEncParams *par = (AVVideoEncParams*)sd->data;"
    },
    {
        "line": 60,
        "fullcodeline": "const AVMotionVector *mvs = (const AVMotionVector *)sd->data;"
    },
    {
        "line": 61,
        "fullcodeline": "const int is_iframe = (s->frame_type & FRAME_TYPE_I) && frame->pict_type == AV_PICTURE_TYPE_I;"
    },
    {
        "line": 62,
        "fullcodeline": "const int is_pframe = (s->frame_type & FRAME_TYPE_P) && frame->pict_type == AV_PICTURE_TYPE_P;"
    },
    {
        "line": 63,
        "fullcodeline": "const int is_bframe = (s->frame_type & FRAME_TYPE_B) && frame->pict_type == AV_PICTURE_TYPE_B;"
    },
    {
        "line": 27,
        "fullcodeline": "for (y = 0; y < h; y++) {"
    },
    {
        "line": 65,
        "fullcodeline": "for (i = 0; i < sd->size / sizeof(*mvs); i++) {"
    },
    {
        "line": 32,
        "fullcodeline": "pu += lzu;"
    },
    {
        "line": 33,
        "fullcodeline": "pv += lzv;"
    },
    {
        "line": 66,
        "fullcodeline": "const AVMotionVector *mv = &mvs[i];"
    },
    {
        "line": 67,
        "fullcodeline": "const int direction = mv->source > 0;"
    },
    {
        "line": 28,
        "fullcodeline": "for (x = 0; x < w; x++) {"
    },
    {
        "line": 46,
        "fullcodeline": "for (int block_idx = 0; block_idx < par->nb_blocks; block_idx++) {"
    },
    {
        "line": 29,
        "fullcodeline": "const int qp = ff_norm_qscale(qp_table[(y >> 3) * qstride + (x >> 3)], qp_type) * 128/31;"
    },
    {
        "line": 30,
        "fullcodeline": "pu[x] = pv[x] = qp;"
    },
    {
        "line": 47,
        "fullcodeline": "AVVideoBlockParams *b = av_video_enc_params_block(par, block_idx);"
    },
    {
        "line": 48,
        "fullcodeline": "uint8_t *buf = frame->data[0] + b->src_y * stride;"
    },
    {
        "line": 50,
        "fullcodeline": "draw_block_rectangle(buf, b->src_x, b->src_y, b->w, b->h, stride, 100);"
    },
    {
        "line": 70,
        "fullcodeline": "const int is_fp = direction == 0 && (s->mv_type & MV_TYPE_FOR);"
    },
    {
        "line": 71,
        "fullcodeline": "const int is_bp = direction == 1 && (s->mv_type & MV_TYPE_BACK);"
    },
    {
        "line": 73,
        "fullcodeline": "if ((!s->frame_type && (is_fp || is_bp)) ||"
    },
    {
        "line": 76,
        "fullcodeline": "is_bframe && is_fp || is_bframe && is_bp)"
    },
    {
        "line": 77,
        "fullcodeline": "draw_arrow(frame->data[0], mv->dst_x, mv->dst_y, mv->src_x, mv->src_y,"
    },
    {
        "line": 75,
        "fullcodeline": "is_pframe && is_fp ||"
    },
    {
        "line": 81,
        "fullcodeline": "if ((direction == 0 && (s->mv & MV_P_FOR)  && frame->pict_type == AV_PICTURE_TYPE_P) ||"
    },
    {
        "line": 74,
        "fullcodeline": "is_iframe && is_fp || is_iframe && is_bp ||"
    },
    {
        "line": 83,
        "fullcodeline": "(direction == 1 && (s->mv & MV_B_BACK) && frame->pict_type == AV_PICTURE_TYPE_B))"
    },
    {
        "line": 84,
        "fullcodeline": "draw_arrow(frame->data[0], mv->dst_x, mv->dst_y, mv->src_x, mv->src_y,"
    },
    {
        "line": 82,
        "fullcodeline": "(direction == 0 && (s->mv & MV_B_FOR)  && frame->pict_type == AV_PICTURE_TYPE_B) ||"
    }
]