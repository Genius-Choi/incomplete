[
    {
        "line": 3,
        "fullcodeline": "size_t avail = sdsavail(s);"
    },
    {
        "line": 5,
        "fullcodeline": "char type, oldtype = s[-1] & SDS_TYPE_MASK;"
    },
    {
        "line": 11,
        "fullcodeline": "len = sdslen(s);"
    },
    {
        "line": 12,
        "fullcodeline": "sh = (char*)s-sdsHdrSize(oldtype);"
    },
    {
        "line": 13,
        "fullcodeline": "newlen = (len+addlen);"
    },
    {
        "line": 20,
        "fullcodeline": "type = sdsReqType(newlen);"
    },
    {
        "line": 27,
        "fullcodeline": "hdrlen = sdsHdrSize(type);"
    },
    {
        "line": 44,
        "fullcodeline": "sdssetalloc(s, newlen);"
    },
    {
        "line": 9,
        "fullcodeline": "if (avail >= addlen) return s;"
    },
    {
        "line": 14,
        "fullcodeline": "assert(newlen > len);   /* Catch size_t overflow */"
    },
    {
        "line": 15,
        "fullcodeline": "if (newlen < SDS_MAX_PREALLOC)"
    },
    {
        "line": 25,
        "fullcodeline": "if (type == SDS_TYPE_5) type = SDS_TYPE_8;"
    },
    {
        "line": 28,
        "fullcodeline": "assert(hdrlen + newlen + 1 > len);  /* Catch size_t overflow */"
    },
    {
        "line": 29,
        "fullcodeline": "if (oldtype==type) {"
    },
    {
        "line": 16,
        "fullcodeline": "newlen *= 2;"
    },
    {
        "line": 30,
        "fullcodeline": "newsh = s_realloc(sh, hdrlen+newlen+1);"
    },
    {
        "line": 32,
        "fullcodeline": "s = (char*)newsh+hdrlen;"
    },
    {
        "line": 18,
        "fullcodeline": "newlen += SDS_MAX_PREALLOC;"
    },
    {
        "line": 31,
        "fullcodeline": "if (newsh == NULL) return NULL;"
    },
    {
        "line": 36,
        "fullcodeline": "newsh = s_malloc(hdrlen+newlen+1);"
    },
    {
        "line": 40,
        "fullcodeline": "s = (char*)newsh+hdrlen;"
    },
    {
        "line": 41,
        "fullcodeline": "s[-1] = type;"
    },
    {
        "line": 42,
        "fullcodeline": "sdssetlen(s, len);"
    },
    {
        "line": 37,
        "fullcodeline": "if (newsh == NULL) return NULL;"
    }
]