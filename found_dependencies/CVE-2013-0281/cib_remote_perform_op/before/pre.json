[
    {
        "line": 4,
        "fullcodeline": "int rc = pcmk_ok;"
    },
    {
        "line": 6,
        "fullcodeline": "xmlNode *op_msg = NULL;"
    },
    {
        "line": 7,
        "fullcodeline": "xmlNode *op_reply = NULL;"
    },
    {
        "line": 9,
        "fullcodeline": "cib_remote_opaque_t *private = cib->variant_opaque;"
    },
    {
        "line": 28,
        "fullcodeline": "cib->call_id++;"
    },
    {
        "line": 37,
        "fullcodeline": "op_msg ="
    },
    {
        "line": 44,
        "fullcodeline": "crm_trace(\"Sending %s message to CIB service\", op);"
    },
    {
        "line": 45,
        "fullcodeline": "crm_send_remote_msg(private->command.session, op_msg, private->command.encrypted);"
    },
    {
        "line": 11,
        "fullcodeline": "if (sync_timer == NULL) {"
    },
    {
        "line": 15,
        "fullcodeline": "if (cib->state == cib_disconnected) {"
    },
    {
        "line": 19,
        "fullcodeline": "if (output_data != NULL) {"
    },
    {
        "line": 23,
        "fullcodeline": "if (op == NULL) {"
    },
    {
        "line": 33,
        "fullcodeline": "if (cib->call_id < 1) {"
    },
    {
        "line": 38,
        "fullcodeline": "cib_create_op(cib->call_id, private->callback.token, op, host, section, data, call_options,"
    },
    {
        "line": 40,
        "fullcodeline": "if (op_msg == NULL) {"
    },
    {
        "line": 48,
        "fullcodeline": "if ((call_options & cib_discard_reply)) {"
    },
    {
        "line": 58,
        "fullcodeline": "if (cib->call_timeout > 0) {"
    },
    {
        "line": 102,
        "fullcodeline": "if (sync_timer->ref > 0) {"
    },
    {
        "line": 117,
        "fullcodeline": "if (op_reply == NULL) {"
    },
    {
        "line": 129,
        "fullcodeline": "if (rc == -pcmk_err_diff_resync) {"
    },
    {
        "line": 143,
        "fullcodeline": "if (output_data == NULL) {"
    },
    {
        "line": 12,
        "fullcodeline": "sync_timer = calloc(1, sizeof(struct timer_rec_s));"
    },
    {
        "line": 20,
        "fullcodeline": "*output_data = NULL;"
    },
    {
        "line": 34,
        "fullcodeline": "cib->call_id = 1;"
    },
    {
        "line": 62,
        "fullcodeline": "timer_expired = FALSE;"
    },
    {
        "line": 63,
        "fullcodeline": "sync_timer->call_id = cib->call_id;"
    },
    {
        "line": 64,
        "fullcodeline": "sync_timer->timeout = cib->call_timeout * 1000;"
    },
    {
        "line": 65,
        "fullcodeline": "sync_timer->ref = g_timeout_add(sync_timer->timeout, cib_timeout_handler, sync_timer);"
    },
    {
        "line": 69,
        "fullcodeline": "int reply_id = -1;"
    },
    {
        "line": 70,
        "fullcodeline": "int msg_id = cib->call_id;"
    },
    {
        "line": 72,
        "fullcodeline": "op_reply = crm_recv_remote_msg(private->command.session, private->command.encrypted);"
    },
    {
        "line": 77,
        "fullcodeline": "crm_element_value_int(op_reply, F_CIB_CALLID, &reply_id);"
    },
    {
        "line": 99,
        "fullcodeline": "op_reply = NULL;"
    },
    {
        "line": 125,
        "fullcodeline": "if (crm_element_value_int(op_reply, F_CIB_RC, &rc) != 0) {"
    },
    {
        "line": 126,
        "fullcodeline": "rc = -EPROTO;"
    },
    {
        "line": 131,
        "fullcodeline": "rc = pcmk_ok;"
    },
    {
        "line": 134,
        "fullcodeline": "if (rc == pcmk_ok || rc == -EPERM) {"
    },
    {
        "line": 135,
        "fullcodeline": "crm_log_xml_debug(op_reply, \"passed\");"
    },
    {
        "line": 16,
        "fullcodeline": "return -ENOTCONN;"
    },
    {
        "line": 25,
        "fullcodeline": "return -EINVAL;"
    },
    {
        "line": 41,
        "fullcodeline": "return -EPROTO;"
    },
    {
        "line": 73,
        "fullcodeline": "if (op_reply == NULL) {"
    },
    {
        "line": 79,
        "fullcodeline": "if (sync_timer->ref > 0) {"
    },
    {
        "line": 83,
        "fullcodeline": "if (reply_id == msg_id) {"
    },
    {
        "line": 108,
        "fullcodeline": "return -ETIME;"
    },
    {
        "line": 119,
        "fullcodeline": "return -ENOMSG;"
    },
    {
        "line": 140,
        "fullcodeline": "crm_log_xml_warn(op_reply, \"failed\");"
    },
    {
        "line": 80,
        "fullcodeline": "g_source_remove(sync_timer->ref); sync_timer->ref = 0;}"
    },
    {
        "line": 139,
        "fullcodeline": "crm_err(\"Call failed: %s\", pcmk_strerror(rc));"
    },
    {
        "line": 52,
        "fullcodeline": "} else if (!(call_options & cib_sync_call)) {"
    },
    {
        "line": 146,
        "fullcodeline": "} else if (!(call_options & cib_discard_reply)) {"
    },
    {
        "line": 147,
        "fullcodeline": "xmlNode *tmp = get_message_xml(op_reply, F_CIB_CALLDATA);"
    },
    {
        "line": 86,
        "fullcodeline": "} else if (reply_id < msg_id) {"
    },
    {
        "line": 149,
        "fullcodeline": "if (tmp == NULL) {"
    },
    {
        "line": 88,
        "fullcodeline": "crm_log_xml_trace(op_reply, \"Old reply\");"
    },
    {
        "line": 150,
        "fullcodeline": "crm_trace(\"No output in reply to \\\"%s\\\" command %d\", op, cib->call_id - 1);"
    },
    {
        "line": 90,
        "fullcodeline": "} else if ((reply_id - 10000) > msg_id) {"
    },
    {
        "line": 152,
        "fullcodeline": "*output_data = copy_xml(tmp);"
    },
    {
        "line": 93,
        "fullcodeline": "crm_log_xml_trace(op_reply, \"Old reply\");"
    }
]