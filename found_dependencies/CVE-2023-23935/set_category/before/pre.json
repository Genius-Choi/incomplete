[
    {
        "line": 2,
        "fullcodeline": "if request.path_parameters.include?(:category_slug_path_with_id)"
    },
    {
        "line": 11,
        "fullcodeline": "if !@filter_on_category"
    },
    {
        "line": 3,
        "fullcodeline": "@filter_on_category = Category.find_by_slug_path_with_id(params[:category_slug_path_with_id])"
    },
    {
        "line": 5,
        "fullcodeline": "slug_or_id = params[:category]"
    },
    {
        "line": 8,
        "fullcodeline": "@filter_on_category = Category.query_category(slug_or_id, nil)"
    },
    {
        "line": 12,
        "fullcodeline": "permalink = Permalink.find_by_url(\"c/#{params[:category_slug_path_with_id]}\")"
    },
    {
        "line": 21,
        "fullcodeline": "if !(@filter_on_category && guardian.can_see?(@filter_on_category))"
    },
    {
        "line": 15,
        "fullcodeline": "redirect_to \"#{Discourse.base_path}/tags#{permalink.target_url}/#{params[:tag_id]}\","
    }
]