[
    {
        "line": 4,
        "fullcodeline": "struct svcxprt_rdma *newxprt = NULL;"
    },
    {
        "line": 11,
        "fullcodeline": "int ret = 0;"
    },
    {
        "line": 14,
        "fullcodeline": "clear_bit(XPT_CONN, &xprt->xpt_flags);"
    },
    {
        "line": 24,
        "fullcodeline": "spin_unlock_bh(&listen_rdma->sc_lock);"
    },
    {
        "line": 28,
        "fullcodeline": "dprintk(\"svcrdma: newxprt from accept queue = %p, cm_id=%p\\n\","
    },
    {
        "line": 35,
        "fullcodeline": "newxprt->sc_max_sge = min((size_t)dev->attrs.max_sge,"
    },
    {
        "line": 37,
        "fullcodeline": "newxprt->sc_max_sge_rd = min_t(size_t, dev->attrs.max_sge_rd,"
    },
    {
        "line": 39,
        "fullcodeline": "newxprt->sc_max_req_size = svcrdma_max_req_size;"
    },
    {
        "line": 40,
        "fullcodeline": "newxprt->sc_max_requests = min_t(u32, dev->attrs.max_qp_wr,"
    },
    {
        "line": 42,
        "fullcodeline": "newxprt->sc_fc_credits = cpu_to_be32(newxprt->sc_max_requests);"
    },
    {
        "line": 43,
        "fullcodeline": "newxprt->sc_max_bc_requests = min_t(u32, dev->attrs.max_qp_wr,"
    },
    {
        "line": 45,
        "fullcodeline": "newxprt->sc_rq_depth = newxprt->sc_max_requests +"
    },
    {
        "line": 47,
        "fullcodeline": "newxprt->sc_sq_depth = RPCRDMA_SQ_DEPTH_MULT * newxprt->sc_rq_depth;"
    },
    {
        "line": 48,
        "fullcodeline": "atomic_set(&newxprt->sc_sq_avail, newxprt->sc_sq_depth);"
    },
    {
        "line": 59,
        "fullcodeline": "newxprt->sc_ord = min_t(size_t, dev->attrs.max_qp_rd_atom, newxprt->sc_ord);"
    },
    {
        "line": 60,
        "fullcodeline": "newxprt->sc_ord = min_t(size_t,\tsvcrdma_ord, newxprt->sc_ord);"
    },
    {
        "line": 62,
        "fullcodeline": "newxprt->sc_pd = ib_alloc_pd(dev, 0);"
    },
    {
        "line": 67,
        "fullcodeline": "newxprt->sc_sq_cq = ib_alloc_cq(dev, newxprt, newxprt->sc_sq_depth,"
    },
    {
        "line": 73,
        "fullcodeline": "newxprt->sc_rq_cq = ib_alloc_cq(dev, newxprt, newxprt->sc_rq_depth,"
    },
    {
        "line": 80,
        "fullcodeline": "memset(&qp_attr, 0, sizeof qp_attr);"
    },
    {
        "line": 81,
        "fullcodeline": "qp_attr.event_handler = qp_event_handler;"
    },
    {
        "line": 82,
        "fullcodeline": "qp_attr.qp_context = &newxprt->sc_xprt;"
    },
    {
        "line": 83,
        "fullcodeline": "qp_attr.cap.max_send_wr = newxprt->sc_sq_depth;"
    },
    {
        "line": 84,
        "fullcodeline": "qp_attr.cap.max_recv_wr = newxprt->sc_rq_depth;"
    },
    {
        "line": 85,
        "fullcodeline": "qp_attr.cap.max_send_sge = newxprt->sc_max_sge;"
    },
    {
        "line": 86,
        "fullcodeline": "qp_attr.cap.max_recv_sge = newxprt->sc_max_sge;"
    },
    {
        "line": 87,
        "fullcodeline": "qp_attr.sq_sig_type = IB_SIGNAL_REQ_WR;"
    },
    {
        "line": 88,
        "fullcodeline": "qp_attr.qp_type = IB_QPT_RC;"
    },
    {
        "line": 89,
        "fullcodeline": "qp_attr.send_cq = newxprt->sc_sq_cq;"
    },
    {
        "line": 90,
        "fullcodeline": "qp_attr.recv_cq = newxprt->sc_rq_cq;"
    },
    {
        "line": 91,
        "fullcodeline": "dprintk(\"svcrdma: newxprt->sc_cm_id=%p, newxprt->sc_pd=%p\\n\","
    },
    {
        "line": 93,
        "fullcodeline": "dprintk(\"    cap.max_send_wr = %d, cap.max_recv_wr = %d\\n\","
    },
    {
        "line": 95,
        "fullcodeline": "dprintk(\"    cap.max_send_sge = %d, cap.max_recv_sge = %d\\n\","
    },
    {
        "line": 98,
        "fullcodeline": "ret = rdma_create_qp(newxprt->sc_cm_id, newxprt->sc_pd, &qp_attr);"
    },
    {
        "line": 127,
        "fullcodeline": "newxprt->sc_reader = rdma_read_chunk_lcl;"
    },
    {
        "line": 156,
        "fullcodeline": "newxprt->sc_cm_id->event_handler = rdma_cma_handler;"
    },
    {
        "line": 159,
        "fullcodeline": "pmsg.cp_magic = rpcrdma_cmp_magic;"
    },
    {
        "line": 160,
        "fullcodeline": "pmsg.cp_version = RPCRDMA_CMP_VERSION;"
    },
    {
        "line": 161,
        "fullcodeline": "pmsg.cp_flags = 0;"
    },
    {
        "line": 162,
        "fullcodeline": "pmsg.cp_send_size = pmsg.cp_recv_size ="
    },
    {
        "line": 166,
        "fullcodeline": "set_bit(RDMAXPRT_CONN_PENDING, &newxprt->sc_flags);"
    },
    {
        "line": 167,
        "fullcodeline": "memset(&conn_param, 0, sizeof conn_param);"
    },
    {
        "line": 168,
        "fullcodeline": "conn_param.responder_resources = 0;"
    },
    {
        "line": 169,
        "fullcodeline": "conn_param.initiator_depth = newxprt->sc_ord;"
    },
    {
        "line": 170,
        "fullcodeline": "conn_param.private_data = &pmsg;"
    },
    {
        "line": 172,
        "fullcodeline": "ret = rdma_accept(newxprt->sc_cm_id, &conn_param);"
    },
    {
        "line": 179,
        "fullcodeline": "dprintk(\"svcrdma: new connection %p accepted:\\n\", newxprt);"
    },
    {
        "line": 181,
        "fullcodeline": "dprintk(\"    local address   : %pIS:%u\\n\", sap, rpc_get_port(sap));"
    },
    {
        "line": 183,
        "fullcodeline": "dprintk(\"    remote address  : %pIS:%u\\n\", sap, rpc_get_port(sap));"
    },
    {
        "line": 184,
        "fullcodeline": "dprintk(\"    max_sge         : %d\\n\", newxprt->sc_max_sge);"
    },
    {
        "line": 185,
        "fullcodeline": "dprintk(\"    max_sge_rd      : %d\\n\", newxprt->sc_max_sge_rd);"
    },
    {
        "line": 186,
        "fullcodeline": "dprintk(\"    sq_depth        : %d\\n\", newxprt->sc_sq_depth);"
    },
    {
        "line": 187,
        "fullcodeline": "dprintk(\"    max_requests    : %d\\n\", newxprt->sc_max_requests);"
    },
    {
        "line": 188,
        "fullcodeline": "dprintk(\"    ord             : %d\\n\", newxprt->sc_ord);"
    },
    {
        "line": 193,
        "fullcodeline": "dprintk(\"svcrdma: failure accepting new connection rc=%d.\\n\", ret);"
    },
    {
        "line": 195,
        "fullcodeline": "svc_xprt_get(&newxprt->sc_xprt);"
    },
    {
        "line": 198,
        "fullcodeline": "rdma_destroy_id(newxprt->sc_cm_id);"
    },
    {
        "line": 200,
        "fullcodeline": "svc_xprt_put(&newxprt->sc_xprt);"
    },
    {
        "line": 17,
        "fullcodeline": "if (!list_empty(&listen_rdma->sc_accept_q)) {"
    },
    {
        "line": 22,
        "fullcodeline": "if (!list_empty(&listen_rdma->sc_accept_q))"
    },
    {
        "line": 25,
        "fullcodeline": "if (!newxprt)"
    },
    {
        "line": 50,
        "fullcodeline": "if (!svc_rdma_prealloc_ctxts(newxprt))"
    },
    {
        "line": 52,
        "fullcodeline": "if (!svc_rdma_prealloc_maps(newxprt))"
    },
    {
        "line": 63,
        "fullcodeline": "if (IS_ERR(newxprt->sc_pd)) {"
    },
    {
        "line": 69,
        "fullcodeline": "if (IS_ERR(newxprt->sc_sq_cq)) {"
    },
    {
        "line": 75,
        "fullcodeline": "if (IS_ERR(newxprt->sc_rq_cq)) {"
    },
    {
        "line": 128,
        "fullcodeline": "if (dev->attrs.device_cap_flags & IB_DEVICE_MEM_MGT_EXTENSIONS) {"
    },
    {
        "line": 139,
        "fullcodeline": "if (!rdma_protocol_iwarp(dev, newxprt->sc_cm_id->port_num) &&"
    },
    {
        "line": 143,
        "fullcodeline": "if (rdma_protocol_iwarp(dev, newxprt->sc_cm_id->port_num))"
    },
    {
        "line": 147,
        "fullcodeline": "for (i = 0; i < newxprt->sc_max_requests; i++) {"
    },
    {
        "line": 196,
        "fullcodeline": "if (newxprt->sc_qp && !IS_ERR(newxprt->sc_qp))"
    },
    {
        "line": 20,
        "fullcodeline": "list_del_init(&newxprt->sc_accept_q);"
    },
    {
        "line": 23,
        "fullcodeline": "set_bit(XPT_CONN, &listen_rdma->sc_xprt.xpt_flags);"
    },
    {
        "line": 36,
        "fullcodeline": "(size_t)RPCSVC_MAXPAGES);"
    },
    {
        "line": 64,
        "fullcodeline": "dprintk(\"svcrdma: error creating PD for connect request\\n\");"
    },
    {
        "line": 70,
        "fullcodeline": "dprintk(\"svcrdma: error creating SQ CQ for connect request\\n\");"
    },
    {
        "line": 76,
        "fullcodeline": "dprintk(\"svcrdma: error creating RQ CQ for connect request\\n\");"
    },
    {
        "line": 100,
        "fullcodeline": "dprintk(\"svcrdma: failed to create QP, ret=%d\\n\", ret);"
    },
    {
        "line": 131,
        "fullcodeline": "newxprt->sc_dev_caps |= SVCRDMA_DEVCAP_FAST_REG;"
    },
    {
        "line": 132,
        "fullcodeline": "newxprt->sc_reader = rdma_read_chunk_frmr;"
    },
    {
        "line": 140,
        "fullcodeline": "!rdma_ib_or_roce(dev, newxprt->sc_cm_id->port_num))"
    },
    {
        "line": 144,
        "fullcodeline": "newxprt->sc_dev_caps |= SVCRDMA_DEVCAP_READ_W_INV;"
    },
    {
        "line": 148,
        "fullcodeline": "ret = svc_rdma_post_recv(newxprt, GFP_KERNEL);"
    },
    {
        "line": 163,
        "fullcodeline": "rpcrdma_encode_buffer_size(newxprt->sc_max_req_size);"
    },
    {
        "line": 174,
        "fullcodeline": "dprintk(\"svcrdma: failed to accept new connection, ret=%d\\n\","
    },
    {
        "line": 197,
        "fullcodeline": "ib_destroy_qp(newxprt->sc_qp);"
    },
    {
        "line": 134,
        "fullcodeline": "newxprt->sc_snd_w_inv = false;"
    },
    {
        "line": 150,
        "fullcodeline": "dprintk(\"svcrdma: failure posting receive buffers\\n\");"
    }
]