[
    {
        "line": 5,
        "fullcodeline": "struct btrfs_root *root = BTRFS_I(old_dir)->root;"
    },
    {
        "line": 6,
        "fullcodeline": "struct btrfs_root *dest = BTRFS_I(new_dir)->root;"
    },
    {
        "line": 7,
        "fullcodeline": "struct inode *new_inode = new_dentry->d_inode;"
    },
    {
        "line": 8,
        "fullcodeline": "struct inode *old_inode = old_dentry->d_inode;"
    },
    {
        "line": 9,
        "fullcodeline": "struct timespec ctime = CURRENT_TIME;"
    },
    {
        "line": 10,
        "fullcodeline": "u64 index = 0;"
    },
    {
        "line": 13,
        "fullcodeline": "u64 old_ino = btrfs_ino(old_inode);"
    },
    {
        "line": 49,
        "fullcodeline": "trans = btrfs_start_transaction(root, 20);"
    },
    {
        "line": 58,
        "fullcodeline": "ret = btrfs_set_inode_index(new_dir, &index);"
    },
    {
        "line": 89,
        "fullcodeline": "inode_inc_iversion(old_dir);"
    },
    {
        "line": 90,
        "fullcodeline": "inode_inc_iversion(new_dir);"
    },
    {
        "line": 91,
        "fullcodeline": "inode_inc_iversion(old_inode);"
    },
    {
        "line": 92,
        "fullcodeline": "old_dir->i_ctime = old_dir->i_mtime = ctime;"
    },
    {
        "line": 93,
        "fullcodeline": "new_dir->i_ctime = new_dir->i_mtime = ctime;"
    },
    {
        "line": 94,
        "fullcodeline": "old_inode->i_ctime = ctime;"
    },
    {
        "line": 144,
        "fullcodeline": "fixup_inode_flags(new_dir, old_inode);"
    },
    {
        "line": 146,
        "fullcodeline": "ret = btrfs_add_link(trans, new_dir, old_inode,"
    },
    {
        "line": 15,
        "fullcodeline": "if (btrfs_ino(new_dir) == BTRFS_EMPTY_SUBVOL_DIR_OBJECTID)"
    },
    {
        "line": 39,
        "fullcodeline": "if (old_ino == BTRFS_FIRST_FREE_OBJECTID)"
    },
    {
        "line": 50,
        "fullcodeline": "if (IS_ERR(trans)) {"
    },
    {
        "line": 55,
        "fullcodeline": "if (dest != root)"
    },
    {
        "line": 96,
        "fullcodeline": "if (old_dentry->d_parent != new_dentry->d_parent)"
    },
    {
        "line": 154,
        "fullcodeline": "if (old_ino != BTRFS_FIRST_FREE_OBJECTID) {"
    },
    {
        "line": 19,
        "fullcodeline": "if (old_ino != BTRFS_FIRST_FREE_OBJECTID && root != dest)"
    },
    {
        "line": 22,
        "fullcodeline": "if (old_ino == BTRFS_EMPTY_SUBVOL_DIR_OBJECTID ||"
    },
    {
        "line": 23,
        "fullcodeline": "(new_inode && btrfs_ino(new_inode) == BTRFS_FIRST_FREE_OBJECTID))"
    },
    {
        "line": 26,
        "fullcodeline": "if (S_ISDIR(old_inode->i_mode) && new_inode &&"
    },
    {
        "line": 27,
        "fullcodeline": "new_inode->i_size > BTRFS_EMPTY_DIR_SIZE)"
    },
    {
        "line": 34,
        "fullcodeline": "if (new_inode && S_ISREG(old_inode->i_mode) && new_inode->i_size &&"
    },
    {
        "line": 35,
        "fullcodeline": "old_inode->i_size > BTRFS_ORDERED_OPERATIONS_FLUSH_LIMIT)"
    },
    {
        "line": 36,
        "fullcodeline": "filemap_flush(old_inode->i_mapping);"
    },
    {
        "line": 40,
        "fullcodeline": "down_read(&root->fs_info->subvol_sem);"
    },
    {
        "line": 51,
        "fullcodeline": "ret = PTR_ERR(trans);"
    },
    {
        "line": 56,
        "fullcodeline": "btrfs_record_root_in_trans(trans, dest);"
    },
    {
        "line": 62,
        "fullcodeline": "if (unlikely(old_ino == BTRFS_FIRST_FREE_OBJECTID)) {"
    },
    {
        "line": 86,
        "fullcodeline": "if (new_inode && new_inode->i_size && S_ISREG(old_inode->i_mode))"
    },
    {
        "line": 87,
        "fullcodeline": "btrfs_add_ordered_operation(trans, root, old_inode);"
    },
    {
        "line": 97,
        "fullcodeline": "btrfs_record_unlink_dir(trans, old_dir, old_inode, 1);"
    },
    {
        "line": 99,
        "fullcodeline": "if (unlikely(old_ino == BTRFS_FIRST_FREE_OBJECTID)) {"
    },
    {
        "line": 100,
        "fullcodeline": "root_objectid = BTRFS_I(old_inode)->root->root_key.objectid;"
    },
    {
        "line": 101,
        "fullcodeline": "ret = btrfs_unlink_subvol(trans, root, old_dir, root_objectid,"
    },
    {
        "line": 113,
        "fullcodeline": "btrfs_abort_transaction(trans, root, ret);"
    },
    {
        "line": 118,
        "fullcodeline": "inode_inc_iversion(new_inode);"
    },
    {
        "line": 119,
        "fullcodeline": "new_inode->i_ctime = CURRENT_TIME;"
    },
    {
        "line": 150,
        "fullcodeline": "btrfs_abort_transaction(trans, root, ret);"
    },
    {
        "line": 155,
        "fullcodeline": "struct dentry *parent = new_dentry->d_parent;"
    },
    {
        "line": 156,
        "fullcodeline": "btrfs_log_new_name(trans, old_inode, old_dir, parent);"
    },
    {
        "line": 157,
        "fullcodeline": "btrfs_end_log_trans(root);"
    },
    {
        "line": 16,
        "fullcodeline": "return -EPERM;"
    },
    {
        "line": 20,
        "fullcodeline": "return -EXDEV;"
    },
    {
        "line": 24,
        "fullcodeline": "return -ENOTEMPTY;"
    },
    {
        "line": 28,
        "fullcodeline": "return -ENOTEMPTY;"
    },
    {
        "line": 66,
        "fullcodeline": "ret = btrfs_insert_inode_ref(trans, dest,"
    },
    {
        "line": 80,
        "fullcodeline": "btrfs_pin_log_trans(root);"
    },
    {
        "line": 105,
        "fullcodeline": "ret = __btrfs_unlink_inode(trans, root, old_dir,"
    },
    {
        "line": 109,
        "fullcodeline": "if (!ret)"
    },
    {
        "line": 120,
        "fullcodeline": "if (unlikely(btrfs_ino(new_inode) =="
    },
    {
        "line": 122,
        "fullcodeline": "root_objectid = BTRFS_I(new_inode)->location.objectid;"
    },
    {
        "line": 123,
        "fullcodeline": "ret = btrfs_unlink_subvol(trans, dest, new_dir,"
    },
    {
        "line": 127,
        "fullcodeline": "BUG_ON(new_inode->i_nlink == 0);"
    },
    {
        "line": 134,
        "fullcodeline": "if (!ret && new_inode->i_nlink == 0) {"
    },
    {
        "line": 135,
        "fullcodeline": "ret = btrfs_orphan_add(trans, new_dentry->d_inode);"
    },
    {
        "line": 136,
        "fullcodeline": "BUG_ON(ret);"
    },
    {
        "line": 139,
        "fullcodeline": "btrfs_abort_transaction(trans, root, ret);"
    },
    {
        "line": 70,
        "fullcodeline": "btrfs_ino(new_dir), index);"
    },
    {
        "line": 110,
        "fullcodeline": "ret = btrfs_update_inode(trans, root, old_inode);"
    },
    {
        "line": 129,
        "fullcodeline": "ret = btrfs_unlink_inode(trans, dest, new_dir,"
    }
]