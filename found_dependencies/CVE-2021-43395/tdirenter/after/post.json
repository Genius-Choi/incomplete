[
    {
        "line": 14,
        "fullcodeline": "struct tmpnode *found = NULL;"
    },
    {
        "line": 15,
        "fullcodeline": "int error = 0;"
    },
    {
        "line": 21,
        "fullcodeline": "ASSERT(RW_WRITE_HELD(&dir->tn_rwlock));"
    },
    {
        "line": 22,
        "fullcodeline": "ASSERT(dir->tn_type == VDIR);"
    },
    {
        "line": 156,
        "fullcodeline": "tdp = tmpfs_hash_lookup(name, dir, 1, &found);"
    },
    {
        "line": 28,
        "fullcodeline": "for (s = name; *s; s++)"
    },
    {
        "line": 32,
        "fullcodeline": "if (name[0] == '\\0')"
    },
    {
        "line": 39,
        "fullcodeline": "if (op == DE_LINK || op == DE_RENAME) {"
    },
    {
        "line": 128,
        "fullcodeline": "if (dir->tn_nlink == 0) {"
    },
    {
        "line": 140,
        "fullcodeline": "if (op == DE_RENAME) {"
    },
    {
        "line": 237,
        "fullcodeline": "if (error && (op == DE_LINK || op == DE_RENAME)) {"
    },
    {
        "line": 29,
        "fullcodeline": "if (*s == '/')"
    },
    {
        "line": 33,
        "fullcodeline": "panic(\"tdirenter: NULL name\");"
    },
    {
        "line": 99,
        "fullcodeline": "mutex_enter(&tp->tn_tlock);"
    },
    {
        "line": 113,
        "fullcodeline": "tp->tn_nlink++;"
    },
    {
        "line": 114,
        "fullcodeline": "gethrestime(&tp->tn_ctime);"
    },
    {
        "line": 115,
        "fullcodeline": "mutex_exit(&tp->tn_tlock);"
    },
    {
        "line": 129,
        "fullcodeline": "error = ENOENT;"
    },
    {
        "line": 159,
        "fullcodeline": "ASSERT(found);"
    },
    {
        "line": 241,
        "fullcodeline": "DECR_COUNT(&tp->tn_nlink, &tp->tn_tlock);"
    },
    {
        "line": 242,
        "fullcodeline": "gethrestime(&tp->tn_ctime);"
    },
    {
        "line": 40,
        "fullcodeline": "if (tp != dir) {"
    },
    {
        "line": 100,
        "fullcodeline": "if (tp->tn_nlink == 0) {"
    },
    {
        "line": 107,
        "fullcodeline": "if (tp->tn_nlink == MAXLINK) {"
    },
    {
        "line": 116,
        "fullcodeline": "if (tp != dir)"
    },
    {
        "line": 141,
        "fullcodeline": "if (tp == dir) {"
    },
    {
        "line": 145,
        "fullcodeline": "if (tp->tn_type == VDIR) {"
    },
    {
        "line": 41,
        "fullcodeline": "unsigned int tries = 0;"
    },
    {
        "line": 101,
        "fullcodeline": "mutex_exit(&tp->tn_tlock);"
    },
    {
        "line": 108,
        "fullcodeline": "mutex_exit(&tp->tn_tlock);"
    },
    {
        "line": 117,
        "fullcodeline": "rw_exit(&tp->tn_rwlock);"
    },
    {
        "line": 142,
        "fullcodeline": "error = EINVAL;"
    },
    {
        "line": 172,
        "fullcodeline": "error = tdirrename(fromparent, tp,"
    },
    {
        "line": 181,
        "fullcodeline": "tmpnode_rele(found);"
    },
    {
        "line": 188,
        "fullcodeline": "error = EEXIST;"
    },
    {
        "line": 189,
        "fullcodeline": "tmpnode_rele(found);"
    },
    {
        "line": 198,
        "fullcodeline": "if (error = tmp_taccess(dir, VWRITE, cred))"
    },
    {
        "line": 200,
        "fullcodeline": "if (op == DE_CREATE || op == DE_MKDIR) {"
    },
    {
        "line": 208,
        "fullcodeline": "if (error = tdiraddentry(dir, tp, name, op, fromparent)) {"
    },
    {
        "line": 68,
        "fullcodeline": "while (!rw_tryenter(&tp->tn_rwlock, RW_WRITER)) {"
    },
    {
        "line": 102,
        "fullcodeline": "if (tp != dir)"
    },
    {
        "line": 109,
        "fullcodeline": "if (tp != dir)"
    },
    {
        "line": 146,
        "fullcodeline": "if ((fromparent != dir) &&"
    },
    {
        "line": 174,
        "fullcodeline": "if (error == 0) {"
    },
    {
        "line": 204,
        "fullcodeline": "error = tdirmaketnode(dir, tm, va, op, &tp, cred);"
    },
    {
        "line": 73,
        "fullcodeline": "tmpfs_rename_loops++;"
    },
    {
        "line": 92,
        "fullcodeline": "VN_HOLD(TNTOV(dir));"
    },
    {
        "line": 93,
        "fullcodeline": "rw_exit(&dir->tn_rwlock);"
    },
    {
        "line": 94,
        "fullcodeline": "delay(tmpfs_rename_backoff_delay);"
    },
    {
        "line": 95,
        "fullcodeline": "rw_enter(&dir->tn_rwlock, RW_WRITER);"
    },
    {
        "line": 96,
        "fullcodeline": "VN_RELE(TNTOV(dir));"
    },
    {
        "line": 103,
        "fullcodeline": "rw_exit(&tp->tn_rwlock);"
    },
    {
        "line": 110,
        "fullcodeline": "rw_exit(&tp->tn_rwlock);"
    },
    {
        "line": 147,
        "fullcodeline": "(error = tdircheckpath(tp, dir, cred))) {"
    },
    {
        "line": 164,
        "fullcodeline": "*tpp = found;"
    },
    {
        "line": 165,
        "fullcodeline": "error = EEXIST;"
    },
    {
        "line": 209,
        "fullcodeline": "if (op == DE_CREATE || op == DE_MKDIR) {"
    },
    {
        "line": 75,
        "fullcodeline": "if (tmpfs_rename_backoff_tries != 0) {"
    },
    {
        "line": 167,
        "fullcodeline": "tmpnode_rele(found);"
    },
    {
        "line": 175,
        "fullcodeline": "if (found != NULL) {"
    },
    {
        "line": 213,
        "fullcodeline": "rw_enter(&tp->tn_rwlock, RW_WRITER);"
    },
    {
        "line": 221,
        "fullcodeline": "mutex_enter(&tp->tn_tlock);"
    },
    {
        "line": 222,
        "fullcodeline": "tp->tn_nlink = 0;"
    },
    {
        "line": 223,
        "fullcodeline": "mutex_exit(&tp->tn_tlock);"
    },
    {
        "line": 224,
        "fullcodeline": "gethrestime(&tp->tn_ctime);"
    },
    {
        "line": 225,
        "fullcodeline": "rw_exit(&tp->tn_rwlock);"
    },
    {
        "line": 226,
        "fullcodeline": "tmpnode_rele(tp);"
    },
    {
        "line": 227,
        "fullcodeline": "tp = NULL;"
    },
    {
        "line": 78,
        "fullcodeline": "tries++;"
    },
    {
        "line": 176,
        "fullcodeline": "vnevent_rename_dest(TNTOV(found),"
    },
    {
        "line": 214,
        "fullcodeline": "if ((tp->tn_type) == VDIR) {"
    },
    {
        "line": 230,
        "fullcodeline": "*tpp = tp;"
    },
    {
        "line": 76,
        "fullcodeline": "if (tries > tmpfs_rename_backoff_tries)"
    },
    {
        "line": 177,
        "fullcodeline": "TNTOV(dir), name, ctp);"
    },
    {
        "line": 215,
        "fullcodeline": "ASSERT(tdp == NULL);"
    },
    {
        "line": 219,
        "fullcodeline": "tdirtrunc(tp);"
    },
    {
        "line": 231,
        "fullcodeline": "} else if (op == DE_CREATE || op == DE_MKDIR) {"
    },
    {
        "line": 232,
        "fullcodeline": "tmpnode_rele(tp);"
    }
]