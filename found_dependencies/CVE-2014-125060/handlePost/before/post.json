[
    {
        "line": 2,
        "fullcodeline": "long long sessionId = -1;"
    },
    {
        "line": 3,
        "fullcodeline": "long uid = -1;"
    },
    {
        "line": 5,
        "fullcodeline": "cout << \"handling post\" << endl;"
    },
    {
        "line": 12,
        "fullcodeline": "map<string, string> resHeaders;"
    },
    {
        "line": 13,
        "fullcodeline": "resHeaders[\"Server\"] = \"CSE461\";"
    },
    {
        "line": 14,
        "fullcodeline": "resHeaders[\"Content-Type\"] = \"text/html; charset=UTF-8\";"
    },
    {
        "line": 6,
        "fullcodeline": "if (reqHeaders->count(\"Cookie\") != 0) {"
    },
    {
        "line": 19,
        "fullcodeline": "if (uri.compare(\"/createUser\") == 0) {"
    },
    {
        "line": 180,
        "fullcodeline": "return getResponseHeader(\"HTTP/1.1 200 OK\", &resHeaders, body.size()) + \"\\r\\n\" + body;"
    },
    {
        "line": 8,
        "fullcodeline": "string sessionIdString = cookies.substr(cookies.find(\"=\") + 1);"
    },
    {
        "line": 9,
        "fullcodeline": "sessionId = stoll(sessionIdString, nullptr);"
    },
    {
        "line": 20,
        "fullcodeline": "cout << \"create user\" << endl;"
    },
    {
        "line": 22,
        "fullcodeline": "string username = params.substr(9, params.find(\"&\") - 9);"
    },
    {
        "line": 23,
        "fullcodeline": "string password = params.substr(params.find(\"&\") + 10);"
    },
    {
        "line": 25,
        "fullcodeline": "cout << \"username is \" << username << \" password is \" << password << endl;"
    },
    {
        "line": 27,
        "fullcodeline": "long newId = makeUser(username, password);"
    },
    {
        "line": 36,
        "fullcodeline": "body = bodyStream.str();"
    },
    {
        "line": 30,
        "fullcodeline": "if (newId == -1) {"
    },
    {
        "line": 31,
        "fullcodeline": "bodyStream << \"Error: Could not create user '\" << username << \"'\" << endl;"
    },
    {
        "line": 37,
        "fullcodeline": "} else if (uri.compare(\"/login\") == 0) {"
    },
    {
        "line": 33,
        "fullcodeline": "bodyStream << \"Successfully created user '\" << username << \"'! Please log in.\" << endl;"
    },
    {
        "line": 40,
        "fullcodeline": "cout << \"login\" << endl;"
    },
    {
        "line": 42,
        "fullcodeline": "string username = params.substr(9, params.find(\"&\") - 9);"
    },
    {
        "line": 43,
        "fullcodeline": "string password = params.substr(params.find(\"&\") + 10);"
    },
    {
        "line": 45,
        "fullcodeline": "cout << \"username is \" << username << \" password is \" << password << endl;"
    },
    {
        "line": 47,
        "fullcodeline": "long long sess = login(username, password);"
    },
    {
        "line": 63,
        "fullcodeline": "body = bodyStream.str();"
    },
    {
        "line": 38,
        "fullcodeline": "if (uid != -1)"
    },
    {
        "line": 50,
        "fullcodeline": "if (sess == -1) {"
    },
    {
        "line": 39,
        "fullcodeline": "logout(uid);"
    },
    {
        "line": 51,
        "fullcodeline": "bodyStream << getLogin();"
    },
    {
        "line": 66,
        "fullcodeline": "} else if (uri.compare(\"/createGroup\") == 0 && uid != -1) {"
    },
    {
        "line": 54,
        "fullcodeline": "cookie << \"sessionId=\" << sess;"
    },
    {
        "line": 55,
        "fullcodeline": "resHeaders[\"Set-Cookie\"] = cookie.str();"
    },
    {
        "line": 57,
        "fullcodeline": "bodyStream << getHeader(username);"
    },
    {
        "line": 58,
        "fullcodeline": "bodyStream << getEmptyCalendar();"
    },
    {
        "line": 59,
        "fullcodeline": "bodyStream << getFooter();"
    },
    {
        "line": 67,
        "fullcodeline": "cout << \"createGroup\" << endl;"
    },
    {
        "line": 69,
        "fullcodeline": "string groupName = params.substr(11);"
    },
    {
        "line": 70,
        "fullcodeline": "replace(groupName.begin(), groupName.end(), '+', ' ');"
    },
    {
        "line": 73,
        "fullcodeline": "long groupId = makeGroup(uid, groupName);"
    },
    {
        "line": 82,
        "fullcodeline": "body = bodyStream.str();"
    },
    {
        "line": 74,
        "fullcodeline": "if (groupId != -1) {"
    },
    {
        "line": 75,
        "fullcodeline": "cout << \"made group!\" << endl;"
    },
    {
        "line": 76,
        "fullcodeline": "bodyStream << \"Successfully created group '\" << groupName << \"'\";"
    },
    {
        "line": 84,
        "fullcodeline": "} else if (uri.compare(\"/addToGroup\") == 0 && uid != -1) {"
    },
    {
        "line": 78,
        "fullcodeline": "cout << \"makeGroup was -1.\" << endl;"
    },
    {
        "line": 79,
        "fullcodeline": "bodyStream << \"Error: could not create group '\" << groupName << \"'\";"
    },
    {
        "line": 85,
        "fullcodeline": "cout << \"addToGroup\" << endl;"
    },
    {
        "line": 87,
        "fullcodeline": "string groupName = params.substr(11, params.find(\"&\") - 11);"
    },
    {
        "line": 88,
        "fullcodeline": "params = params.substr(params.find(\"&\") + 1);"
    },
    {
        "line": 89,
        "fullcodeline": "string addedName = params.substr(11, params.find(\"&\") - 11);"
    },
    {
        "line": 90,
        "fullcodeline": "params = params.substr(params.find(\"&\") + 1);"
    },
    {
        "line": 91,
        "fullcodeline": "bool admin = params.find(\"admin\") != string::npos;"
    },
    {
        "line": 92,
        "fullcodeline": "long groupId = groupIdByName(groupName);"
    },
    {
        "line": 93,
        "fullcodeline": "long addedId = userIdByName(addedName);"
    },
    {
        "line": 96,
        "fullcodeline": "bool added = addToGroup(uid, addedId, groupId, admin);"
    },
    {
        "line": 106,
        "fullcodeline": "body = bodyStream.str();"
    },
    {
        "line": 99,
        "fullcodeline": "cout << \"added to group!\" << endl;"
    },
    {
        "line": 100,
        "fullcodeline": "bodyStream << \"Successfully added '\" << addedName << \"' to '\" << groupName << \"'\";"
    },
    {
        "line": 108,
        "fullcodeline": "} else if (uri.compare(\"/createEvent\") == 0 && uid != -1) {"
    },
    {
        "line": 102,
        "fullcodeline": "cout << \"Error: could not add '\" << addedName << \"' to '\" << groupName << \"'\";"
    },
    {
        "line": 103,
        "fullcodeline": "bodyStream << \"Error: could not add '\" << addedName << \"' to '\" << groupName << \"'\";"
    },
    {
        "line": 109,
        "fullcodeline": "cout << \"createEvent\" << endl;"
    },
    {
        "line": 111,
        "fullcodeline": "string eventName = params.substr(5, params.find(\"&\") - 5);"
    },
    {
        "line": 112,
        "fullcodeline": "replace(eventName.begin(), eventName.end(), '+', ' ');"
    },
    {
        "line": 113,
        "fullcodeline": "params = params.substr(params.find(\"&\") + 1);"
    },
    {
        "line": 114,
        "fullcodeline": "string timeString = params.substr(9, params.find(\"&\") - 9);"
    },
    {
        "line": 115,
        "fullcodeline": "params = params.substr(params.find(\"&\") + 1);"
    },
    {
        "line": 116,
        "fullcodeline": "bool withGroup = params.size() > 11;"
    },
    {
        "line": 118,
        "fullcodeline": "cout << \"eName: \" << eventName << \" tS: \" << timeString << \" wG: \" << withGroup << endl;"
    },
    {
        "line": 122,
        "fullcodeline": "timeStream << timeString;"
    },
    {
        "line": 123,
        "fullcodeline": "timeStream >> eventTime;"
    },
    {
        "line": 145,
        "fullcodeline": "body = bodyStream.str();"
    },
    {
        "line": 137,
        "fullcodeline": "if (eventId != -1) {"
    },
    {
        "line": 127,
        "fullcodeline": "string groupName = params.substr(11);"
    },
    {
        "line": 128,
        "fullcodeline": "long groupId = groupIdByName(groupName);"
    },
    {
        "line": 129,
        "fullcodeline": "cout << \"gName: \" << groupName << \" gID: \" << groupId << endl;"
    },
    {
        "line": 131,
        "fullcodeline": "eventId = makeEvent(uid, eventName, eventTime, groupId, true);"
    },
    {
        "line": 138,
        "fullcodeline": "cout << \"made event!\" << endl;"
    },
    {
        "line": 139,
        "fullcodeline": "bodyStream << \"Successfully created event '\" << eventName << \"'\";"
    },
    {
        "line": 147,
        "fullcodeline": "} else if (uri.compare(\"/editEvent\") == 0 && uid != -1) {"
    },
    {
        "line": 133,
        "fullcodeline": "eventId = makeEvent(uid, eventName, eventTime);"
    },
    {
        "line": 141,
        "fullcodeline": "cout << \"couldn't make event.\" << endl;"
    },
    {
        "line": 142,
        "fullcodeline": "bodyStream << \"Error: could not create event '\" << eventName << \"'\";"
    },
    {
        "line": 148,
        "fullcodeline": "cout << \"editEvent\" << endl;"
    },
    {
        "line": 150,
        "fullcodeline": "long eventId = stol(params.substr(3, params.find(\"&\") - 3), nullptr);"
    },
    {
        "line": 151,
        "fullcodeline": "params = params.substr(params.find(\"&\") + 1);"
    },
    {
        "line": 152,
        "fullcodeline": "string eventName = params.substr(5, params.find(\"&\") - 5);"
    },
    {
        "line": 153,
        "fullcodeline": "params = params.substr(params.find(\"&\") + 1);"
    },
    {
        "line": 154,
        "fullcodeline": "string timeString = params.substr(9, params.find(\"&\") - 9);"
    },
    {
        "line": 156,
        "fullcodeline": "cout << \"eID: \" << eventId << \" eName: \" << eventName << \" dt: \" << timeString << endl;"
    },
    {
        "line": 160,
        "fullcodeline": "timeStream << timeString;"
    },
    {
        "line": 161,
        "fullcodeline": "timeStream >> eventTime;"
    },
    {
        "line": 163,
        "fullcodeline": "renameEvent(uid, eventId, eventName);"
    },
    {
        "line": 164,
        "fullcodeline": "rescheduleEvent(uid, eventId, eventTime);"
    },
    {
        "line": 167,
        "fullcodeline": "cout << \"edited event!\" << endl;"
    },
    {
        "line": 168,
        "fullcodeline": "bodyStream << \"Successfully edited event.\";"
    },
    {
        "line": 170,
        "fullcodeline": "body = bodyStream.str();"
    },
    {
        "line": 173,
        "fullcodeline": "cout << \"error page\" << endl;"
    },
    {
        "line": 175,
        "fullcodeline": "string message = \"404 Page Not Found\";"
    },
    {
        "line": 176,
        "fullcodeline": "return getResponseHeader(\"HTTP/1.1 404 Not Found\", &resHeaders, body.size())"
    }
]