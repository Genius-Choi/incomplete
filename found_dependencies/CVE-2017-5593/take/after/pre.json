[
    {
        "line": 6,
        "fullcodeline": "QDomElement e1 = e;"
    },
    {
        "line": 8,
        "fullcodeline": "Message::CarbonDir cd = Message::NoCarbon;"
    },
    {
        "line": 10,
        "fullcodeline": "Jid fromJid = Jid(e1.attribute(QLatin1String(\"from\")));"
    },
    {
        "line": 12,
        "fullcodeline": "QDomNodeList list = e1.childNodes();"
    },
    {
        "line": 40,
        "fullcodeline": "Stanza s = client()->stream().createStanza(addCorrectNS(forward.isNull()? e1 : forward));"
    },
    {
        "line": 3,
        "fullcodeline": "if(e.tagName() != \"message\")"
    },
    {
        "line": 13,
        "fullcodeline": "for (int i = 0; i < list.size(); ++i) {"
    },
    {
        "line": 41,
        "fullcodeline": "if(s.isNull()) {"
    },
    {
        "line": 14,
        "fullcodeline": "QDomElement el = list.at(i).toElement();"
    },
    {
        "line": 47,
        "fullcodeline": "if(!m.fromStanza(s, client()->manualTimeZoneOffset(), client()->timeZoneOffset())) {"
    },
    {
        "line": 51,
        "fullcodeline": "if (!forward.isNull()) {"
    },
    {
        "line": 52,
        "fullcodeline": "m.setForwardedFrom(fromJid);"
    },
    {
        "line": 53,
        "fullcodeline": "m.setCarbonDirection(cd);"
    },
    {
        "line": 16,
        "fullcodeline": "if (el.attribute(\"xmlns\") == QLatin1String(\"urn:xmpp:carbons:2\")"
    },
    {
        "line": 18,
        "fullcodeline": "&& fromJid.compare(Jid(e1.attribute(QLatin1String(\"to\"))), false)) {"
    },
    {
        "line": 19,
        "fullcodeline": "QDomElement el1 = el.firstChildElement();"
    },
    {
        "line": 17,
        "fullcodeline": "&& (el.tagName() == QLatin1String(\"received\") || el.tagName() == QLatin1String(\"sent\"))"
    },
    {
        "line": 20,
        "fullcodeline": "if (el1.tagName() == QLatin1String(\"forwarded\")"
    },
    {
        "line": 21,
        "fullcodeline": "&& el1.attribute(QLatin1String(\"xmlns\")) == QLatin1String(\"urn:xmpp:forward:0\")) {"
    },
    {
        "line": 22,
        "fullcodeline": "QDomElement el2 = el1.firstChildElement(QLatin1String(\"message\"));"
    },
    {
        "line": 30,
        "fullcodeline": "else if (el.tagName() == QLatin1String(\"forwarded\")"
    },
    {
        "line": 31,
        "fullcodeline": "&& el.attribute(QLatin1String(\"xmlns\")) == QLatin1String(\"urn:xmpp:forward:0\")) {"
    },
    {
        "line": 32,
        "fullcodeline": "forward = el.firstChildElement(QLatin1String(\"message\")); // currently only messages are supportted"
    },
    {
        "line": 23,
        "fullcodeline": "if (!el2.isNull()) {"
    },
    {
        "line": 24,
        "fullcodeline": "forward = el2;"
    },
    {
        "line": 25,
        "fullcodeline": "cd = el.tagName() == QLatin1String(\"received\")? Message::Received : Message::Sent;"
    },
    {
        "line": 34,
        "fullcodeline": "if (!forward.isNull()) {"
    }
]