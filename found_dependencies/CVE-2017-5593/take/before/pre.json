[
    {
        "line": 6,
        "fullcodeline": "QDomElement e1 = e;"
    },
    {
        "line": 8,
        "fullcodeline": "Message::CarbonDir cd = Message::NoCarbon;"
    },
    {
        "line": 11,
        "fullcodeline": "QDomNodeList list = e1.childNodes();"
    },
    {
        "line": 35,
        "fullcodeline": "QString from = e1.attribute(QLatin1String(\"from\"));"
    },
    {
        "line": 36,
        "fullcodeline": "Stanza s = client()->stream().createStanza(addCorrectNS(forward.isNull()? e1 : forward));"
    },
    {
        "line": 3,
        "fullcodeline": "if(e.tagName() != \"message\")"
    },
    {
        "line": 12,
        "fullcodeline": "for (int i = 0; i < list.size(); ++i) {"
    },
    {
        "line": 37,
        "fullcodeline": "if(s.isNull()) {"
    },
    {
        "line": 13,
        "fullcodeline": "QDomElement el = list.at(i).toElement();"
    },
    {
        "line": 43,
        "fullcodeline": "if(!m.fromStanza(s, client()->manualTimeZoneOffset(), client()->timeZoneOffset())) {"
    },
    {
        "line": 47,
        "fullcodeline": "if (!forward.isNull()) {"
    },
    {
        "line": 48,
        "fullcodeline": "m.setForwardedFrom(Jid(from));"
    },
    {
        "line": 49,
        "fullcodeline": "m.setCarbonDirection(cd);"
    },
    {
        "line": 15,
        "fullcodeline": "if (el.attribute(\"xmlns\") == QLatin1String(\"urn:xmpp:carbons:2\") && (el.tagName() == QLatin1String(\"received\") || el.tagName() == QLatin1String(\"sent\"))) {"
    },
    {
        "line": 16,
        "fullcodeline": "QDomElement el1 = el.firstChildElement();"
    },
    {
        "line": 17,
        "fullcodeline": "if (el1.tagName() == QLatin1String(\"forwarded\") && el1.attribute(QLatin1String(\"xmlns\")) == QLatin1String(\"urn:xmpp:forward:0\")) {"
    },
    {
        "line": 18,
        "fullcodeline": "QDomElement el2 = el1.firstChildElement(QLatin1String(\"message\"));"
    },
    {
        "line": 26,
        "fullcodeline": "else if (el.tagName() == QLatin1String(\"forwarded\") && el.attribute(QLatin1String(\"xmlns\")) == QLatin1String(\"urn:xmpp:forward:0\")) {"
    },
    {
        "line": 27,
        "fullcodeline": "forward = el.firstChildElement(QLatin1String(\"message\")); // currently only messages are supportted"
    },
    {
        "line": 19,
        "fullcodeline": "if (!el2.isNull()) {"
    },
    {
        "line": 20,
        "fullcodeline": "forward = el2;"
    },
    {
        "line": 21,
        "fullcodeline": "cd = el.tagName() == QLatin1String(\"received\")? Message::Received : Message::Sent;"
    },
    {
        "line": 29,
        "fullcodeline": "if (!forward.isNull()) {"
    }
]