[
    {
        "line": 2,
        "fullcodeline": "data = request.POST"
    },
    {
        "line": 6,
        "fullcodeline": "serial = data.get('serial', '').upper().translate(SERIAL_TRANSLATE)"
    },
    {
        "line": 8,
        "fullcodeline": "machine = get_object_or_404(Machine, serial=serial)"
    },
    {
        "line": 10,
        "fullcodeline": "machine_group_key = data.get('key')"
    },
    {
        "line": 11,
        "fullcodeline": "machine.machine_group = get_object_or_404(MachineGroup, key=machine_group_key)"
    },
    {
        "line": 13,
        "fullcodeline": "machine.last_checkin = django.utils.timezone.now()"
    },
    {
        "line": 14,
        "fullcodeline": "machine.hostname = data.get('name', '<NO NAME>')"
    },
    {
        "line": 15,
        "fullcodeline": "machine.sal_version = data.get('sal_version')"
    },
    {
        "line": 20,
        "fullcodeline": "if bool(data.get('broken_client', False)):"
    },
    {
        "line": 24,
        "fullcodeline": "return HttpResponseBadRequest()"
    },
    {
        "line": 17,
        "fullcodeline": "if server.utils.get_django_setting('DEPLOYED_ON_CHECKIN', False):"
    },
    {
        "line": 18,
        "fullcodeline": "machine.deployed = True"
    },
    {
        "line": 21,
        "fullcodeline": "machine.broken_client = True"
    },
    {
        "line": 22,
        "fullcodeline": "machine.save()"
    },
    {
        "line": 23,
        "fullcodeline": "return HttpResponse(\"Broken Client report submmitted for %s\" % data.get('serial'))"
    }
]