[
    {
        "line": 2,
        "fullcodeline": "name, real_ext = os.path.splitext(filename)"
    },
    {
        "line": 3,
        "fullcodeline": "return f'{name if not expected_real_ext or real_ext[1:] == expected_real_ext else filename}.{ext}'"
    }
]