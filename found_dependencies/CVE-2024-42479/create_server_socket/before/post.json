[
    {
        "line": 2,
        "fullcodeline": "auto sockfd = socket(AF_INET, SOCK_STREAM, 0);"
    },
    {
        "line": 3,
        "fullcodeline": "auto sock = make_socket(sockfd);"
    },
    {
        "line": 12,
        "fullcodeline": "serv_addr.sin_family = AF_INET;"
    },
    {
        "line": 13,
        "fullcodeline": "serv_addr.sin_addr.s_addr = inet_addr(host);"
    },
    {
        "line": 14,
        "fullcodeline": "serv_addr.sin_port = htons(port);"
    },
    {
        "line": 4,
        "fullcodeline": "if (sock == nullptr) {"
    },
    {
        "line": 7,
        "fullcodeline": "if (!set_reuse_addr(sockfd)) {"
    },
    {
        "line": 16,
        "fullcodeline": "if (bind(sockfd, (struct sockaddr *) &serv_addr, sizeof(serv_addr)) < 0) {"
    },
    {
        "line": 19,
        "fullcodeline": "if (listen(sockfd, 1) < 0) {"
    },
    {
        "line": 8,
        "fullcodeline": "fprintf(stderr, \"Failed to set SO_REUSEADDR\\n\");"
    }
]