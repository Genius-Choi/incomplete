[
    {
        "line": 5,
        "fullcodeline": "bool called_fput = false;"
    },
    {
        "line": 9,
        "fullcodeline": "to_alloc = min(batch->count, KIOCB_BATCH_SIZE);"
    },
    {
        "line": 22,
        "fullcodeline": "spin_lock_irq(&ctx->ctx_lock);"
    },
    {
        "line": 23,
        "fullcodeline": "ring = kmap_atomic(ctx->ring_info.ring_pages[0]);"
    },
    {
        "line": 25,
        "fullcodeline": "avail = aio_ring_avail(&ctx->ring_info, ring) - ctx->reqs_active;"
    },
    {
        "line": 26,
        "fullcodeline": "BUG_ON(avail < 0);"
    },
    {
        "line": 53,
        "fullcodeline": "batch->count -= allocated;"
    },
    {
        "line": 54,
        "fullcodeline": "list_for_each_entry(req, &batch->head, ki_batch) {"
    },
    {
        "line": 59,
        "fullcodeline": "kunmap_atomic(ring);"
    },
    {
        "line": 60,
        "fullcodeline": "spin_unlock_irq(&ctx->ctx_lock);"
    },
    {
        "line": 10,
        "fullcodeline": "for (allocated = 0; allocated < to_alloc; allocated++) {"
    },
    {
        "line": 18,
        "fullcodeline": "if (allocated == 0)"
    },
    {
        "line": 27,
        "fullcodeline": "if (avail == 0 && !called_fput) {"
    },
    {
        "line": 43,
        "fullcodeline": "if (avail < allocated) {"
    },
    {
        "line": 55,
        "fullcodeline": "list_add(&req->ki_list, &ctx->active_reqs);"
    },
    {
        "line": 56,
        "fullcodeline": "ctx->reqs_active++;"
    },
    {
        "line": 11,
        "fullcodeline": "req = __aio_get_req(ctx);"
    },
    {
        "line": 15,
        "fullcodeline": "list_add(&req->ki_batch, &batch->head);"
    },
    {
        "line": 37,
        "fullcodeline": "spin_unlock_irq(&ctx->ctx_lock);"
    },
    {
        "line": 38,
        "fullcodeline": "aio_fput_routine(NULL);"
    },
    {
        "line": 39,
        "fullcodeline": "called_fput = true;"
    },
    {
        "line": 45,
        "fullcodeline": "list_for_each_entry_safe(req, n, &batch->head, ki_batch) {"
    },
    {
        "line": 12,
        "fullcodeline": "if (!req)"
    },
    {
        "line": 46,
        "fullcodeline": "list_del(&req->ki_batch);"
    },
    {
        "line": 47,
        "fullcodeline": "kmem_cache_free(kiocb_cachep, req);"
    },
    {
        "line": 48,
        "fullcodeline": "if (--allocated <= avail)"
    }
]