pf_state_list_remove(struct pf_state_list *pfs, struct pf_state *st)
{
	/* states can only be removed when the write lock is held */
	rw_assert_wrlock(&pfs->pfs_rwl);

	mtx_enter(&pfs->pfs_mtx);
	TAILQ_REMOVE(&pfs->pfs_list, st, entry_list);
	mtx_leave(&pfs->pfs_mtx);

	pf_state_unref(st); /* list no longer references the state */
}
