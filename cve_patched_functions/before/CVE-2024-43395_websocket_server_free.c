static int websocket_server_free(lua_State *L) {
    lastCFunction = __func__;
    Computer * comp = get_comp(L);
    websocket_server::Factory * f = *(websocket_server::Factory**)lua_touserdata(L, 1);
    comp->openWebsocketServers.erase(f->srv->port());
    if (f == NULL) return 0;
    f->srv->stop();
    delete f->srv;
    *(websocket_server::Factory**)lua_touserdata(L, 1) = NULL;
    return 0;
}
