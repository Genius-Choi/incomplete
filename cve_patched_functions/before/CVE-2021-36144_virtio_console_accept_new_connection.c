virtio_console_accept_new_connection(int fd __attribute__((unused)),
					enum ev_type t __attribute__((unused)), void *arg)
{

	int accepted_fd;
	uint32_t len;
	struct sockaddr_un addr;
	struct virtio_console_backend *be = arg;

	memset(&addr, 0, sizeof(addr));
	addr.sun_family = AF_UNIX;
	strncpy(addr.sun_path, be->portpath, sizeof(addr.sun_path));
	addr.sun_path[sizeof(addr.sun_path) - 1] = '\0';

	len = sizeof(addr);
	/* be->server_fd is kept for client uos reconnect again */
	accepted_fd = accept(be->server_fd, (struct sockaddr *)&addr, &len);
	if (accepted_fd == -1) {
		WPRINTF(("accept error= %d, addr.sun_path=%s\n", errno, addr.sun_path));
		return;
	} else {
		be->fd = accepted_fd;
	}

	be->conn_evp = mevent_add(be->fd, EVF_READ, virtio_console_backend_read, be,
				NULL, NULL);
	if (be->conn_evp == NULL) {
		WPRINTF(("accepted fd mevent_add failed\n"));
		return;
	}

	if (make_socket_non_blocking(be->fd) == -1) {
		WPRINTF(("accepted fd non-blocking failed\n"));
		return;
	}
}
