selReadFromColorImage(const char  *pathname)
{
PIX   *pix;
SEL   *sel;
char  *basename, *selname;

    PROCNAME("selReadFromColorImage");

    splitPathAtExtension (pathname, &basename, NULL);
    splitPathAtDirectory (basename, NULL, &selname);
    LEPT_FREE(basename);

    if ((pix = pixRead(pathname)) == NULL) {
        LEPT_FREE(selname);
        return (SEL *)ERROR_PTR("pix not returned", procName, NULL);
    }
    if ((sel = selCreateFromColorPix(pix, selname)) == NULL)
        L_ERROR("sel not made\n", procName);

    LEPT_FREE(selname);
    pixDestroy(&pix);
    return sel;
}
