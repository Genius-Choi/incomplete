Bool rfbSendUpdateBuf(rfbClientPtr cl)
{
  /*
  int i;
  for (i = 0; i < ublen; i++) {
    fprintf(stderr, "%02x ", ((unsigned char *)updateBuf)[i]);
  }
  fprintf(stderr, "\n");
  */

  if (ublen > 0 && WriteExact(cl, updateBuf, ublen) < 0) {
    rfbLogPerror("rfbSendUpdateBuf: write");
    rfbCloseClient(cl);
    return FALSE;
  }

  if (cl->captureEnable && cl->captureFD >= 0 && ublen > 0)
    WriteCapture(cl->captureFD, updateBuf, ublen);

  ublen = 0;
  return TRUE;
}
