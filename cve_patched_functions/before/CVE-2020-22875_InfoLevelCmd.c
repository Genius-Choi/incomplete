static Jsi_RC InfoLevelCmd(Jsi_Interp *interp, Jsi_Value *args, Jsi_Value *_this,
    Jsi_Value **ret, Jsi_Func *funcPtr)
{
    uint argc =  Jsi_ValueGetLength(interp, args);
    if (argc<=0) {
        Jsi_ValueMakeNumber(interp, ret, (Jsi_Number)interp->framePtr->level);
        return JSI_OK;
    }
    Jsi_Number num = 0;
    Jsi_Value *arg = Jsi_ValueArrayIndex(interp, args, 0);
    jsi_Frame *f = interp->framePtr;
    if (Jsi_GetNumberFromValue(interp, arg, &num) != JSI_OK)
        return JSI_ERROR;
    int lev = (int)num;
    if (lev <= 0)
        lev = f->level+lev;
    if (lev <= 0 || lev > f->level) 
        return Jsi_LogError("level %d not between 1 and %d", (int)num, f->level);
    while (f->level != lev  && f->parent)
        f = f->parent;
    char buf[JSI_BUFSIZ];
    //int line = (f != interp->framePtr ? f->line : (interp->curIp ? interp->curIp->Line : 0));
    int line = (f->line ? f->line : (interp->curIp ? interp->curIp->Line : 0));
    snprintf(buf, sizeof(buf), "{funcName:\"%s\", fileName:\"%s\", line:%d, level:%d, tryDepth:%d, withDepth:%d}",
        f->funcName?f->funcName:"", f->fileName?f->fileName:"", line, f->level, f->tryDepth, f->withDepth
        );
    
    Jsi_RC rc = Jsi_JSONParse(interp, buf, ret, 0);
    if (rc != JSI_OK)
        return rc;
    Jsi_Func *who = f->evalFuncPtr;
    Jsi_Obj *obj = Jsi_ObjNewArray(interp, NULL, 0, 0);
    Jsi_Value *val = Jsi_ValueMakeArrayObject(interp, NULL, obj);
    if (who && who->localnames) {
        int i;
        for (i = 0; i < who->localnames->count; ++i) {
            const char *argkey = jsi_ScopeStrsGet(who->localnames, i);
            Jsi_Value *v = Jsi_ValueMakeStringKey(interp, NULL, argkey);
            Jsi_ObjArrayAdd(interp, obj, v);

        }
    }
    Jsi_ValueInsert(interp, *ret, "locals", val, 0);
    Jsi_ValueInsert(interp, *ret, "scope", f->incsc, 0);
    Jsi_ValueInsert(interp, *ret, "inthis", f->inthis, 0);
    return rc;
}
