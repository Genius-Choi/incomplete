nautilus_directory_force_reload_internal (NautilusDirectory      *directory,
                                          NautilusFileAttributes  file_attributes)
{
    nautilus_profile_start (NULL);

    /* invalidate attributes that are getting reloaded for all files */
    nautilus_directory_invalidate_file_attributes (directory, file_attributes);

    /* Start a new directory load. */
    file_list_cancel (directory);
    directory->details->directory_loaded = FALSE;

    /* Start a new directory count. */
    nautilus_directory_invalidate_count_and_mime_list (directory);

    add_all_files_to_work_queue (directory);
    nautilus_directory_async_state_changed (directory);

    nautilus_profile_end (NULL);
}
