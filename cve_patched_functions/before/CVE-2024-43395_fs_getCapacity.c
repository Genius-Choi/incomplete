static int fs_getCapacity(lua_State *L) {
    lastCFunction = __func__;
    std::string mountPath;
    std::string str = checkstring(L, 1);
    const path_t path = fixpath(get_comp(L), str, false, true, &mountPath);
    if (mountPath == "rom") {
        lua_pushnil(L);
        return 1;
    } else if (mountPath == "hdd" && config.standardsMode) {
        lua_pushinteger(L, config.computerSpaceLimit);
        return 1;
    }
    if (path.empty()) luaL_error(L, "%s: Invalid path", str.c_str());
    lua_pushinteger(L, getSpace(path).capacity);
    return 1;
}
