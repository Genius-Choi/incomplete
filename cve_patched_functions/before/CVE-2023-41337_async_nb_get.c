static struct async_nb_transaction_t *async_nb_get(struct async_nb_queue_t *queue)
{
    if (queue->len == 0) {
        assert(h2o_linklist_is_empty(&queue->anchor));
        return NULL;
    }

    assert(!h2o_linklist_is_empty(&queue->anchor));

    struct async_nb_transaction_t *transaction = H2O_STRUCT_FROM_MEMBER(struct async_nb_transaction_t, link, queue->anchor.next);
    return transaction;
}
