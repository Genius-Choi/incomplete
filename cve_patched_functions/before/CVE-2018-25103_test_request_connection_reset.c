static void test_request_connection_reset(connection *con)
{
    con->request.http_method = HTTP_METHOD_UNSET;
    con->request.http_version = HTTP_VERSION_UNSET;
    con->request.http_host = NULL;
    con->request.http_range = NULL;
    con->request.http_content_type = NULL;
    con->request.http_if_modified_since = NULL;
    con->request.http_if_none_match = NULL;
    con->request.content_length = 0;
    con->header_len = 0;
    con->http_status = 0;
    buffer_reset(con->proto);
    buffer_reset(con->parse_request);
    buffer_reset(con->request.request);
    buffer_reset(con->request.request_line);
    buffer_reset(con->request.orig_uri);
    buffer_reset(con->request.uri);
    array_reset(con->request.headers);
}
