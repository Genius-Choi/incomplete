close_altfile(altfilename, filename)
	char *altfilename;
	char *filename;
{
#if HAVE_POPEN
	char *lessclose;
	FILE *fd;
	char *cmd;
	int len;
	
	if (secure)
		return;
	ch_ungetchar(-1);
	if ((lessclose = lgetenv("LESSCLOSE")) == NULL)
		return;
	if (num_pct_s(lessclose) > 2) 
	{
		error("LESSCLOSE ignored; must contain no more than 2 %%s", NULL_PARG);
		return;
	}
	len = (int) (strlen(lessclose) + strlen(filename) + strlen(altfilename) + 2);
	cmd = (char *) ecalloc(len, sizeof(char));
	SNPRINTF2(cmd, len, lessclose, filename, altfilename);
	fd = shellcmd(cmd);
	free(cmd);
	if (fd != NULL)
		pclose(fd);
#endif
}
