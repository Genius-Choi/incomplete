static int io_uring_add_task_file(struct file *file)
{
	struct io_uring_task *tctx = current->io_uring;

	if (unlikely(!tctx)) {
		int ret;

		ret = io_uring_alloc_task_context(current);
		if (unlikely(ret))
			return ret;
		tctx = current->io_uring;
	}
	if (tctx->last != file) {
		void *old = xa_load(&tctx->xa, (unsigned long)file);

		if (!old) {
			get_file(file);
			xa_store(&tctx->xa, (unsigned long)file, file, GFP_KERNEL);
		}
		tctx->last = file;
	}

	return 0;
}
