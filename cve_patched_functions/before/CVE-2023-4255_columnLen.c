columnLen(Line *line, int column)
{
    int i, j;

    for (i = 0, j = 0; i < line->len;) {
	j = nextColumn(j, &line->lineBuf[i], &line->propBuf[i]);
	if (j > column)
	    return i;
	i++;
#ifdef USE_M17N
	while (i < line->len && line->propBuf[i] & PC_WCHAR2)
	    i++;
#endif
    }
    return line->len;
}
