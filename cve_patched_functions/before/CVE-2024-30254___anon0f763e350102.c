  auto readFromPipe = [pipefd, &output]() {
    std::array<char, 1024> buffer;
    ssize_t bytesRead;
    std::mutex mtx;
    while ((bytesRead = read(pipefd[0], buffer.data(), buffer.size())) > 0) {
      std::unique_lock lock(mtx);
      output += std::string(buffer.data(), bytesRead);
      lock.unlock();
    }
  };
