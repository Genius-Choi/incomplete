TEST_F(HTTP2DownstreamSessionTest, TestSetEgressSettings) {
  SettingsList settings = {{ SettingsId::HEADER_TABLE_SIZE, 5555 },
                           { SettingsId::MAX_FRAME_SIZE, 16384 },
                           { SettingsId::ENABLE_PUSH, 1 }};

  const HTTPSettings* codecSettings = rawCodec_->getEgressSettings();
  for (const auto& setting: settings) {
    const HTTPSetting* currSetting = codecSettings->getSetting(setting.id);
    if (currSetting) {
      EXPECT_EQ(setting.value, currSetting->value);
    }
  }

  flushRequestsAndLoop();
  gracefulShutdown();
}
