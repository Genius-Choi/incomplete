static uint16_t _find_offset_and_copy_rest(uint8_t *data, gnrc_pktsnip_t **pkt,
                                           uint16_t frag_size,
                                           uint16_t offset)
{
    uint16_t offset_count = 0, cur_frag_size = 0;
    while ((*pkt != NULL) && (offset_count != offset)) {     /* go to offset */
        uint16_t pkt_size = (uint16_t)(*pkt)->size;
        offset_count += pkt_size;

        if (offset_count > offset) {                        /* we overshot */
            /* => copy rest of partly send packet snip */
            uint16_t pkt_offset = offset - (offset_count - pkt_size);
            size_t clen = _min(frag_size, pkt_size - pkt_offset);

            memcpy(data, ((uint8_t *)(*pkt)->data) + pkt_offset, clen);
            cur_frag_size = clen;
            *pkt = (*pkt)->next;
            break;
        }
        *pkt = (*pkt)->next;
    }
    return cur_frag_size;
}
