void solo_lock_if_not_already() {
    uint8_t buf[2048];

    memmove(buf, (uint8_t*)ATTESTATION_PAGE_ADDR, 2048);

    ((flash_attestation_page *)buf)->device_settings |= SOLO_FLAG_LOCKED;

    flash_erase_page(ATTESTATION_PAGE);

    flash_write(ATTESTATION_PAGE_ADDR, buf, 2048);
}
