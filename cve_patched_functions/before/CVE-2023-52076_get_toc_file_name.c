get_toc_file_name(gchar *containeruri)
{
    gchar *containerfilename = g_filename_from_uri(containeruri,NULL,NULL);
    open_xml_document(containerfilename);
    g_free (containerfilename);

    set_xml_root_node(NULL);

    xmlNodePtr manifest = xml_get_pointer_to_node((xmlChar*)"manifest",NULL,NULL);
    xmlNodePtr spine = xml_get_pointer_to_node((xmlChar*)"spine",NULL,NULL);

    xmlChar *ncx = xml_get_data_from_node(spine,XML_ATTRIBUTE,(xmlChar*)"toc");

    /*In an epub3, there is sometimes no toc, and we need to then use the nav file for this.*/
    if (ncx == NULL) {
        return NULL;
    }

    xmlretval = NULL;
    xml_parse_children_of_node(manifest,(xmlChar*)"item",(xmlChar*)"id",ncx);

    gchar* tocfilename = (gchar*)xml_get_data_from_node(xmlretval,XML_ATTRIBUTE,(xmlChar*)"href");
    xml_free_doc();

    return tocfilename;
}
