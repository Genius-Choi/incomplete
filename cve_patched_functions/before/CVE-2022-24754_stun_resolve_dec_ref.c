static void stun_resolve_dec_ref(pjsua_stun_resolve *sess)
{
    int ref_cnt = --sess->ref_cnt;
    /* If the STUN resolution session is blocking, only the waiting thread
     * is allowed to destroy the session, otherwise it may cause deadlock.
     */
    if ((ref_cnt > 0) ||
	(sess->blocking && (sess->waiter != pj_thread_this()))) 
    {
	return;
    }

    destroy_stun_resolve(sess, PJ_FALSE);
}
