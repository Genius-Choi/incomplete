int pico_ipv4_cleanup_links(struct pico_stack *S, struct pico_device *dev)
{
    struct pico_tree_node *index = NULL, *_tmp = NULL;
    struct pico_ipv4_link *link = NULL;

    if(!dev || !dev->stack)
        return PICO_ERR_EINVAL;

    pico_tree_foreach_safe(index, &S->Tree_dev_link, _tmp) {
        link = index->keyValue;
        if (dev == link->dev)
            pico_ipv4_link_del(S, dev, link->address);
    }
    return 0;
}
