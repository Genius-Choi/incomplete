QScriptValue vec3dToScriptValue(QScriptEngine *engine, const Vec3d& v)
{
	qWarning() << "The Vec3d script object is deprecated and will not work in future versions of Stellarium. Use V3d.";
	QScriptValue obj = engine->newObject();
	obj.setProperty("r", QScriptValue(engine, static_cast<qsreal>(v[0])));
	obj.setProperty("g", QScriptValue(engine, static_cast<qsreal>(v[1])));
	obj.setProperty("b", QScriptValue(engine, static_cast<qsreal>(v[2])));
	obj.setProperty("toString", engine->newFunction( vec3dToString ) );
	obj.setProperty("x", engine->newFunction(getX), QScriptValue::PropertyGetter);
	obj.setProperty("x", engine->newFunction(setX), QScriptValue::PropertySetter);
	obj.setProperty("y", engine->newFunction(getY), QScriptValue::PropertyGetter);
	obj.setProperty("y", engine->newFunction(setY), QScriptValue::PropertySetter);
	obj.setProperty("z", engine->newFunction(getZ), QScriptValue::PropertyGetter);
	obj.setProperty("z", engine->newFunction(setZ), QScriptValue::PropertySetter);	
	return obj;
}
