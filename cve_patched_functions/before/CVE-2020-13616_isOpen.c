template <typename Socket> bool isOpen(Socket const& s)
{
  if constexpr (IsSslStreamV<Socket>) {
    return isOpen(s.next_layer());
  }
  else {
    return s.is_open();
  }
}
