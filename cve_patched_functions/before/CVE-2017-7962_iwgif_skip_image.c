static int iwgif_skip_image(struct iwgifrcontext *rctx)
{
	int has_local_ct;
	int local_ct_size;
	int ct_num_entries;
	int retval=0;

	// Read image header information
	if(!iwgif_read(rctx,rctx->rbuf,9)) goto done;

	has_local_ct = (int)((rctx->rbuf[8]>>7)&0x01);
	if(has_local_ct) {
		local_ct_size = (int)(rctx->rbuf[8]&0x07);
		ct_num_entries = 1<<(1+local_ct_size);
	}

	// Skip the local color table
	if(has_local_ct) {
		if(!iwgif_read(rctx,rctx->rbuf,3*ct_num_entries)) goto done;
	}

	// Skip the LZW code size
	if(!iwgif_read(rctx,rctx->rbuf,1)) goto done;

	// Skip the image pixels
	if(!iwgif_skip_subblocks(rctx)) goto done;

	// Reset anything that might have been set by a graphic control extension.
	// Their scope is the first image that follows them.
	rctx->has_transparency = 0;

	retval=1;

done:
	return retval;
}
