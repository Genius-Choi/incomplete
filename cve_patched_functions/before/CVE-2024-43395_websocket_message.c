static std::string websocket_message(lua_State *L, void* userp) {
    ws_message * message = (ws_message*)userp;
    lua_pushstring(L, message->url.c_str());
    pushstring(L, message->data);
    lua_pushboolean(L, message->binary);
    delete message;
    return "websocket_message";
}
