static int parse_ul(sdp_parser_t *p, char **r,
		    unsigned long *result, unsigned long max)
{
  char *ul = *r;

  ul += strspn(ul, SPACE TAB);

  *result = strtoul(ul, r, 10);
  if (ul != *r && !(max && max <= *result)) {
    *r += strspn(*r, SPACE TAB);
    return 0;
  }

  return -1;
}
