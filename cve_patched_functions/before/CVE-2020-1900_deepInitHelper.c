void deepInitHelper(ObjectProps* props,
                    const Class::PropInitVec* initVec,
                    size_t nProps) {
  auto initIter = initVec->cbegin();
  props->init(nProps);
  props->foreach(nProps, [&](tv_lval lval){
    auto entry = *initIter++;
    tvCopy(entry.val.tv(), lval);
    if (entry.deepInit) {
      tvIncRefGen(*lval);
      collections::deepCopy(lval);
    }
  });
}
