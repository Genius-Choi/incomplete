s32 gf_sg_proto_get_field_index_by_name(GF_Proto *proto, GF_Node *node, char *name)
{
	u32 i;
	GF_Proto *__proto=NULL;

	if (!node && !proto) return -1;
	if (node && (node->sgprivate->tag!=TAG_ProtoNode)) return -1;

	if (proto)
		__proto = proto;
	else if (node)
		__proto = ((GF_ProtoInstance *) node)->proto_interface;

	if (!__proto ) return -1;

	for (i=0; i<gf_list_count(__proto->proto_fields); i++) {
		GF_ProtoFieldInterface *proto_field = (GF_ProtoFieldInterface*)gf_list_get(__proto->proto_fields, i);
		if (proto_field->FieldName && !strcmp(proto_field->FieldName, name)) return i;
	}
	return -1;
}
