char **build_cstrarr(const std::vector<std::string> &vec) {
  char **cstrarr = nullptr;
  int size = vec.size();
  if (size) {
    cstrarr = (char **)malloc((size + 1) * sizeof(char *));
    int j = 0;
    for (unsigned int i = 0; i < vec.size(); i++, j++) {
      *(cstrarr + j) = (char *)vec[i].c_str();
    }
    *(cstrarr + j) = nullptr;
  }
  return cstrarr;
}
