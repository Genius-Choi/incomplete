copp_meter_get(enum copp_proto proto, const struct nbrec_copp *copp,
               const struct shash *meter_groups)
{
    if (!copp || proto >= COPP_PROTO_MAX) {
        return NULL;
    }

    const char *meter = smap_get(&copp->meters, copp_proto_names[proto]);

    if (meter && shash_find(meter_groups, meter)) {
        return meter;
    }

    return NULL;
}
