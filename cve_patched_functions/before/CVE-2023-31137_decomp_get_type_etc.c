int decomp_get_type_etc(js_string *compressed, js_string
                        *uncompressed, unsigned int compressed_offset) {

    int type;

    type = js_readuint16(compressed,compressed_offset);

    if(decomp_append_bytes(compressed,uncompressed,compressed_offset,8) !=
       JS_SUCCESS) {
        return JS_ERROR;
        }

    return type;

    }
