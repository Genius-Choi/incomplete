static void create_codec(and_media_private_t *and_media_data)
{
    char const *enc_name =
		   and_media_codec[and_media_data->codec_idx].encoder_name->ptr;
    char const *dec_name =
		   and_media_codec[and_media_data->codec_idx].decoder_name->ptr;

    if (!and_media_data->enc) {
	and_media_data->enc = AMediaCodec_createCodecByName(enc_name);
	if (!and_media_data->enc) {
	    PJ_LOG(4, (THIS_FILE, "Failed creating encoder: %s", enc_name));
	}
	PJ_LOG(4, (THIS_FILE, "Done creating encoder: %s [0x%x]", enc_name,
	       and_media_data->enc));
    }

    if (!and_media_data->dec) {
	and_media_data->dec = AMediaCodec_createCodecByName(dec_name);
	if (!and_media_data->dec) {
	    PJ_LOG(4, (THIS_FILE, "Failed creating decoder: %s", dec_name));
	}
	PJ_LOG(4, (THIS_FILE, "Done creating decoder: %s [0x%x]", dec_name,
	       and_media_data->dec));
    }
}
