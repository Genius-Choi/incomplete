int ecall_set_real_clientid(struct ecall *ecall, const char *clientid)
{
	char clientid_anon[ANON_CLIENT_LEN];
	int err = 0;

	if (!ecall)
		return EINVAL;

	ecall->clientid_real = mem_deref(ecall->clientid_real);
	if (clientid) {
		err = str_dup(&ecall->clientid_real, clientid);
		if (err)
			return err;

		debug("ecall(%p): set_real_clientid %s\n", 
			ecall,
			anon_client(clientid_anon, clientid));
	}

	return err;
}
