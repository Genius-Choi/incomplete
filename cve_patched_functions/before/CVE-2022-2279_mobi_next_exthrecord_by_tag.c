MOBIExthHeader * mobi_next_exthrecord_by_tag(const MOBIData *m, const MOBIExthTag tag, MOBIExthHeader **start) {
    if (m == NULL) {
        debug_print("%s", "Mobi structure not initialized\n");
        return NULL;
    }
    if (m->eh == NULL) {
        return NULL;
    }
    MOBIExthHeader *curr;
    if (*start) {
        curr = *start;
        *start = NULL;
    } else {
        curr = m->eh;
    }
    while (curr != NULL) {
        if (curr->tag == tag) {
            *start = curr->next;
            return curr;
        }
        curr = curr->next;
    }
    return NULL;
}
