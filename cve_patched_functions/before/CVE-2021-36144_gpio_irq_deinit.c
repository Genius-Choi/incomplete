gpio_irq_deinit(struct virtio_gpio *gpio)
{
	struct gpio_irq_chip *chip;
	struct gpio_irq_desc *desc;
	int i;

	chip = &gpio->irq_chip;
	pthread_mutex_destroy(&chip->intr_mtx);
	for (i = 0; i < gpio->nvline; i++) {
		desc = &chip->descs[i];
		if (desc->mevt) {
			desc->deinit = true;
			mevent_delete(desc->mevt);
			desc->mevt = NULL;

		/* desc fd will be closed by mevent teardown */
		}
	}
}
