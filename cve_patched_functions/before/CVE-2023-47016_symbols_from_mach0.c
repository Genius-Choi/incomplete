static void symbols_from_mach0(RList *ret, struct MACH0_(obj_t) *mo, RBinFile *bf, ut64 paddr, int ordinal) {
	if (!MACH0_(load_symbols) (mo)) {
		return;
	}
	RVecRBinSymbol *symbols = mo->symbols_vec;

	int i = 0;
	RBinSymbol *sym;
	R_VEC_FOREACH (symbols, sym) {
		RBinSymbol *ret_sym = R_NEW0 (RBinSymbol);
		if (!sym) {
			break;
		}

		ret_sym->name = strdup (sym->name);
		if (ret_sym->name[0] == '_') {
			if (sym->dname) {
				ret_sym->dname = strdup (sym->dname);
			}
			if (sym->classname) {
				ret_sym->classname = strdup (sym->classname);
			}
		}
		ret_sym->vaddr = sym->vaddr;
		ret_sym->paddr = sym->paddr + paddr;
		ret_sym->forwarder = "NONE";
		ret_sym->bind = sym->bind;
		ret_sym->type = R_BIN_TYPE_FUNC_STR;
		ret_sym->size = sym->size;
		ret_sym->ordinal = i;
		r_list_append (ret, ret_sym);
		i++;
	}
}
