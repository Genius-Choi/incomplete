static int acf_channel_write(struct ast_channel *chan, const char *function, char *args, const char *value)
{
	struct chan_iax2_pvt *pvt;
	unsigned int callno;
	int res = 0;

	if (!chan || chan->tech != &iax2_tech) {
		ast_log(LOG_ERROR, "This function requires a valid IAX2 channel\n");
		return -1;
	}

	callno = PTR_TO_CALLNO(chan->tech_pvt);
	ast_mutex_lock(&iaxsl[callno]);
	if (!(pvt = iaxs[callno])) {
		ast_mutex_unlock(&iaxsl[callno]);
		return -1;
	}

	if (!strcasecmp(args, "osptoken"))
		ast_string_field_set(pvt, osptoken, value);
	else
		res = -1;

	ast_mutex_unlock(&iaxsl[callno]);

	return res;
}
