Jsi_Value *Jsi_ValueArrayPop(Jsi_Interp *interp, Jsi_Value *v)
{
    if (v->vt != JSI_VT_OBJECT) {
        Jsi_LogBug("Jsi_ValueArrayPop, target is not object");
        return NULL;
    }
    Jsi_Obj *o = v->d.obj;
    if (!o->isarrlist) {
        Jsi_LogBug("Jsi_ValueArrayPop, target is not array");
        return NULL;
    }
    if (o->arrCnt<=0)
        return NULL;
    int idx = o->arrCnt-1;
    if (!o->arr[idx])
        return NULL;
    Jsi_DecrRefCount(interp, o->arr[idx]);
    Jsi_Value *ret = o->arr[idx];
    o->arr[idx] = NULL;
    o->arrCnt--;
    return ret;
}
