std::string CV8RealTimeWorker::GetGlobalVariable()
{
	std::string commandA = "JSON.stringify(GlobalVariable);";

	JSSmart<CJSContextScope> context_scope = m_context->CreateContextScope();
	JSSmart<CJSTryCatch> try_catch = m_context->GetExceptions();

	JSSmart<CJSValue> _value = m_context->runScript(commandA, try_catch);
	if(try_catch->Check())
		return "";
	if(_value->isString())
		return _value->toStringA();
	return "{}";
}
