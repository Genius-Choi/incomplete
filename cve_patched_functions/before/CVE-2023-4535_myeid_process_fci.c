static int myeid_process_fci(struct sc_card *card, struct sc_file *file,
		const u8 *buf, size_t buflen)
{
	myeid_private_data_t *priv = (myeid_private_data_t *) card->drv_data;
	size_t taglen = 0;
	const u8 *tag = NULL;
	int r;

	LOG_FUNC_CALLED(card->ctx);
	r = iso_ops->process_fci(card, file, buf, buflen);
	if (r < 0)
	 LOG_FUNC_RETURN(card->ctx, r);

	if(file->type == SC_FILE_EF_UNKNOWN)
	{
		tag = sc_asn1_find_tag(NULL, buf, buflen, 0x82, &taglen);
		if (tag != NULL && taglen > 0 && *tag == 17)
		{
			file->type = SC_FILE_TYPE_INTERNAL_EF;
		}
	}
	if(file->sec_attr_len >= 3)
	{
		sc_log(card->ctx, "id (%X) sec_attr (%X %X %X)", file->id,
			file->sec_attr[0],file->sec_attr[1],file->sec_attr[2]);
	}

	priv->card_state = file->status;
	switch (file->status) {
		case SC_FILE_STATUS_CREATION:
			file->acl_inactive = 1;
			sc_log(card->ctx, "File id (%X) status SC_FILE_STATUS_CREATION", file->id);
			break;
		case SC_FILE_STATUS_ACTIVATED:
			sc_log(card->ctx, "File id (%X) status SC_FILE_STATUS_ACTIVATED", file->id);
			break;
		default:
			sc_log(card->ctx, "File id (%X) unusual status (0x%X)", file->id, file->status);
	}

	LOG_FUNC_RETURN(card->ctx, 0);
}
