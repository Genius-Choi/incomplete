build_lrouter_lbs_reachable_ips(struct hmap *datapaths, struct hmap *lbs,
                                struct hmap *lb_groups)
{
    struct ovn_datapath *od;

    HMAP_FOR_EACH (od, key_node, datapaths) {
        if (!od->nbr) {
            continue;
        }

        for (size_t i = 0; i < od->nbr->n_load_balancer; i++) {
            struct ovn_northd_lb *lb =
                ovn_northd_lb_find(lbs,
                                   &od->nbr->load_balancer[i]->header_.uuid);
            build_lrouter_lb_reachable_ips(od, lb);
        }

        for (size_t i = 0; i < od->nbr->n_load_balancer_group; i++) {
            const struct nbrec_load_balancer_group *nbrec_lb_group =
                od->nbr->load_balancer_group[i];
            struct ovn_lb_group *lb_group;

            lb_group = ovn_lb_group_find(lb_groups,
                                         &nbrec_lb_group->header_.uuid);
            for (size_t j = 0; j < lb_group->n_lbs; j++) {
                build_lrouter_lb_reachable_ips(od, lb_group->lbs[j]);
            }
        }
    }
}
