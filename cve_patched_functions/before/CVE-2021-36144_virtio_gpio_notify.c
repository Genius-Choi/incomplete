virtio_gpio_notify(void *vdev, struct virtio_vq_info *vq)
{
	struct iovec iov[2];
	struct virtio_gpio *gpio;
	uint16_t idx;
	int n, len;

	idx = vq->qsize;
	gpio = (struct virtio_gpio *)vdev;
	if (vq_has_descs(vq)) {
		n = vq_getchain(vq, &idx, iov, 2, NULL);
		if (n >= 3) {
			WPRINTF(("virtio gpio, invalid chain number %d\n", n));
			virtio_gpio_abort(vq, idx);
			return;
		}

		len = virtio_gpio_proc(gpio, iov, n);
		/*
		 * Release this chain and handle more
		 */
		vq_relchain(vq, idx, len);

	}
}
