wsemul_vt100_output_string(struct wsemul_vt100_emuldata *edp,
    struct wsemul_inputstate *instate)
{
	if (edp->dcsarg && edp->dcstype && edp->dcspos < DCS_MAXLEN) {
		if (instate->inchar & ~0xff) {
#ifdef VT100_PRINTUNKNOWN
			printf("unknown char %x in DCS\n", instate->inchar);
#endif
		} else
			edp->dcsarg[edp->dcspos++] = (char)instate->inchar;
	}

	edp->state = VT100_EMUL_STATE_STRING;
	return 0;
}
