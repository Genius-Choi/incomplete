gpio_irq_has_pending_intr(struct gpio_irq_desc *desc)
{
	bool level_high, level_low;

	/*
	 * For level trigger mode, check the pin mode and level value
	 * to resend an interrupt.
	 */
	if (desc->mode & IRQ_TYPE_LEVEL_MASK) {
		level_high = desc->mode & IRQ_TYPE_LEVEL_HIGH;
		level_low = desc->mode & IRQ_TYPE_LEVEL_LOW;
		if ((level_high && desc->level == 1) ||
				(level_low && desc->level == 0))
			return true;
	}
	return false;
}
