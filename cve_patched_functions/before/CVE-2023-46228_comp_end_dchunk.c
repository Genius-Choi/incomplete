static ssize_t comp_end_dchunk(zckCtx *zck, bool use_dict, size_t fd_size) {
    VALIDATE_READ_INT(zck);

    ssize_t rb = zck->comp.end_dchunk(zck, &(zck->comp), use_dict, fd_size);
    if(validate_current_chunk(zck) < 1)
        return -1;
    zck->comp.data_loc = 0;
    zck->comp.data_idx = zck->comp.data_idx->next;
    if(!hash_init(zck, &(zck->check_chunk_hash), &(zck->chunk_hash_type)))
        return -1;
    return rb;
}
