static int update_residue_parameter(OSQChannel *cb)
{
    double sum, x;
    int rice_k;

    sum = cb->sum;
    x = sum / cb->count;
    rice_k = av_ceil_log2(x);
    if (rice_k >= 30) {
        rice_k = floor(sum / 1.4426952 + 0.5);
        if (rice_k < 1)
            rice_k = 1;
    }

    return rice_k;
}
