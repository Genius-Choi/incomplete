update_notification_create(struct update_notification **file)
{
	struct update_notification *tmp;
	struct deltas_head *list;
	int error;

	tmp = malloc(sizeof(struct update_notification));
	if (tmp == NULL)
		return pr_enomem();

	list = NULL;
	error = deltas_head_create(&list);
	if (error) {
		free(tmp);
		return error;
	}
	tmp->deltas_list = list;
	tmp->uri = NULL;

	global_data_init(&tmp->global_data);
	doc_data_init(&tmp->snapshot);

	*file = tmp;
	return 0;
}
