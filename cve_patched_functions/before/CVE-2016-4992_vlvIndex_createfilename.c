vlvIndex_createfilename(struct vlvIndex* pIndex, char **ppc)
{
    int filenameValid= 1;
    unsigned int i;
    char *p, *filename;
    filename= slapi_ch_malloc(strlen(pIndex->vlv_name) + 1);
    p= filename;
    for(i=0;i<strlen(pIndex->vlv_name);i++)
    {
        if(isalnum(pIndex->vlv_name[i]))
        {
            *p= TOLOWER( pIndex->vlv_name[i] );
            p++;
        }
    }
    *p= '\0';
    if(strlen(filename)==0)
    {
        LDAPDebug( LDAP_DEBUG_ANY, "Couldn't generate valid filename from Virtual List View Index Name (%s).  Need some alphabetical characters.\n", pIndex->vlv_name, 0, 0);
        filenameValid= 0;
    }
    /* JCM: Check if this file clashes with another VLV Index filename */
    *ppc= filename;
    return filenameValid;
}
