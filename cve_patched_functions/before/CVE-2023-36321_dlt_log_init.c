DltReturnValue dlt_log_init(int mode)
{
    if ((mode < DLT_LOG_TO_CONSOLE) || (mode > DLT_LOG_DROPPED)) {
        dlt_user_printf("Wrong parameter for mode: %d\n", mode);
        return DLT_RETURN_WRONG_PARAMETER;
    }

    logging_mode = mode;

    if (logging_mode == DLT_LOG_TO_FILE) {
        /* internal logging to file */
        logging_handle = fopen(logging_filename, "a");

        if (logging_handle == NULL) {
            dlt_user_printf("Internal log file %s cannot be opened!\n", logging_filename);
            return DLT_RETURN_ERROR;
        }
    }

    return DLT_RETURN_OK;
}
