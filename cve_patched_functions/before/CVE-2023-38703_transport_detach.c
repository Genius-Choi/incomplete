static void transport_detach( pjmedia_transport *tp,
                              void *user_data)
{
    struct transport_loop *loop = (struct transport_loop*) tp;
    unsigned i;

    pj_assert(tp);

    for (i=0; i<loop->user_cnt; ++i) {
        if (loop->users[i].user_data == user_data)
            break;
    }

    /* Remove this user */
    if (i != loop->user_cnt) {
        pj_array_erase(loop->users, sizeof(loop->users[0]),
                       loop->user_cnt, i);
        --loop->user_cnt;
    }
}
