const SocketInterface* sockInterfaceOrDefault(const SocketInterface* sock_interface) {
  return sock_interface == nullptr ? &SocketInterfaceSingleton::get() : sock_interface;
}
