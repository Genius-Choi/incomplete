Computer * get_comp(lua_State *L) {
    try {
        return getCompCache->at(L->l_G);
    } catch (std::out_of_range &e) {
        LockGuard lock(getCompCache);
        lua_rawgeti(L, LUA_REGISTRYINDEX, 1);
        Computer * retval = (Computer*)lua_touserdata(L, -1);
        lua_pop(L, 1);
        getCompCache->insert(std::make_pair(L->l_G, retval));
        return retval;
    }
}
