vlvIndex_equal(const struct vlvIndex* p1, const sort_spec* sort_control)
{
    int r= 1;
    const sort_spec *t1= sort_control;
    LDAPsortkey *t2= p1->vlv_sortkey[0];
    int n= 1;
    for(;t1!=NULL && t2!=NULL && r;t1= t1->next,t2=p1->vlv_sortkey[n],n++)
    {
        r= (t1->order && t2->sk_reverseorder) || (!t1->order && !t2->sk_reverseorder);
        if(r) r= (strcasecmp(t1->type, t2->sk_attrtype)==0);
        if(r)
        {
            if(t1->matchrule==NULL && t2->sk_matchruleoid==NULL)
            {
                r= 1;
            }
            else if(t1->matchrule!=NULL && t2->sk_matchruleoid!=NULL)
            {
                r= (strcasecmp(t1->matchrule, t2->sk_matchruleoid)==0);
            }
            else
            {
                r= 0;
            }
        }
    }
    if(r) r= (t1==NULL && t2==NULL);
    return r;
}
