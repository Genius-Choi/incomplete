int crxIdwt53FilterDecode(CrxPlaneComp *comp, int32_t level)
{
  if (comp->waveletTransform[level].curH)
    return 0;

  CrxSubband *sband = comp->subBands + 3 * level;

  if (comp->waveletTransform[level].height - 3 <=
          comp->waveletTransform[level].curLine &&
      !(comp->tileFlag & E_HAS_TILES_ON_THE_BOTTOM))
  {
    if (comp->waveletTransform[level].height & 1)
    {
      if (level)
      {
        if (crxIdwt53FilterDecode(comp, level - 1))
          return -1;
      }
      else if (crxDecodeLineWithIQuantization(sband))
        return -1;

      if (crxDecodeLineWithIQuantization(sband + 1))
        return -1;
    }
  }
  else
  {
    if (level)
    {
      if (crxIdwt53FilterDecode(comp, level - 1))
        return -1;
    }
    else if (crxDecodeLineWithIQuantization(sband)) // LL band
      return -1;

    if (crxDecodeLineWithIQuantization(sband + 1) || // HL band
        crxDecodeLineWithIQuantization(sband + 2) || // LH band
        crxDecodeLineWithIQuantization(sband + 3))   // HH band
      return -1;
  }

  return 0;
}
