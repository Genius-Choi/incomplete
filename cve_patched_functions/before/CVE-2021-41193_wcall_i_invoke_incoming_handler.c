void wcall_i_invoke_incoming_handler(const char *convid,
				     uint32_t msg_time,
				     const char *userid,
				     const char *clientid,
				     int video_call,
				     int should_ring,
				     int conv_type,
				     void *arg)
{
	struct calling_instance *inst = arg;
	uint64_t now = tmr_jiffies();

	struct wcall *wcall = wcall_lookup(inst, convid);

	info(APITAG "wcall(%p): wcall=%p calling incomingh: %p\n",
	     inst, wcall, inst->incomingh);

	if (!wcall) {
		warning("wcall(%p): invoke_incoming_handler: wcall=NULL, ignoring\n", inst);
		return;
	}

	if (wcall->state != WCALL_STATE_INCOMING) {
		warning("wcall(%p): invoke_incoming_handler: wcall=%p "
			"wrong state: %s\n",
			inst, wcall, wcall_state_name(wcall->state));
		return;
	}

	if (inst->incomingh) {
		inst->incomingh(convid, msg_time, userid, clientid,
				video_call, should_ring, conv_type, inst->arg);
	}

	info(APITAG "wcall(%p): inst->incomingh took %llu ms \n",
	     inst, tmr_jiffies() - now);
}
