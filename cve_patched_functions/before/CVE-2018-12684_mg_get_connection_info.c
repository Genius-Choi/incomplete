mg_get_connection_info(const struct mg_context *ctx,
                       int idx,
                       char *buffer,
                       int buflen)
{
	if ((buffer == NULL) || (buflen < 1)) {
		return mg_get_connection_info_impl(ctx, idx, NULL, 0);
	} else {
		/* Reset buffer, so we can always use strcat. */
		buffer[0] = 0;
		return mg_get_connection_info_impl(ctx, idx, buffer, buflen);
	}
}
