void trustedGetSecretShares(int *errStatus, char *errString, uint8_t *encrypted_dkg_secret, uint32_t *dec_len,
                       char *secret_shares,
                       unsigned _t, unsigned _n) {

    LOG_DEBUG (__FUNCTION__);

    char decrypted_dkg_secret[DKG_BUFER_LENGTH];

    uint32_t decr_len;
    trustedDecryptDkgSecret(errStatus, errString, encrypted_dkg_secret, (uint8_t *) decrypted_dkg_secret, &decr_len);

    if (*errStatus != 0) {
        snprintf(errString, BUF_LEN, "sgx_unseal_data - encrypted_dkg_secret failed with status %d", *errStatus);
        return;
    }

    *dec_len = decr_len;

    // strncpy(errString, decrypted_dkg_secret, 1024);
    calc_secret_shares(decrypted_dkg_secret, secret_shares, _t, _n);
    //free(decrypted_dkg_secret);
}
