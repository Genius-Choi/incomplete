static int _hostfs_truncate(
    oe_device_t* device,
    const char* path,
    oe_off_t length)
{
    int ret = -1;
    device_t* fs = _cast_device(device);
    char host_path[OE_PATH_MAX];
    int retval = -1;

    if (!fs)
        OE_RAISE_ERRNO(OE_EINVAL);

    if (_is_read_only(fs))
        OE_RAISE_ERRNO(OE_EPERM);

    if (_make_host_path(fs, path, host_path) != 0)
        OE_RAISE_ERRNO(oe_errno);

    if (oe_syscall_truncate_ocall(&retval, host_path, length) != OE_OK)
        OE_RAISE_ERRNO(OE_EINVAL);

    ret = retval;

done:

    return ret;
}
