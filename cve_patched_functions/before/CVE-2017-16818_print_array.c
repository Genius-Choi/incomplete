ostream& print_array(ostream& m, Iterator begin, Iterator end) {
  if (begin == end) {
    m << "[";
  } else {
    auto beforelast = end - 1;
    m << "[ ";
    for (auto i = begin; i != end; ++i) {
      m << *i;
      if (i != beforelast) {
	m << ", ";
      } else {
	m << " ";
      }
    }
  }
  m << "]";
  return m;
}
