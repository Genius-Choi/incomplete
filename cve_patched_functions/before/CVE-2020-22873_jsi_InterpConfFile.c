static Jsi_RC jsi_InterpConfFile(Jsi_Interp *interp, const char *fname, bool etc)
{
    Jsi_RC rc;
    Jsi_DString dStr = {};
    Jsi_Value *opts = NULL, *fn = Jsi_ValueNewStringConst(interp, fname, -1);
    Jsi_IncrRefCount(interp, fn);
    bool isSafe = interp->isSafe;
    if (etc)
        interp->isSafe = 0;
    rc = Jsi_FileRead(interp, fn, &dStr);
    if (rc != JSI_OK)
        goto done;
    opts = Jsi_ValueNew1(interp);
    if (rc == JSI_OK)
        rc = Jsi_JSONParse(interp, Jsi_DSValue(&dStr), &opts, 0);
    if (rc == JSI_OK
        && Jsi_OptionsProcess(interp, InterpOptions, interp, opts, 0) < 0)
        rc = JSI_ERROR;
done:
    if (etc && isSafe)
        interp->isSafe = 1;
    if (opts)
        Jsi_DecrRefCount(interp, opts);
    Jsi_DecrRefCount(interp, fn);
    Jsi_DSFree(&dStr);
    return rc;
}
