int dlt_user_printf(const char *format, ...)
{
    va_list args;
    va_start(args, format);

    int ret = 0;

    switch (logging_mode) {
    case DLT_LOG_TO_CONSOLE:
    case DLT_LOG_TO_SYSLOG:
    case DLT_LOG_TO_FILE:
    case DLT_LOG_DROPPED:
    default:
        ret = vfprintf(stdout, format, args);
        break;
    case DLT_LOG_TO_STDERR:
        ret = vfprintf(stderr, format, args);
        break;
    }

    va_end(args);

    return ret;
}
