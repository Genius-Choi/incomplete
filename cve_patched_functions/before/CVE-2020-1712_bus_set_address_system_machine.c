int bus_set_address_system_machine(sd_bus *b, const char *machine) {
        _cleanup_free_ char *e = NULL;
        char *a;

        assert(b);
        assert(machine);

        e = bus_address_escape(machine);
        if (!e)
                return -ENOMEM;

        a = strjoin("x-machine-unix:machine=", e);
        if (!a)
                return -ENOMEM;

        return free_and_replace(b->address, a);
}
