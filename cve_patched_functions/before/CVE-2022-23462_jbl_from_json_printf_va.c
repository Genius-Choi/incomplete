iwrc jbl_from_json_printf_va(JBL *jblp, const char *format, va_list va) {
  iwrc rc = 0;
  va_list cva;

  va_copy(cva, va);
  int size = _jbl_printf_estimate_size(format, va);
  if (size < 0) {
    va_end(cva);
    return IW_ERROR_INVALID_ARGS;
  }
  char *buf = malloc(size);
  RCGA(buf, finish);
  vsnprintf(buf, size, format, cva);
  va_end(cva);

  rc = jbl_from_json(jblp, buf);

finish:
  free(buf);
  return rc;
}
