static void cmd_avg(RCore *core, const char* input) {
	switch (input[0]) {
	case ' ':
		if (strchr (input + 1, ' ')) {
			char *a = r_str_trim_dup (input + 1);
			char *b = strchr (a, ' ');
			if (b) {
				*b++ = 0;
				r_anal_global_add (core->anal, core->offset, a, b);
			} else {
				RFlagItem *fi = r_anal_global_get (core->anal, core->offset);
				if (fi) {
					eprintf ("type %s\n", fi->type);
				}
			}
			free (a);
		}
		break;
	case '-':
		r_anal_global_del (core->anal, core->offset);
		break;
	case '\0': // "av"
		r_core_cmd0 (core, "fs+globals;f;fs-");
		break;
	default :
		r_core_cmd_help (core, help_msg_avg);
		break;
	}
}
