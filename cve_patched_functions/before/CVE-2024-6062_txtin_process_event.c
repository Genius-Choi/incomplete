static Bool txtin_process_event(GF_Filter *filter, const GF_FilterEvent *evt)
{
	GF_TXTIn *ctx = gf_filter_get_udta(filter);
	if (ctx->pid_framed) return GF_FALSE;

	switch (evt->base.type) {
	case GF_FEVT_PLAY:
		//if we have temp storage of packet, post a task and force suspended mode
		if (ctx->blob_name) {
			gf_filter_post_process_task(filter);
			ctx->is_suspended = GF_TRUE;
		}

		if (ctx->playstate==1) return ctx->pid_framed ? GF_FALSE : GF_TRUE;
		if (ctx->playstate==2) {
			ttxtin_reset(ctx);
			if (!ctx->pid_framed)
				gf_filter_post_process_task(filter);
		}
		ctx->playstate = 1;
		if ((ctx->start_range < 0.1) && (evt->play.start_range<0.1)) return ctx->pid_framed ? GF_FALSE : GF_TRUE;
		ctx->start_range = evt->play.start_range;
		ctx->seek_state = 1;
		//cancel play event if we work with full file
		return ctx->pid_framed ? GF_FALSE : GF_TRUE;

	case GF_FEVT_STOP:
		ctx->playstate = 2;
		ctx->is_setup = GF_FALSE;
		//cancel play event if we work with full file
		return ctx->pid_framed ? GF_FALSE : GF_TRUE;
	default:
		return GF_FALSE;
	}
	return GF_FALSE;
}
