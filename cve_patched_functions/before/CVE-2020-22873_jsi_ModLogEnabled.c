static bool jsi_ModLogEnabled(Jsi_Interp *interp, Jsi_Value *v1, const char *name) {
    jsi_Frame *fptr = interp->framePtr;
    Jsi_Value *v2 = Jsi_ValueObjLookup(interp, v1, name, 0);
    if (v2 && Jsi_ValueIsTrue(interp, v2)) return true;
#ifndef JSI_OMIT_INTERP_ENV
    const char *fname = fptr->funcName;
    if (!fname) return false;
    const char *cp;
    static int isinit = 0;
    static const char *ce = NULL;
    if (!isinit) {
        isinit = 1;
        ce = getenv("JSI_PARSEOPTS");
    }
    if (!ce) return false;
    int len = Jsi_Strlen(fname);
    cp = Jsi_Strstr(ce, fname);
    if (!cp || cp[len]!='=') return false;
    char buf[JSI_BUFSIZ];
    snprintf(buf, sizeof(buf), "%s=%s", fname, name);
    return (Jsi_Strstr(ce, buf) != NULL);
#endif
    return false;
}
