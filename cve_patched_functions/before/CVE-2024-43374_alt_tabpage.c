alt_tabpage(void)
{
    tabpage_T	*tp = NULL;
    int		forward;

    // Use the last accessed tab page, if possible.
    if ((tcl_flags & TCL_USELAST) && valid_tabpage(lastused_tabpage))
	return lastused_tabpage;

    // Use the next tab page, if possible.
    forward = curtab->tp_next != NULL &&
	    ((tcl_flags & TCL_LEFT) == 0 || curtab == first_tabpage);

    if (forward)
	tp = curtab->tp_next;
    else
	// Use the previous tab page.
	for (tp = first_tabpage; tp->tp_next != curtab; tp = tp->tp_next)
	    ;

    return tp;
}
