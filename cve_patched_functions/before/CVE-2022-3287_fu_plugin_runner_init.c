fu_plugin_runner_init(FuPlugin *self)
{
	FuPluginVfuncs *vfuncs = fu_plugin_get_vfuncs(self);
	FuPluginPrivate *priv = GET_PRIVATE(self);

	g_return_if_fail(FU_IS_PLUGIN(self));

	/* already done */
	if (priv->done_init)
		return;

	/* not enabled */
	if (fu_plugin_has_flag(self, FWUPD_PLUGIN_FLAG_DISABLED))
		return;

	/* optional */
	if (vfuncs->init != NULL) {
		g_debug("init(%s)", fu_plugin_get_name(self));
		vfuncs->init(self);
		priv->done_init = TRUE;
	}
}
