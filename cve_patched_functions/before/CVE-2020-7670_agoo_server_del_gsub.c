agoo_server_del_gsub(gqlSub sub) {
    gqlSub	s;
    gqlSub	prev = NULL;

    pthread_mutex_lock(&agoo_server.up_lock);
    for (s = agoo_server.gsub_list; NULL != s; s = s->next) {
	if (s == sub) {
	    if (NULL == prev) {
		agoo_server.gsub_list = s->next;
	    } else {
		prev->next = s->next;
	    }
	}
	prev = s;
    }
    pthread_mutex_unlock(&agoo_server.up_lock);
}
