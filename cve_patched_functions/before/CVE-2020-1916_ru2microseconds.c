int64_t ru2microseconds(const rusage& ru) {
  int64_t time_us = ru.ru_utime.tv_usec;
  time_us += ru.ru_stime.tv_usec;
  int64_t time_s = ru.ru_utime.tv_sec;
  time_s += ru.ru_stime.tv_sec;
  return time_us + time_s * 1000000;
}
