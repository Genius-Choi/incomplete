static int iw_bkgd_has_transparency(struct iw_context *ctx)
{
	if(!ctx->apply_bkgd) return 0;
	if(!(ctx->output_profile&IW_PROFILE_TRANSPARENCY)) return 0;
	if(ctx->apply_bkgd_strategy==IW_BKGD_STRATEGY_EARLY) return 0;
	if(ctx->bkgd_color_source==IW_BKGD_COLOR_SOURCE_FILE) {
		if(ctx->img1_bkgd_label_inputcs.c[3]<1.0) return 1;
	}
	else if(ctx->bkgd_color_source==IW_BKGD_COLOR_SOURCE_REQ) {
		if(ctx->bkgd_checkerboard) {
			if(ctx->req.bkgd2.c[3]<1.0) return 1;
		}
		if(ctx->req.bkgd.c[3]<1.0) return 1;
	}
	return 0;
}
