public char * readfd(FILE *fd)
{
	struct xbuffer xbuf;
	xbuf_init(&xbuf);
	for (;;)
	{
		int ch;
		if ((ch = getc(fd)) == '\n' || ch == EOF)
			break;
		xbuf_add_char(&xbuf, (char) ch);
	}
	xbuf_add_char(&xbuf, '\0');
	return (char *) xbuf.data;
}
