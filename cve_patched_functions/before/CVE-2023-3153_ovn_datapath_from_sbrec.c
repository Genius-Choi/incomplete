ovn_datapath_from_sbrec(const struct hmap *datapaths,
                        const struct sbrec_datapath_binding *sb)
{
    struct uuid key;

    if (!smap_get_uuid(&sb->external_ids, "logical-switch", &key) &&
        !smap_get_uuid(&sb->external_ids, "logical-router", &key)) {
        return NULL;
    }
    struct ovn_datapath *od = ovn_datapath_find(datapaths, &key);
    if (od && (od->sb == sb)) {
        return od;
    }

    return NULL;
}
