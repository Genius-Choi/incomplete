void mobi_remove_zeros(unsigned char *buffer, size_t *len) {
    size_t length = *len;
    unsigned char *end = buffer + length;
    unsigned char *buf = memchr(buffer, 0, length);
    if (buf == NULL) {
        return;
    }
    buf++;
    size_t distance = 1;
    while (buf < end) {
        if (*buf) {
            *(buf - distance) = *buf;
        } else {
            distance++;
        }
        buf++;
    }
    *len -= distance;
}
