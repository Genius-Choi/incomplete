xmlIsStreaming(xmlValidCtxtPtr ctxt) {
    xmlParserCtxtPtr pctxt;

    if (ctxt == NULL)
        return(0);
    /*
     * These magic values are also abused to detect whether we're validating
     * while parsing a document. In this case, userData points to the parser
     * context.
     */
    if ((ctxt->finishDtd != XML_CTXT_FINISH_DTD_0) &&
        (ctxt->finishDtd != XML_CTXT_FINISH_DTD_1))
        return(0);
    pctxt = ctxt->userData;
    return(pctxt->parseMode == XML_PARSE_READER);
}
