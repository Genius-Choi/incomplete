void wcall_iterate_state(WUSER_HANDLE wuser,
			 wcall_state_change_h *stateh, void *arg)	
{
	struct calling_instance *inst;
	struct wcall *wcall;
	struct le *le;

	inst = wuser2inst(wuser);
	if (!inst) {
		warning("wcall: iterate_state: invalid wuser=0x%08X\n",
			wuser);
		return;
	}

	lock_write_get(inst->lock);
	LIST_FOREACH(&inst->wcalls, le) {
		wcall = le->data;

		if (wcall->state != WCALL_STATE_NONE)
			stateh(wcall->convid, wcall->state, arg);
	}
	lock_rel(inst->lock);
}
