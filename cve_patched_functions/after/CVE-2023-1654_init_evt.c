static GF_FilterEvent *init_evt(GF_FilterEvent *evt)
{
	char **url_addr_src = NULL;
	char **url_addr_dst = NULL;
	GF_FilterEvent *an_evt = gf_malloc(sizeof(GF_FilterEvent));
	memcpy(an_evt, evt, sizeof(GF_FilterEvent));

	if (evt->base.type==GF_FEVT_FILE_DELETE) {
		url_addr_src = (char **) &evt->file_del.url;
		url_addr_dst = (char **) &an_evt->file_del.url;
	} else if (evt->base.type==GF_FEVT_SOURCE_SWITCH) {
		url_addr_src = (char **) &evt->seek.source_switch;
		url_addr_dst = (char **) &an_evt->seek.source_switch;
	} else if (evt->base.type==GF_FEVT_SEGMENT_SIZE) {
		url_addr_src = (char **) &evt->seg_size.seg_url;
		url_addr_dst = (char **) &an_evt->seg_size.seg_url;
	}
	if (url_addr_src) {
		char *url = *url_addr_src;
		if (!url) {
			*url_addr_dst = NULL;
		} else {
			u32 len = (u32) strlen(url);
			GF_RefString *rstr = gf_malloc(sizeof(GF_RefString) + sizeof(char)*len);
			rstr->ref_count=1;
			strcpy( (char *) &rstr->string[0], url);
			*url_addr_dst = (char *) &rstr->string[0];
		}
	}
	return an_evt;
}
