int s_poll_canread(s_poll_set *fds, SOCKET fd) {
    /* ignore exception if there is no error (WinCE 6.0 anomaly) */
    return FD_ISSET(fd, fds->orfds) ||
        (FD_ISSET(fd, fds->oxfds) && get_socket_error(fd));
}
