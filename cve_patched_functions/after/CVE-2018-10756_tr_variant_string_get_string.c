static char const* tr_variant_string_get_string(struct tr_variant_string const* str)
{
    char const* ret;

    switch (str->type)
    {
    case TR_STRING_TYPE_BUF:
        ret = str->str.buf;
        break;

    case TR_STRING_TYPE_HEAP:
        ret = str->str.str;
        break;

    case TR_STRING_TYPE_QUARK:
        ret = str->str.str;
        break;

    default:
        ret = NULL;
    }

    return ret;
}
