mg_get_context_info(const struct mg_context *ctx, char *buffer, int buflen)
{
#if defined(USE_SERVER_STATS)
	if ((buffer == NULL) || (buflen < 1)) {
		return mg_get_context_info_impl(ctx, NULL, 0);
	} else {
		/* Reset buffer, so we can always use strcat. */
		buffer[0] = 0;
		return mg_get_context_info_impl(ctx, buffer, buflen);
	}
#else
	(void)ctx;
	if ((buffer != NULL) && (buflen > 0)) {
		buffer[0] = 0;
	}
	return 0;
#endif
}
