static void maybe_exit(int error)
{
  if (!first_error)
    first_error= error;

  /*
    Return if --force is used; else return only if the
    last error number is in the list of error numbers
    specified using --ignore-error option.
  */
  if (opt_force || (opt_ignore_error && do_ignore_error()))
    return;
  if (mysql)
    mysql_close(mysql);
  free_resources();
  exit(error);
}
