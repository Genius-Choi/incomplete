void ogs_sbi_client_remove(ogs_sbi_client_t *client)
{
    ogs_sockaddr_t *addr = NULL;
    char buf[OGS_ADDRSTRLEN];

    ogs_assert(client);

    addr = client->node.addr;
    ogs_assert(addr);
    ogs_debug("ogs_sbi_client_remove() [%s:%d]",
                OGS_ADDR(addr, buf), OGS_PORT(addr));

    /* ogs_sbi_client_t is always created with reference context */
    if (OGS_OBJECT_IS_REF(client)) {
        OGS_OBJECT_UNREF(client);
        return;
    }

    ogs_list_remove(&ogs_sbi_self()->client_list, client);

    connection_remove_all(client);

    ogs_assert(client->t_curl);
    ogs_timer_delete(client->t_curl);
    client->t_curl = NULL;

    ogs_assert(client->multi);
    curl_multi_cleanup(client->multi);

    ogs_assert(client->node.addr);
    ogs_freeaddrinfo(client->node.addr);

    ogs_pool_free(&client_pool, client);
}
