BOOL windows_ctrl_handler(DWORD fdwCtrlType)
{
  switch (fdwCtrlType)
  {
  case CTRL_C_EVENT:
  case CTRL_BREAK_EVENT:
    handle_ctrlc_signal(SIGINT);
    /* Indicate that signal has beed handled. */  
    return TRUE;
  case CTRL_CLOSE_EVENT:
  case CTRL_LOGOFF_EVENT:
  case CTRL_SHUTDOWN_EVENT:
    handle_quit_signal(SIGINT + 1);
  }
  /* Pass signal to the next control handler function. */
  return FALSE;
}
