static ssize_t show_cursor_blink(struct device *device,
				 struct device_attribute *attr, char *buf)
{
	struct fb_info *info;
	struct fbcon_ops *ops;
	int idx, blink = -1;

	console_lock();
	idx = con2fb_map[fg_console];

	if (idx == -1 || fbcon_registered_fb[idx] == NULL)
		goto err;

	info = fbcon_registered_fb[idx];
	ops = info->fbcon_par;

	if (!ops)
		goto err;

	blink = delayed_work_pending(&ops->cursor_work);
err:
	console_unlock();
	return sysfs_emit(buf, "%d\n", blink);
}
