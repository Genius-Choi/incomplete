static int jsi_pclose(FILE *fp, int cpid)
{
#ifdef __WIN32
    return -1;
#else
    pid_t pid;
    int pstat;
    fclose(fp);
    do {
        pid = waitpid(cpid, &pstat, 0);
    } while (pid == -1 && errno == EINTR);
    return (pid == -1 ? -1 : pstat);
#endif
}
