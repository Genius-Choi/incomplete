static pj_bool_t is_transport_valid(pjsip_transport *tp, pjsip_tpmgr *tpmgr,
				    const pjsip_transport_key *key,
				    int key_len)
{
    transport *tp_entry;

    tp_entry = (transport *)pj_hash_get(tpmgr->table, key, key_len, NULL);
    if (tp_entry != NULL) {

	transport *tp_iter = tp_entry;
	do {
	    if (tp_iter->tp == tp) {
		return PJ_TRUE;
	    }
	    tp_iter = tp_iter->next;
	} while (tp_iter != tp_entry);
    }

    return PJ_FALSE;
}
