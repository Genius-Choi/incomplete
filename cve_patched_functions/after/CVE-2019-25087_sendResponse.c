void HTTPServer::sendResponse(Client* cl, HTTPResponse* resp, bool disconnect) {
	// Server Header
	resp->addHeader("Server", "httpserver/1.0");

	// Time stamp the response with the Date header
	std::string tstr;
	char tbuf[36];
	time_t rawtime;
	struct tm* ptm;
	time(&rawtime);
	ptm = gmtime(&rawtime);
	// Ex: Fri, 31 Dec 1999 23:59:59 GMT
	strftime(tbuf, 36, "%a, %d %b %Y %H:%M:%S GMT", ptm);
	tstr = tbuf;
	resp->addHeader("Date", tstr);

	// Include a Connection: close header if this is the final response sent by the server
	if (disconnect)
		resp->addHeader("Connection", "close");

	// Get raw data by creating the response (we are responsible for cleaning it up in process())
	byte* pData = resp->create();

	// Add data to the Client's send queue
	cl->addToSendQueue(new SendQueueItem(pData, resp->size(), disconnect));
}
