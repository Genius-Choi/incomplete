build_lswitch_lflows_pre_acl_and_acl(struct ovn_datapath *od,
                                     const struct hmap *port_groups,
                                     const struct chassis_features *features,
                                     struct hmap *lflows,
                                     const struct shash *meter_groups)
{
    if (od->nbs) {
        ls_get_acl_flags(od);

        build_pre_acls(od, port_groups, lflows);
        build_pre_lb(od, meter_groups, lflows);
        build_pre_stateful(od, features, lflows);
        build_acl_hints(od, features, lflows);
        build_acls(od, features, lflows, port_groups, meter_groups);
        build_qos(od, lflows);
        build_stateful(od, features, lflows);
        build_lb_hairpin(od, lflows);
        build_vtep_hairpin(od, lflows);
    }
}
