void ds_update_weights(unsigned int ticks, void *param)
{
	ds_partition_t *part;
	ds_set_p sp;

	/* do not run this routine if not in running mode */
	if (sr_get_core_status() < STATE_RUNNING)
		return;

	for (part = partitions; part; part = part->next) {
		lock_start_write(part->lock);
		for (sp = (*part->data)->sets; sp; sp = sp->next) {
			if (sp->redo_weights) {
				re_calculate_active_dsts(sp);
			}
		}
		lock_stop_write(part->lock);
	}
}
