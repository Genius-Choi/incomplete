TEST_P(UncommonParamsTest, Validate) {
  const bool disable_literal_context_modeling = std::get<0>(GetParam());
  const bool disable_ring_buffer_reallocation = std::get<1>(GetParam());

  // Test with different memory levels.
  for (uint32_t i = 1; i < 8; ++i) {
    testcompressDecompressWithUncommonParams(
        i - 1,                    // quality
        default_window_bits,      // window_bits
        default_input_block_bits, // input_block_bits
        disable_literal_context_modeling,
        Brotli::Compressor::BrotliCompressorImpl::EncoderMode::Font,
        disable_ring_buffer_reallocation);

    testcompressDecompressWithUncommonParams(
        default_quality,     // quality
        default_window_bits, // window_bits
        i + 15,              // input_block_bits
        disable_literal_context_modeling,
        Brotli::Compressor::BrotliCompressorImpl::EncoderMode::Text,
        disable_ring_buffer_reallocation);

    testcompressDecompressWithUncommonParams(
        default_quality,          // quality
        i + 10,                   // window_bits
        default_input_block_bits, // input_block_bits
        disable_literal_context_modeling,
        Brotli::Compressor::BrotliCompressorImpl::EncoderMode::Generic,
        disable_ring_buffer_reallocation);
  }
}
