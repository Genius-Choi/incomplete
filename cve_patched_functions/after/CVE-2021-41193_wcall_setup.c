int wcall_setup(void)
{
	int err = 0;
	info(APITAG "wcall_setup: starting...\n");

	err = libre_init();
	if (err) {
		warning("wcall_main: libre_init failed (%m)\n", err);
		return err;
	}

	err = avs_init(0);
	if (err) {
		warning("wcall_main: avs_init failed (%m)\n", err);
		return err;
	}

	// TODO: remove flowmgr
	err = flowmgr_init("voe");
	if (err) {
		error("wcall_main: failed to init flowmgr\n");
		return err;
	}

	log_set_min_level(LOG_LEVEL_DEBUG);

	return err;
}
