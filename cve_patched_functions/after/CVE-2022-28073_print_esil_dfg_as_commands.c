static void print_esil_dfg_as_commands(RCore *core, RAnalEsilDFG *dfg) {
	RListIter *iter, *ator;
	RGraphNode *node, *edon;
	RStrBuf *sb = r_strbuf_new ("");
	if (!sb) {
		return;
	}
	r_cons_println ("ag-");
	r_list_foreach (r_graph_get_nodes (dfg->flow), iter, node) {
		const RAnalEsilDFGNode *enode = (RAnalEsilDFGNode *)node->data;
		char *esc_str = r_str_escape (r_strbuf_get (enode->content));
		if (!esc_str) {
			r_strbuf_free (sb);
			return;
		}
		r_strbuf_set (sb, esc_str);
		if (enode->type == R_ANAL_ESIL_DFG_BLOCK_GENERATIVE) {
			r_strbuf_prepend (sb, "generative:");
		}
		char *b64_buf = r_base64_encode_dyn (r_strbuf_get (sb), sb->len);
		if (!b64_buf) {
			r_strbuf_free (sb);
			free (esc_str);
			return;
		}

		r_cons_printf ("agn %d base64:%s\n", enode->idx, b64_buf);
		free (b64_buf);
		free (esc_str);
	}
	r_strbuf_free (sb);

	r_list_foreach (r_graph_get_nodes (dfg->flow), iter, node) {
		const RAnalEsilDFGNode *enode = (RAnalEsilDFGNode *)node->data;
		r_list_foreach (r_graph_get_neighbours (dfg->flow, node), ator, edon) {
			const RAnalEsilDFGNode *edone = (RAnalEsilDFGNode *)edon->data;
			r_cons_printf ("age %d %d\n", enode->idx, edone->idx);
		}
	}
}
