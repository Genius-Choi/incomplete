int ecall_stats(struct re_printf *pf, const struct ecall *ecall)
{
	struct iflow_stats stats;
	struct json_object *jfstats = NULL;
	int err = 0;

	memset(&stats, 0, sizeof(stats));

	IFLOW_CALL(ecall->flow, get_stats,
		&stats);

	jfstats = jzon_alloc_object();
	jzon_add_str(jfstats, "remoteUserId", "%s", ecall->userid_peer);
	jzon_add_str(jfstats, "remoteClientId", "%s", ecall->clientid_peer);
	jzon_add_int(jfstats, "audioPacketsReceived", stats.apkts_recv);
	jzon_add_int(jfstats, "audioPacketsSent", stats.apkts_sent);
	jzon_add_int(jfstats, "videoPacketsReceived", stats.vpkts_recv);
	jzon_add_int(jfstats, "videoPacketsSent", stats.vpkts_sent);
	
	jzon_print(pf, jfstats);

	mem_deref(jfstats);
	return err;
}
