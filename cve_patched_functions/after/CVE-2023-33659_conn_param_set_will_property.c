conn_param_set_will_property(conn_param *cparam, property *prop)
{
	property_data *prop_data;
	prop_data = property_get_value(prop, WILL_DELAY_INTERVAL);
	if (prop_data) {
		// set expiried timestamp
		cparam->will_delay_interval = nng_clock() + prop_data->p_value.u32 * 1000;
	}
	prop_data = property_get_value(prop, PAYLOAD_FORMAT_INDICATOR);
	if (prop_data) {
		cparam->payload_format_indicator = prop_data->p_value.u8;
	}
	prop_data = property_get_value(prop, MESSAGE_EXPIRY_INTERVAL);
	if (prop_data) {
		cparam->msg_expiry_interval = prop_data->p_value.u32;
	}
	prop_data = property_get_value(prop, CONTENT_TYPE);
	if (prop_data) {
		cparam->content_type = &prop_data->p_value.str;
	}
	prop_data = property_get_value(prop, RESPONSE_TOPIC);
	if (prop_data) {
		cparam->resp_topic = &prop_data->p_value.str;
	}
	prop_data = property_get_value(prop, CORRELATION_DATA);
	if (prop_data) {
		cparam->corr_data = &prop_data->p_value.binary;
	}
	prop_data = property_get_value(prop, USER_PROPERTY);
	if (prop_data) {
		cparam->payload_user_property = &prop_data->p_value.strpair;
	}
}
