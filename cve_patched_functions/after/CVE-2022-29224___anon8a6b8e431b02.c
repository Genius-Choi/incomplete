      .WillOnce(Invoke([&](const Http::RequestHeaderMap& headers, bool) -> Http::Status {
        EXPECT_EQ(Http::Headers::get().ContentTypeValues.Grpc, headers.getContentTypeValue());
        EXPECT_EQ(std::string("/grpc.health.v1.Health/Check"), headers.getPathValue());
        EXPECT_EQ(Http::Headers::get().SchemeValues.Http, headers.getSchemeValue());
        EXPECT_NE(nullptr, headers.Method());
        EXPECT_EQ(cluster_->info_->name(), headers.getHostValue());
        EXPECT_EQ(ENVOY_OK_VAL,
                  headers.get(Http::LowerCaseString(ENVOY_OK_KEY))[0]->value().getStringView());
        EXPECT_EQ(ENVOY_COOL_VAL,
                  headers.get(Http::LowerCaseString(ENVOY_COOL_KEY))[0]->value().getStringView());
        EXPECT_EQ(
            ENVOY_AWESOME_VAL,
            headers.get(Http::LowerCaseString(ENVOY_AWESOME_KEY))[0]->value().getStringView());
        EXPECT_EQ(USER_AGENT_VAL, headers.getUserAgentValue());
        EXPECT_EQ("HTTP/2",
                  headers.get(Http::LowerCaseString(PROTOCOL_KEY))[0]->value().getStringView());
        EXPECT_EQ("127.0.0.1:0",
                  headers.get(Http::LowerCaseString(DOWNSTREAM_LOCAL_ADDRESS_KEY))[0]
                      ->value()
                      .getStringView());
        EXPECT_EQ("127.0.0.1",
                  headers.get(Http::LowerCaseString(DOWNSTREAM_LOCAL_ADDRESS_WITHOUT_PORT_KEY))[0]
                      ->value()
                      .getStringView());
        EXPECT_EQ("127.0.0.1:0",
                  headers.get(Http::LowerCaseString(DOWNSTREAM_REMOTE_ADDRESS_KEY))[0]
                      ->value()
                      .getStringView());
        EXPECT_EQ("127.0.0.1",
                  headers.get(Http::LowerCaseString(DOWNSTREAM_REMOTE_ADDRESS_WITHOUT_PORT_KEY))[0]
                      ->value()
                      .getStringView());
        Envoy::DateFormatter date_formatter("%s.%9f");
        std::string current_start_time =
            date_formatter.fromTime(dispatcher_.timeSource().systemTime());
        EXPECT_EQ(current_start_time,
                  headers.get(Http::LowerCaseString(START_TIME_KEY))[0]->value().getStringView());
        EXPECT_EQ(
            "value",
            headers.get(Http::LowerCaseString(UPSTREAM_METADATA_KEY))[0]->value().getStringView());
        EXPECT_EQ(std::chrono::milliseconds(1000).count(),
                  Envoy::Grpc::Common::getGrpcTimeout(headers).value().count());
        return Http::okStatus();
      }));
