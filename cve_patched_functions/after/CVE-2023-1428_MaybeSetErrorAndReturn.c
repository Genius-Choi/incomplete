  GPR_ATTRIBUTE_NOINLINE T MaybeSetErrorAndReturn(F error_factory,
                                                  T return_value) {
    if (!error_.ok() || eof_error_) return return_value;
    error_ = error_factory();
    begin_ = end_;
    return return_value;
  }
