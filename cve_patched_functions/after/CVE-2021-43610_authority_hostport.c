authority_hostport(pbelle_sip_messageParser ctx, belle_generic_uri_t* uri)
{
    belle_sip_messageParser_port_return port27;
    #undef	RETURN_TYPE_port27
    #define	RETURN_TYPE_port27 belle_sip_messageParser_port_return

    const char* host28;
    #undef	RETURN_TYPE_host28
    #define	RETURN_TYPE_host28 const char*

    /* Initialize rule variables
     */
    ctx->pbelle_sip_messageParser_authority_hostportTop = pbelle_sip_messageParser_authority_hostportPush(ctx);
    (SCOPE_TOP(authority_hostport))->current=uri;
    {
        // ../grammars/belle_sip_message.g:409:9: ( host ( ( COLON port )? ( semi generic_param[BELLE_SIP_PARAMETERS($authority_hostport::current)] )* ) )
        // ../grammars/belle_sip_message.g:409:13: host ( ( COLON port )? ( semi generic_param[BELLE_SIP_PARAMETERS($authority_hostport::current)] )* )
        {
            FOLLOWPUSH(FOLLOW_host_in_authority_hostport1540);
            host28=host(ctx);

            FOLLOWPOP();
            if  (HASEXCEPTION())
            {
                goto ruleauthority_hostportEx;
            }
            if (HASFAILED())
            {
                pbelle_sip_messageParser_authority_hostportPop(ctx);

                return ;
            }


            // ../grammars/belle_sip_message.g:410:3: ( ( COLON port )? ( semi generic_param[BELLE_SIP_PARAMETERS($authority_hostport::current)] )* )
            // ../grammars/belle_sip_message.g:410:4: ( COLON port )? ( semi generic_param[BELLE_SIP_PARAMETERS($authority_hostport::current)] )*
            {
                // ../grammars/belle_sip_message.g:410:4: ( COLON port )?
                {
                    int alt32=2;
                    switch ( LA(1) )
                    {
                        case COLON:
                        	{
                        		alt32=1;
                        	}
                            break;
                    }

                    switch (alt32)
                    {
                	case 1:
                	    // ../grammars/belle_sip_message.g:410:6: COLON port
                	    {
                	         MATCHT(COLON, &FOLLOW_COLON_in_authority_hostport1547);
                	        if  (HASEXCEPTION())
                	        {
                	            goto ruleauthority_hostportEx;
                	        }
                	        if (HASFAILED())
                	        {
                	            pbelle_sip_messageParser_authority_hostportPop(ctx);

                	            return ;
                	        }


                	        FOLLOWPUSH(FOLLOW_port_in_authority_hostport1549);
                	        port27=port(ctx);

                	        FOLLOWPOP();
                	        if  (HASEXCEPTION())
                	        {
                	            goto ruleauthority_hostportEx;
                	        }
                	        if (HASFAILED())
                	        {
                	            pbelle_sip_messageParser_authority_hostportPop(ctx);

                	            return ;
                	        }


                	        if ( BACKTRACKING==0 )
                	        {
                	            belle_generic_uri_set_port((SCOPE_TOP(authority_hostport))->current,
                	            port27.ret
                	            );
                	        }


                	    }
                	    break;

                    }
                }

                // ../grammars/belle_sip_message.g:411:3: ( semi generic_param[BELLE_SIP_PARAMETERS($authority_hostport::current)] )*

                for (;;)
                {
                    int alt33=2;
                    alt33 = cdfa33.predict(ctx, RECOGNIZER, ISTREAM, &cdfa33);
                    if  (HASEXCEPTION())
                    {
                        goto ruleauthority_hostportEx;
                    }
                    if (HASFAILED())
                    {
                        pbelle_sip_messageParser_authority_hostportPop(ctx);

                        return ;
                    }

                    switch (alt33)
                    {
                	case 1:
                	    // ../grammars/belle_sip_message.g:411:4: semi generic_param[BELLE_SIP_PARAMETERS($authority_hostport::current)]
                	    {
                	        FOLLOWPUSH(FOLLOW_semi_in_authority_hostport1558);
                	        semi(ctx);

                	        FOLLOWPOP();
                	        if  (HASEXCEPTION())
                	        {
                	            goto ruleauthority_hostportEx;
                	        }
                	        if (HASFAILED())
                	        {
                	            pbelle_sip_messageParser_authority_hostportPop(ctx);

                	            return ;
                	        }


                	        FOLLOWPUSH(FOLLOW_generic_param_in_authority_hostport1561);
                	        generic_param(ctx, BELLE_SIP_PARAMETERS((SCOPE_TOP(authority_hostport))->current));

                	        FOLLOWPOP();
                	        if  (HASEXCEPTION())
                	        {
                	            goto ruleauthority_hostportEx;
                	        }
                	        if (HASFAILED())
                	        {
                	            pbelle_sip_messageParser_authority_hostportPop(ctx);

                	            return ;
                	        }


                	    }
                	    break;

                	default:
                	    goto loop33;	/* break out of the loop */
                	    break;
                    }
                }
                loop33: ; /* Jump out to here if this rule does not match */


            }


            if ( BACKTRACKING==0 )
            {
                belle_generic_uri_set_host((SCOPE_TOP(authority_hostport))->current,
                host28
                );
            }


        }

    }

    // This is where rules clean up and exit
    //
    goto ruleauthority_hostportEx; /* Prevent compiler warnings */
    ruleauthority_hostportEx: ;


                if (HASEXCEPTION())
                {

                // This is ugly.  We set the exception type to ANTLR3_RECOGNITION_EXCEPTION so we can always
                // catch them.
                //PREPORTERROR();
                EXCEPTION->type = ANTLR3_RECOGNITION_EXCEPTION;
                }

    pbelle_sip_messageParser_authority_hostportPop(ctx);

    return ;
}
