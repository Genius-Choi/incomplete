int EpollSocket::multi_thread_handle_write_event(epoll_event &e) {
    EpollContext *hc = (EpollContext *) e.data.ptr;
    if (hc == NULL) {
        LOG_WARN("Get epoll context fail in write event!");
        return -1;
    }
    hc->_ctx_status = CONTEXT_WRITING;
    
    update_interact_time(hc, time(NULL));

    TaskData *tdata = new TaskData();
    tdata->event = e;
    tdata->es = this;

    Task *task = new Task(write_func, tdata);
    int ret = _thread_pool->add_task(task);
    if (ret != 0) {
        close_and_release(e);
        delete tdata;
        delete task;
    }

    return 0;
}
