int open_input_file( const char *fname )
{
    char cwd[1024];

    if( getcwd( cwd, sizeof( cwd ) ) != NULL ) {
        strcat( cwd, "/../../tests/inputs/" );
    } else {
        perror( "getcwd() error" );
		return -1;
    }

	if( (fname==NULL) || ((strlen(cwd) + strlen(fname))>sizeof(cwd)))
	{
		perror( "file name too long error" );
		return -1;
    }	
	strcat( cwd, fname );	
    int fd = open( cwd, O_RDONLY );

    if( fd < 0 ) {
        printf( "File %s open error\n", fname );
    }

    return fd;
}
