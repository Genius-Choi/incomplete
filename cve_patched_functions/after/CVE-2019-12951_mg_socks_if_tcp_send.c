static int mg_socks_if_tcp_send(struct mg_connection *c, const void *buf,
                                size_t len) {
  int res;
  struct socksdata *d = (struct socksdata *) c->iface->data;
  if (d->s == NULL) return -1;
  res = (int) mbuf_append(&d->s->send_mbuf, buf, len);
  DBG(("%p -> %d -> %p", c, res, d->s));
  return res;
}
