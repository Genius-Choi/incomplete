bool generate_challenge(std::vector<uint8_t>& vector)
{
    bool returnedValue = false;
    BIGNUM bn;
    BN_init(&bn);

    if(BN_rand(&bn, 512, 0 /*BN_RAND_TOP_ONE*/, 0 /*BN_RAND_BOTTOM_ANY*/));
    {
        int len = BN_num_bytes(&bn);
        vector.resize(len);

        if(BN_bn2bin(&bn, vector.data()) == len)
            returnedValue = true;
        else
            logError(AUTHENTICATION, "OpenSSL library cannot store challenge");
    }

    BN_clear_free(&bn);

    return returnedValue;
}
