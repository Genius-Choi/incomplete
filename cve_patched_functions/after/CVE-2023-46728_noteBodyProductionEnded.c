ClientHttpRequest::noteBodyProductionEnded(BodyPipe::Pointer)
{
    assert(!virginHeadSource);

    // distinguish this code path from future noteBodyProducerAborted() that
    // would continue storing/delivering (truncated) reply if necessary (TODO)
    receivedWholeAdaptedReply = true;

    // should we end request satisfaction now?
    if (adaptedBodySource != nullptr && adaptedBodySource->exhausted())
        endRequestSatisfaction();
}
