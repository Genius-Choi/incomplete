size_t DataHolderHelper::serialized_size(const DataHolderSeq& data_holders, size_t current_alignment)
{
    size_t initial_alignment = current_alignment;

    current_alignment += 4 + alignment(current_alignment, 4);
    for(auto data_holder = data_holders.begin(); data_holder != data_holders.end(); ++data_holder)
        current_alignment += serialized_size(*data_holder, current_alignment);

    return current_alignment - initial_alignment;
}
