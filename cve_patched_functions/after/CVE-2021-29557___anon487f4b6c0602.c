      thread_pool->workers->Schedule([&, i]() {
        f(i);
        counter.DecrementCount();
      });
