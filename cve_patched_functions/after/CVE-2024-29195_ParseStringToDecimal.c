static int ParseStringToDecimal(const char *src, int* dst)
{
    int result;
    char* next;
    long num = strtol(src, &next, 0);
    if (src == next || num < INT_MIN || num > INT_MAX)
    {
        result = EOF;
    }
    else
    {
        result = 1;
    }
    if (num < INT_MIN) num = INT_MIN;
    if (num > INT_MAX) num = INT_MAX;
    *dst = (int)num;
    return result;
}
