static int fs_isDir(lua_State *L) {
    lastCFunction = __func__;
    const path_t path = fixpath(get_comp(L), checkstring(L, 1), true);
    if (path.empty()) {
        lua_pushboolean(L, false);
        return 1;
    }
    if (std::regex_search((*path.begin()).native(), pathregex("^\\d+:"))) {
        try {lua_pushboolean(L, get_comp(L)->virtualMounts[(unsigned)std::stoul((*path.begin()).native())]->path(path.lexically_relative(*path.begin())).isDir);} 
        catch (...) {lua_pushboolean(L, false);}
    } else {
        std::error_code e;
        lua_pushboolean(L, fs::is_directory(path, e));
    }
    return 1;
}
