static pj_status_t render_src_frame(vconf_port *src, vconf_port *sink,
				    unsigned transmitter_idx)
{
    pj_status_t status;
    render_state *rs = sink->render_states[transmitter_idx];

    if (sink->transmitter_cnt == 1 && (!rs || !rs->converter)) {
	/* The only transmitter and no conversion needed */
	pj_assert(src->get_buf_size <= sink->put_buf_size);
	pj_memcpy(sink->put_buf, src->get_buf, src->get_buf_size);
    } else if (rs && rs->converter) {
	pjmedia_frame src_frame, dst_frame;
	
	pj_bzero(&src_frame, sizeof(src_frame));
	src_frame.buf = src->get_buf;
	src_frame.size = src->get_buf_size;

	pj_bzero(&dst_frame, sizeof(dst_frame));
	dst_frame.buf = sink->put_buf;
	dst_frame.size = sink->put_buf_size;

	status = pjmedia_converter_convert2(rs->converter,
					    &src_frame,
					    &rs->src_frame_size,
					    &rs->src_rect.coord,
					    &dst_frame,
					    &rs->dst_frame_size,
					    &rs->dst_rect.coord,
					    NULL);
	if (status != PJ_SUCCESS) {
	    PJ_PERROR(4,(THIS_FILE, status,
			 "Port id %d: converter failed in "
			 "rendering frame from port id %d",
			 sink->idx, transmitter_idx));
	    return status;
	}
    }

    return PJ_SUCCESS;
}
