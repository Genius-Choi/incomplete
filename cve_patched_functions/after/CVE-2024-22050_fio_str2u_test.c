FIO_FUNC void fio_str2u_test(void) {
  fprintf(stderr, "=== Testing fio_u2strX and fio_u2strX functions.\n");
  char buffer[32];
  for (int64_t i = -1024; i < 1024; ++i) {
    fio_u2str64(buffer, i);
    __asm__ volatile("" ::: "memory");
    FIO_ASSERT((int64_t)fio_str2u64(buffer) == i,
               "fio_u2str64 / fio_str2u64  mismatch %zd != %zd",
               (ssize_t)fio_str2u64(buffer), (ssize_t)i);
  }
  for (int32_t i = -1024; i < 1024; ++i) {
    fio_u2str32(buffer, i);
    __asm__ volatile("" ::: "memory");
    FIO_ASSERT((int32_t)fio_str2u32(buffer) == i,
               "fio_u2str32 / fio_str2u32  mismatch %zd != %zd",
               (ssize_t)(fio_str2u32(buffer)), (ssize_t)i);
  }
  for (int16_t i = -1024; i < 1024; ++i) {
    fio_u2str16(buffer, i);
    __asm__ volatile("" ::: "memory");
    FIO_ASSERT((int16_t)fio_str2u16(buffer) == i,
               "fio_u2str16 / fio_str2u16  mismatch %zd != %zd",
               (ssize_t)(fio_str2u16(buffer)), (ssize_t)i);
  }
  fprintf(stderr, "* passed.\n");
}
