void propsync_get_states(struct econn_props *props,
			 bool *vstate_present, 
			 int  *vstate, 
			 bool *muted_present,
			 bool *muted)
{
	const char *vr;
	const char *mt;

	if (!props) {
		return;
	}

	*vstate = ICALL_VIDEO_STATE_STOPPED;
	*vstate_present = false;
	*muted = 0;
	*muted_present = false;

	vr = econn_props_get(props, "videosend");
	if (vr) {
		*vstate_present = true;
		if (strcmp(vr, "true") == 0) {
			*vstate = ICALL_VIDEO_STATE_STARTED;
		}
		else if (strcmp(vr, "paused") == 0) {
			*vstate = ICALL_VIDEO_STATE_PAUSED;
		}
	}

	vr = econn_props_get(props, "screensend");
	if (vr) {
		*vstate_present = true;
		if (strcmp(vr, "true") == 0) {
			// screenshare overrides video started
			*vstate = ICALL_VIDEO_STATE_SCREENSHARE;
		}
		else if (strcmp(vr, "paused") == 0 &&
			ICALL_VIDEO_STATE_STARTED != *vstate) {
			// video started overrides screenshare paused
			*vstate = ICALL_VIDEO_STATE_PAUSED;
		}
	}
    
	mt = econn_props_get(props, "muted");
	if (mt) {
		*muted_present = true;
		*muted = (strcmp(mt, "true") == 0);
	}

}
