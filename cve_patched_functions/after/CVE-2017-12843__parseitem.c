static int _parseitem(struct dlistsax_state *s, struct buf *buf)
{
    const char *sp;
    if (*s->p == '"')
        return _parseqstring(s, buf);
    else if (*s->p == '{')
        return _parseliteral(s, buf);

    sp = memchr(s->p, ' ', s->end - s->p);
    if (!sp) sp = s->end;
    while (sp[-1] == ')' && sp > s->p) sp--;
    /* this is much faster because it doesn't do a reset and check the MMAP flag */
    buf->len = 0;
    buf_appendmap(buf, s->p, sp - s->p);
    s->p = sp;
    return 0; /* this could be the last thing, so end is OK */
}
