virtio_gpio_write_dsdt(struct pci_vdev *dev)
{
	dsdt_line("");
	dsdt_line("Device (AGPI)");
	dsdt_line("{");
	dsdt_line("    Name (_ADR, 0x%04X%04X)", dev->slot, dev->func);
	dsdt_line("    Name (_DDN, \"Virtio GPIO Controller \")");
	dsdt_line("    Name (_UID, One)");
	dsdt_line("    Name (LINK, \"\\\\_SB_.PCI0.AGPI\")");
	dsdt_line("    Method (_CRS, 0, NotSerialized)");
	dsdt_line("    {");
	dsdt_line("    }");
	dsdt_line("}");
	dsdt_line("");
	dsdt_line("Scope (_SB)");
	dsdt_line("{");
	dsdt_line("    Method (%s, 2, Serialized)", PIO_GPIO_CM_SET);
	dsdt_line("    {");
	dsdt_line("        Local0 = (0x%08x + (Arg0 << 2))", gpio_pio_start);
	dsdt_line("        OperationRegion (GPOR, SystemIO, Local0, 0x04)");
	dsdt_line("        Field (GPOR, DWordAcc, NoLock, Preserve)");
	dsdt_line("        {");
	dsdt_line("            TEMP,	2");
	dsdt_line("        }");
	dsdt_line("        TEMP = Arg1");
	dsdt_line("    }");
	dsdt_line("");
	dsdt_line("    Method (%s, 1, Serialized)", PIO_GPIO_CM_GET);
	dsdt_line("    {");
	dsdt_line("        Local0 = (0x%08x + (Arg0 << 2))", gpio_pio_start);
	dsdt_line("        OperationRegion (GPOR, SystemIO, Local0, 0x04)");
	dsdt_line("        Field (GPOR, DWordAcc, NoLock, Preserve)");
	dsdt_line("        {");
	dsdt_line("            TEMP,    1,");
	dsdt_line("        }");
	dsdt_line("        Return (TEMP)");
	dsdt_line("    }");
	dsdt_line("}");
}
