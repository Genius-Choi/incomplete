static void icall_audio_estab_handler(struct icall *icall, const char *userid,
				      const char *clientid, bool update,
				      void *arg)
{
	struct wcall *wcall = arg;
	struct calling_instance *inst = wcall ? wcall->inst : NULL;
	char peer_userid_anon[ANON_ID_LEN];
	char peer_clientid_anon[ANON_CLIENT_LEN];
	char convid_anon[ANON_ID_LEN];

	if (!WCALL_VALID(wcall)) {
		warning("wcall(%p): ecall_audio_estab_handler: "
			"invalid wcall inst=%p\n", wcall, inst);
		return;
	}

	info("wcall(%p): audio established(video=%d): "
	     "convid=%s peer_userid=%s peer_clientid=%s inst=%p mm=%p\n",
	     wcall, wcall->video.video_call,
	     anon_id(convid_anon, wcall->convid),
	     anon_id(peer_userid_anon, userid),
	     anon_client(peer_clientid_anon, clientid), inst, inst->mm);

	// TODO: check this, it should not be necessary
	msystem_stop_silencing();
	
	info(APITAG "wcall(%p): estabh(%p) peer_userid=%s\n",
	     wcall, inst->estabh, anon_id(peer_userid_anon, userid));

	if (!update && inst->estabh) {
		uint64_t now = tmr_jiffies();
		inst->estabh(wcall->convid, userid, clientid, inst->arg);

		info(APITAG "wcall(%p): estabh took %llu ms \n",
		     wcall, tmr_jiffies() - now);
	}
	if (wcall->conv_type == WCALL_CONV_TYPE_ONEONONE) {
		if (!update && inst->group.json.chgh)
			call_group_change_json(inst, wcall);
	}
}
