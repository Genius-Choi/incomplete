uri_type str2uri_type(char * buf)
{
	int scheme = 0;
	uri_type type = ERROR_URI_T;
	scheme=buf[0]+(buf[1]<<8)+(buf[2]<<16)+(buf[3]<<24);
	scheme|=0x20202020;
	if (scheme==SIP_SCH){
		type=SIP_URI_T;
	}else if(scheme==SIPS_SCH){
		if(buf[4]==':')
			type=SIPS_URI_T;
		else type = ERROR_URI_T;
	}else if (scheme==TEL_SCH){
		type=TEL_URI_T;
	}else if (scheme==URN_SERVICE_SCH){
		if (memcmp(buf+3,URN_SERVICE_STR,URN_SERVICE_STR_LEN) == 0) {
			type=URN_SERVICE_URI_T;
		}
		else if (memcmp(buf+3,URN_NENA_SERVICE_STR,URN_NENA_SERVICE_STR_LEN) == 0) {
			type=URN_NENA_SERVICE_URI_T;
		}
	}
	return type;
}
