static req::ptr<LdapLink> get_valid_ldap_link_resource(const T& link) {
  auto ld = dyn_cast_or_null<LdapLink>(link);
  if (ld == nullptr || ld->isInvalid()) {
    raise_warning("Not a valid ldap link resource");
    return nullptr;
  }
  return ld;
}
