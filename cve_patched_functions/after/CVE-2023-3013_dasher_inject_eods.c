static void dasher_inject_eods(GF_DasherCtx *ctx, GF_DashStream *ds)
{
	//in dynamic mode, send end of dash segment marker to flush segment right away, otherwise we will
	//flush the segment at next segment start which could be after the segment AST => 404
	//
	//if subdur no need to do so as we will close the muxer right after
	//if sigfrag no need to do so since we don't generate media packets
	if (!ctx->subdur && (ctx->dmode>=GF_DASH_DYNAMIC) && !ctx->sigfrag && !ctx->do_index) {
		GF_FilterPacket *eods_pck;
		eods_pck = gf_filter_pck_new_alloc(ds->opid, 0, NULL);
		if (eods_pck) {
			gf_filter_pck_set_property(eods_pck, GF_PROP_PCK_EODS, &PROP_BOOL(GF_TRUE) );
			gf_filter_pck_send(eods_pck);
		}
	}
}
