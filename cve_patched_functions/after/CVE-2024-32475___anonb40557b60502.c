  config_helper_.addConfigModifier([](envoy::config::bootstrap::v3::Bootstrap& bootstrap) {
    envoy::config::bootstrap::v3::Bootstrap::StaticResources* static_resources =
        bootstrap.mutable_static_resources();
    envoy::config::cluster::v3::Cluster* cluster = static_resources->mutable_clusters(0);
    envoy::config::cluster::v3::CircuitBreakers* circuit_breakers =
        cluster->mutable_circuit_breakers();
    circuit_breakers->add_thresholds()->mutable_max_connections()->set_value(1);
    ConfigHelper::HttpProtocolOptions protocol_options;
    protocol_options.mutable_explicit_http_config()
        ->mutable_http2_protocol_options()
        ->mutable_max_concurrent_streams()
        ->set_value(1);
    ConfigHelper::setProtocolOptions(*bootstrap.mutable_static_resources()->mutable_clusters(0),
                                     protocol_options);
  });
