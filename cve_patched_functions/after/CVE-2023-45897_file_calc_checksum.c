static uint16_t file_calc_checksum(struct exfat_de_iter *iter)
{
	uint16_t checksum;
	struct exfat_dentry *file_de, *de;
	int i;

	checksum = 0;
	exfat_de_iter_get(iter, 0, &file_de);

	exfat_calc_dentry_checksum(file_de, &checksum, true);
	for (i = 1; i <= file_de->file_num_ext; i++) {
		exfat_de_iter_get(iter, i, &de);
		exfat_calc_dentry_checksum(de, &checksum, false);
	}
	return checksum;
}
