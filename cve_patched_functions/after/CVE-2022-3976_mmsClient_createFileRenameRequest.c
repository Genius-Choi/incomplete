mmsClient_createFileRenameRequest(uint32_t invokeId, ByteBuffer* request, const char* currentFileName, const char* newFileName)
{
    uint32_t invokeIdSize = BerEncoder_UInt32determineEncodedSize(invokeId);

    uint32_t parameterSize = 0;

    parameterSize += encodeFileSpecification(0xa0, currentFileName, NULL, 0);

    parameterSize += encodeFileSpecification(0xa1, newFileName, NULL, 0);

    uint32_t confirmedRequestPduSize = 2  + invokeIdSize + 2 + BerEncoder_determineLengthSize(parameterSize) + parameterSize;

    int bufPos = 0;
    uint8_t* buffer = request->buffer;

    bufPos = BerEncoder_encodeTL(0xa0, confirmedRequestPduSize, buffer, bufPos);
    bufPos = BerEncoder_encodeTL(0x02, invokeIdSize, buffer, bufPos);
    bufPos = BerEncoder_encodeUInt32(invokeId, buffer, bufPos);

    /* Encode FileRead tag (context | structured ) [75 = 4bh] */
    buffer[bufPos++] = 0xbf;
    buffer[bufPos++] = 0x4b;
    bufPos = BerEncoder_encodeLength(parameterSize, buffer, bufPos);

    bufPos = encodeFileSpecification(0xa0, currentFileName, buffer, bufPos);

    bufPos = encodeFileSpecification(0xa1, newFileName, buffer, bufPos);

    request->size = bufPos;
}
