gerbv_transform_coord(double *x, double *y,
			const gerbv_user_transformation_t *trans)
{

	*x = trans->scaleX * *x;
	*y = trans->scaleY * *y;

	gerbv_rotate_coord(x, y, trans->rotation);

	if (trans->mirrorAroundY)
		*x = -*x;

	if (trans->mirrorAroundX)
		*y = -*y;

	*x += trans->translateX;
	*y += trans->translateY;
}
