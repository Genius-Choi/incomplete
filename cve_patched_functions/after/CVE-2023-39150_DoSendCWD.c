void SrvAnsiImpl::DoSendCWD(LPCWSTR asCmd, ssize_t cchLen)
{
	// We need zero-terminated string
	wchar_t* pszCWD = (wchar_t*)malloc((cchLen + 1)*sizeof(*asCmd));

	if (pszCWD)
	{
		EscCopyCtrlString(pszCWD, asCmd, cchLen);

		// Sends CECMD_STORECURDIR into RConServer
		SendCurrentDirectory(gState.realConWnd_, pszCWD);

		free(pszCWD);
	}
}
