static bool msg_body_handler(int msg_att_type, struct mailimap_msg_att_body_section * section,
                             const char * bytes, size_t len, void * context)
{
    DataStreamDecoder * decoder = (DataStreamDecoder *)context;

    AutoreleasePool * pool = new AutoreleasePool();

    Data * data = Data::dataWithBytes(bytes, (unsigned int) len);
    ErrorCode error = decoder->appendData(data);

    pool->release();

    return error == ErrorNone;
}
