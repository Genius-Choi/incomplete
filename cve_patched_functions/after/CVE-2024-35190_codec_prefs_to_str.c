static int codec_prefs_to_str(const struct ast_stream_codec_negotiation_prefs *prefs,
	const void *obj, const intptr_t *args, char **buf)
{
	struct ast_str *codecs = ast_str_create(AST_STREAM_MAX_CODEC_PREFS_LENGTH);

	if (!codecs) {
		return -1;
	}

	*buf = ast_strdup(ast_stream_codec_prefs_to_str(prefs, &codecs));
	ast_free(codecs);

	return 0;
}
