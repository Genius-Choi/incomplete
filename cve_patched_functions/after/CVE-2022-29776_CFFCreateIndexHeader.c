    void CFontFileType1::CFFCreateIndexHeader(FontFileOutputFunc pOutputFunc, void *pOutputStream, CArray<Type1Charstring> aObjects)
    {
        char nChar;
        int nCount = aObjects.GetSize();
        if ( 0 == nCount )
        {
            pOutputFunc( pOutputStream, "\x00\x00\x00", 3 );
            return;
        }

        // Первые два байта - количество элементов
        WriteChar( nCount >> 8 );
        WriteChar( nCount & 0xFF );
        // Размер сдвигов, ставим по максимуму
        WriteChar( 0x04 );

        int nRelativeOffset = 1;
        for ( int nIndex = 0; nIndex < nCount + 1; nIndex++ )
        {
            WriteChar( (nRelativeOffset >> 24) & 0xFF );
            WriteChar( (nRelativeOffset >> 16) & 0xFF );
            WriteChar( (nRelativeOffset >>  8) & 0xFF );
            WriteChar( (nRelativeOffset)       & 0xFF );

            if ( nIndex < nCount )
                nRelativeOffset += aObjects[nIndex].arrCharstring.GetSize();
        }

        for ( int nI = 0; nI < nCount; nI++ )
        {
            for ( int nJ = 0; nJ < aObjects[nI].arrCharstring.GetSize(); nJ++ )
            {
                WriteChar( aObjects[nI].arrCharstring[nJ].nValue & 0xFF );
            }
        }
    }
