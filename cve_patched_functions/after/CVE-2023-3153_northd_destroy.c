northd_destroy(struct northd_data *data)
{
    struct ovn_northd_lb *lb;
    HMAP_FOR_EACH_POP (lb, hmap_node, &data->lbs) {
        ovn_northd_lb_destroy(lb);
    }
    hmap_destroy(&data->lbs);

    struct ovn_lb_group *lb_group;
    HMAP_FOR_EACH_POP (lb_group, hmap_node, &data->lb_groups) {
        ovn_lb_group_destroy(lb_group);
    }
    hmap_destroy(&data->lb_groups);

    struct ovn_port_group *pg;
    HMAP_FOR_EACH_SAFE (pg, key_node, &data->port_groups) {
        ovn_port_group_destroy(&data->port_groups, pg);
    }

    hmap_destroy(&data->port_groups);
    hmap_destroy(&data->bfd_connections);

    struct shash_node *node;
    SHASH_FOR_EACH_SAFE (node, &data->meter_groups) {
        shash_delete(&data->meter_groups, node);
    }
    shash_destroy(&data->meter_groups);

    /* XXX Having to explicitly clean up macam here
     * is a bit strange. We don't explicitly initialize
     * macam in this module, but this is the logical place
     * to clean it up. Ideally, more IPAM logic can be factored
     * out of ovn-northd and this can be taken care of there
     * as well.
     */
    cleanup_macam();

    destroy_datapaths_and_ports(&data->datapaths, &data->ports,
                                &data->lr_list);
    destroy_debug_config();
}
