bool RTPSParticipantImpl::createAndAssociateReceiverswithEndpoint(Endpoint * pend){
    /*	This function...
        - Asks the network factory for new resources
        - Encapsulates the new resources within the ReceiverControlBlock list
        - Associated the endpoint to the new elements in the list
        - Launches the listener thread
        */
    // 1 - Ask the network factory to generate the elements that do still not exist
    std::vector<ReceiverResource> newItems;							//Store the newly created elements
    std::vector<ReceiverResource> newItemsBuffer;					//Store intermediate results
    //Iterate through the list of unicast and multicast locators the endpoint has... unless its empty
    //In that case, just use the standard
    if (pend->getAttributes()->unicastLocatorList.empty() && pend->getAttributes()->multicastLocatorList.empty()){
        //Default unicast
        pend->getAttributes()->unicastLocatorList = m_att.defaultUnicastLocatorList;
        //Default multicast
        pend->getAttributes()->multicastLocatorList = m_att.defaultMulticastLocatorList;
    }
    createReceiverResources(pend->getAttributes()->unicastLocatorList, false);
    createReceiverResources(pend->getAttributes()->multicastLocatorList, false);

    // Associate the Endpoint with ReceiverResources inside ReceiverControlBlocks
    assignEndpointListenResources(pend); 
    return true;
}
