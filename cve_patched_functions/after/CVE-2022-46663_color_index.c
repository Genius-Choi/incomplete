color_index(attr)
	int attr;
{
	if (use_color)
	{
		switch (attr & AT_COLOR)
		{
		case AT_COLOR_ATTN:    return 0;
		case AT_COLOR_BIN:     return 1;
		case AT_COLOR_CTRL:    return 2;
		case AT_COLOR_ERROR:   return 3;
		case AT_COLOR_LINENUM: return 4;
		case AT_COLOR_MARK:    return 5;
		case AT_COLOR_PROMPT:  return 6;
		case AT_COLOR_RSCROLL: return 7;
		case AT_COLOR_SEARCH:  return 8;
		case AT_COLOR_HEADER:  return 9;
		}
	}
	if (attr & AT_UNDERLINE)
		return 10;
	if (attr & AT_BOLD)
		return 11;
	if (attr & AT_BLINK)
		return 12;
	if (attr & AT_STANDOUT)
		return 13;
	return -1;
}
