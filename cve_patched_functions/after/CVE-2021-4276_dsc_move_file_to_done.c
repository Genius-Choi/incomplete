DSCIOManager::dsc_move_file_to_done(bfs::path path_src) {
    
    bfs::path path_done ("./done");
    std::string done_sub_dir;
    bfs::path path_date;
    bfs::path path_done_date;
    bfs::path path_newfile;
    
    try {
        switch (input_) {
            case XML: 
                done_sub_dir = "dscdata";
                path_date = path_src.parent_path().stem(); //./incoming/yyyymmdd/*.xml --> yyyymmdd
                break;
            case DAT:
                done_sub_dir = "dat";
                path_date = path_src.parent_path().stem(); // ./yyyymmdd/*.dat --> yyyymmdd
                break;
            default:
                // Should never get here!
                cerr << "Error: Unknown input source" << endl;
                exit(1);
                break;
        }
        path_done_date = path_done/path_date/done_sub_dir;
        if (!bfs::exists(path_done_date)) {
                bfs::create_directories(path_done_date);
        }
        path_newfile = path_done_date/path_src.filename();
        bfs::rename(path_src, path_newfile);
        cout << currentDateTime() << ": Moved:     " << path_src.string() << " to " <<  path_newfile.string() << endl;
    }
    catch (const bfs::filesystem_error& ex) {
        cout << "FS Error: " << ex.what() << endl;
        exit(1);
    }
    catch (std::exception &e) {
        cerr << "Error moving file to done: " << e.what() << endl;
        exit(1);
    }
 
}
