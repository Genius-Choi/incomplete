YCPTerm IniAgent::generateSysConfigTemplate (string fn)
{
    YCPTerm t (string ("IniAgent"));
    YCPMap m;
    YCPList l;

    // file name
    t->add (YCPString (fn));

    l->add (YCPString ("flat"));
    l->add (YCPString ("line_can_continue"));
    l->add (YCPString ("global_values"));
    l->add (YCPString ("join_multiline"));
    l->add (YCPString ("comments_last"));
    m->add (YCPString ("options"), l);

    // comments
    l = YCPList ();
    l->add (YCPString ("^[ \t]*#.*$"));
    l->add (YCPString ("#.*"));
    l->add (YCPString ("^[ \t]*$"));
    m->add (YCPString ("comments"), l);

    // sections are empty so we will omit them

    // params
    YCPMap param;
    YCPList lp;
    l = YCPList ();
    lp->add (YCPString ("([[:alnum:]_]+)[ \t]*=[ \t]*\"([^\"]*)\""));
    lp->add (YCPString ("%s=\"%s\""));
    param->add (YCPString ("match"), lp);
    lp = YCPList ();
    lp->add (YCPString ("([[:alnum:]_]+)[ \t]*=[ \t]*\"([^\"]*)"));
    lp->add (YCPString ("([^\"]*)\""));
    param->add (YCPString ("multiline"), lp);
    l->add (param);

    lp = YCPList ();
    param = YCPMap ();
    lp->add (YCPString ("^[ \t]*([[:alpha:]_][[:alnum:]_]*)[ \t]*=[ \t]*'([^']*)'"));
    lp->add (YCPString ("%s='%s'"));
    param->add (YCPString ("match"), lp);
    lp = YCPList ();
    lp->add (YCPString ("([[:alpha:]_][[:alnum:]_]*)[ \t]*=[ \t]*'([^']*)"));
    lp->add (YCPString ("([^']*)'"));
    param->add (YCPString ("multiline"), lp);
    l->add (param);

    lp = YCPList ();
    param = YCPMap ();
    lp->add (YCPString ("([[:alnum:]_]+)[ \t]*=[ \t]*([^\"]*[^ \t\"]|)[ \t]*$"));
    lp->add (YCPString ("%s=\"%s\""));
    param->add (YCPString ("match"), lp);
    l->add (param);

    m->add (YCPString ("params"), l);
    t->add (m);
    return t;
}
