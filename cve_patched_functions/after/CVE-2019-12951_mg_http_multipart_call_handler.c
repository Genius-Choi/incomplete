static size_t mg_http_multipart_call_handler(struct mg_connection *c, int ev,
                                             const char *data,
                                             size_t data_len) {
  struct mg_http_multipart_part mp;
  struct mg_http_proto_data *pd = mg_http_get_proto_data(c);
  memset(&mp, 0, sizeof(mp));

  mp.var_name = pd->mp_stream.var_name;
  mp.file_name = pd->mp_stream.file_name;
  mp.user_data = pd->mp_stream.user_data;
  mp.data.p = data;
  mp.data.len = data_len;
  mp.num_data_consumed = data_len;
  mg_call(c, pd->endpoint_handler, c->user_data, ev, &mp);
  pd->mp_stream.user_data = mp.user_data;
  pd->mp_stream.data_avail = (mp.num_data_consumed != data_len);
  return mp.num_data_consumed;
}
