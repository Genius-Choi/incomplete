_netplan_nameserver_iter_next(struct nameserver_iter* it)
{
    if (it->netdef->ip4_nameservers && it->ip4_index < it->netdef->ip4_nameservers->len) {
        return g_array_index(it->netdef->ip4_nameservers, char*, it->ip4_index++);
    }

    if (it->netdef->ip6_nameservers && it->ip6_index < it->netdef->ip6_nameservers->len) {
        return g_array_index(it->netdef->ip6_nameservers, char*, it->ip6_index++);
    }

    return NULL;
}
