static int callback_ciba_user_list(const struct _u_request * request, struct _u_response * response, void * user_data) {
  struct _oidc_config * config = (struct _oidc_config *)user_data;
  json_t * j_session = config->glewlwyd_config->glewlwyd_callback_check_session_valid(config->glewlwyd_config, request, NULL), * j_result;

  if (check_result_value(j_session, G_OK)) {
    j_result = get_ciba_requests_for_user(config, json_string_value(json_object_get(json_object_get(json_object_get(j_session, "session"), "user"), "username")));
    if (check_result_value(j_result, G_OK)) {
      ulfius_set_json_body_response(response, 200, json_object_get(j_result, "ciba"));
    } else {
      y_log_message(Y_LOG_LEVEL_ERROR, "callback_ciba_user_list - Error get_ciba_requests_for_user");
      response->status = 500;
    }
    json_decref(j_result);
  } else {
    response->status = 401;
  }
  json_decref(j_session);
  return U_CALLBACK_CONTINUE;
}
