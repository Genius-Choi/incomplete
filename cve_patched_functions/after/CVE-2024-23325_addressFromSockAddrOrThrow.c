Address::InstanceConstSharedPtr addressFromSockAddrOrThrow(const sockaddr_storage& ss,
                                                           socklen_t ss_len, bool v6only) {
  // Though we don't have any test coverage where address validation in addressFromSockAddr() fails,
  // this code is called in worker thread and can throw in theory. In that case, the program will
  // crash due to uncaught exception. In practice, we don't expect any address validation in
  // addressFromSockAddr() to fail in worker thread.
  StatusOr<InstanceConstSharedPtr> address = addressFromSockAddr(ss, ss_len, v6only);
  return throwOnError(address);
}
