void trustedGetPublicShares(int *errStatus, char *errString, uint8_t *encrypted_dkg_secret, uint32_t enc_len,
                       char *public_shares,
                       unsigned _t, unsigned _n) {

    LOG_DEBUG (__FUNCTION__);

    char *decrypted_dkg_secret = (char *) calloc(DKG_MAX_SEALED_LEN, 1);
    uint32_t decr_len;
    trustedDecryptDkgSecret(errStatus, errString, (uint8_t *) encrypted_dkg_secret, decrypted_dkg_secret, &decr_len);
    if (*errStatus != 0) {
        snprintf(errString, BUF_LEN, "trustedDecryptDkgSecret failed with status %d", *errStatus);
        return;
    }
    //strncpy(errString, decrypted_dkg_secret, 1024);
    //  strncpy(errString, "before calc_public_shares ", 1024);
    if (calc_public_shares(decrypted_dkg_secret, public_shares, _t) != 0) {
        *errStatus = -1;
        snprintf(errString, BUF_LEN, "t does not match polynomial in db");
        return;
    }
    free(decrypted_dkg_secret);
}
