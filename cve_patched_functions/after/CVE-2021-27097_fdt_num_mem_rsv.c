int fdt_num_mem_rsv(const void *fdt)
{
	int i;
	const struct fdt_reserve_entry *re;

	for (i = 0; (re = fdt_mem_rsv(fdt, i)) != NULL; i++) {
		if (fdt64_to_cpu(re->size) == 0)
			return i;
	}
	return -FDT_ERR_TRUNCATED;
}
