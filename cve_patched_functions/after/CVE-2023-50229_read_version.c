static void read_version(struct pbap_data *pbap, GObexApparam *apparam)
{
	const guint8 *data;
	uint8_t value[16];
	gsize len;

	if (!(pbap->supported_features & FOLDER_VERSION_FEATURE))
		return;

	if (!g_obex_apparam_get_bytes(apparam, PRIMARY_COUNTER_TAG, &data,
								&len)) {
		len = sizeof(value);
		memset(value, 0, len);
		data = value;
	}

	if (len == sizeof(pbap->primary) && memcmp(pbap->primary, data, len)) {
		memcpy(pbap->primary, data, len);
		g_dbus_emit_property_changed(conn,
					obc_session_get_path(pbap->session),
					PBAP_INTERFACE, "PrimaryCounter");
	}

	if (!g_obex_apparam_get_bytes(apparam, SECONDARY_COUNTER_TAG, &data,
								&len)) {
		len = sizeof(value);
		memset(value, 0, len);
		data = value;
	}

	if (len == sizeof(pbap->secondary) &&
			memcmp(pbap->secondary, data, len)) {
		memcpy(pbap->secondary, data, len);
		g_dbus_emit_property_changed(conn,
					obc_session_get_path(pbap->session),
					PBAP_INTERFACE, "SecondaryCounter");
	}
}
