_netplan_sysfs_get_driver_by_ifname(const char* ifname, const char* rootdir)
{
    g_autofree gchar* link = NULL;
    g_autofree gchar* sysfs_path = NULL;
    sysfs_path = g_build_path(G_DIR_SEPARATOR_S, rootdir ?: G_DIR_SEPARATOR_S,
                              "sys", "class", "net", ifname, "device", "driver", NULL);

    link = g_file_read_link(sysfs_path, NULL);
    if (!link) {
        g_debug("%s: Cannot read symlink of %s.", __FUNCTION__, sysfs_path);
        return NULL;
    }

    return g_path_get_basename(link);
}
