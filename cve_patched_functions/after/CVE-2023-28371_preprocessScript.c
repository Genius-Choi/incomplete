bool StelScriptMgr::preprocessScript(const QString fileName, const QString &input, QString &output, const QString &scriptDir, int &errLoc )
{
	// The one and only top-level call for expand.
	scriptFileName = fileName;
	num2loc = QMap<int,QPair<QString,int>>();
	outline = 0;
	includeSet.clear();
	errLoc = -1;
	expand( fileName, input, output, scriptDir, errLoc );
	if( errLoc != -1 ){
		return false;
	} else {
		return true;
	}
}
