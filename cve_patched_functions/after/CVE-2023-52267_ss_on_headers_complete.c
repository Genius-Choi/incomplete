int ss_on_headers_complete(http_parser *p) {
    Request *req = (Request *) p->data;
    if (req->_header_fields.size() != req->_header_values.size()) {
        LOG_ERROR("header field size:%u != value size:%u",
                req->_header_fields.size(), req->_header_values.size());
        return -1;
    }
    for (size_t i = 0; i < req->_header_fields.size(); i++) {
        req->add_header(req->_header_fields[i], req->_header_values[i]);    
    }
    req->_parse_part = PARSE_REQ_HEAD_OVER;
    LOG_DEBUG("HEADERS COMPLETE! which field size:%u, value size:%u",
            req->_header_fields.size(), req->_header_values.size());
    if (req->get_method() == "POST" && req->get_header("Content-Length").empty()) {
        req->_parse_err = PARSE_LEN_REQUIRED;
        LOG_ERROR("parse req error, Content-Length not found");
        return -1;
    }
    return 0;
}
