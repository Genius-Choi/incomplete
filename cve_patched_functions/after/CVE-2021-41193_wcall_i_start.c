int wcall_i_start(struct wcall *wcall,
		  int call_type, int conv_type,
		  int audio_cbr)
{
	int err = 0;
	struct calling_instance *inst = wcall ? wcall->inst : NULL;
	bool cbr = audio_cbr != 0;
	char convid_anon[ANON_ID_LEN];

	call_type = (call_type == WCALL_CALL_TYPE_FORCED_AUDIO) ?
		    WCALL_CALL_TYPE_NORMAL : call_type;

	if (!WCALL_VALID(wcall)) {
		warning("wcall(%p): invalid wcall: inst=%p\n", wcall, inst);
		return EINVAL;
	}
	
	info(APITAG "wcall(%p): start: convid=%s calltype=%s "
	     "convtype=%s audio_cbr=%s\n",
	     wcall, anon_id(convid_anon, wcall->convid),
	     wcall_call_type_name(call_type), wcall_conv_type_name(conv_type),
	     cbr ? "yes" : "no");

	if (wcall->disable_audio)
		wcall->disable_audio = false;

	bool is_video_call = call_type == WCALL_CALL_TYPE_VIDEO;
	
	wcall->video.video_call = is_video_call;
	if (wcall && wcall->icall) {

		if (WCALL_STATE_NONE == wcall->state) {
			set_state(wcall, WCALL_STATE_OUTGOING);
		}
		if (is_video_call) {
			ICALL_CALL(wcall->icall,
				   set_video_send_state,
				   ICALL_VIDEO_STATE_STARTED);
		}
		else {
			ICALL_CALL(wcall->icall,
				   set_video_send_state,
				   ICALL_VIDEO_STATE_STOPPED);
		}

		err = ICALL_CALLE(wcall->icall, start,
			call_type, cbr);
		if (err)
			goto out;
	}

    
	if (inst->mm) {
		enum mediamgr_state state;

		state = is_video_call ? MEDIAMGR_STATE_OUTGOING_VIDEO_CALL
			              : MEDIAMGR_STATE_OUTGOING_AUDIO_CALL;
		mediamgr_set_call_state(inst->mm, state);
	}
 out:
	return err;
}
