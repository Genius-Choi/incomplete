static void SyncXmpProfile(const Image *image,StringInfo *profile)
{
  char
    value[MagickPathExtent];

  size_t
    denominator,
    end,
    numerator,
    start;

  *value='\0';
  if (GetXmpOffsets(profile,"tiff:XResolution",&start,&end) != MagickFalse)
    {
      GetXmpNumeratorAndDenominator(image->resolution.x,&numerator,
        &denominator);
      (void) FormatLocaleString(value,MagickPathExtent,"%zu/%zu",numerator,
        denominator);
      ReplaceXmpValue(profile,start,end,value);
    }
  if (GetXmpOffsets(profile,"tiff:YResolution",&start,&end) != MagickFalse)
    {
      if ((fabs(image->resolution.x-image->resolution.y) > MagickEpsilon) ||
          (*value == '\0'))
        {
          GetXmpNumeratorAndDenominator(image->resolution.y,&numerator,
            &denominator);
          (void) FormatLocaleString(value,MagickPathExtent,"%zu/%zu",numerator,
            denominator);
        }
      ReplaceXmpValue(profile,start,end,value);
    }
  if (GetXmpOffsets(profile,"tiff:ResolutionUnit",&start,&end) != MagickFalse)
    {
      (void) FormatLocaleString(value,MagickPathExtent,"%d",
        ((int) image->units)+1);
      ReplaceXmpValue(profile,start,end,value);
    }
  if (GetXmpOffsets(profile,"tiff:Orientation",&start,&end) != MagickFalse)
    {
      (void) FormatLocaleString(value,MagickPathExtent,"%d",
        (int) image->orientation);
      ReplaceXmpValue(profile,start,end,value);
    }
}
