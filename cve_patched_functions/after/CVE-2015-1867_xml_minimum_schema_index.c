xml_minimum_schema_index(void)
{
    static int best = 0;
    if(best == 0) {
        int lpc = 0;
        float target = 0.0;

        best = xml_latest_schema_index();
        target = floor(known_schemas[best].version);

        for(lpc = best; lpc > 0; lpc--) {
            if(known_schemas[lpc].version < target) {
                return best;
            } else {
                best = lpc;
            }
        }
        best = xml_latest_schema_index();
    }
    return best;
}
