static int nl80211_parse_he_obss_pd(struct nlattr *attrs,
				    struct ieee80211_he_obss_pd *he_obss_pd)
{
	struct nlattr *tb[NL80211_HE_OBSS_PD_ATTR_MAX + 1];
	int err;

	err = nla_parse_nested(tb, NL80211_HE_OBSS_PD_ATTR_MAX, attrs,
			       he_obss_pd_policy, NULL);
	if (err)
		return err;

	if (!tb[NL80211_HE_OBSS_PD_ATTR_MIN_OFFSET] ||
	    !tb[NL80211_HE_OBSS_PD_ATTR_MAX_OFFSET])
		return -EINVAL;

	he_obss_pd->min_offset =
		nla_get_u32(tb[NL80211_HE_OBSS_PD_ATTR_MIN_OFFSET]);
	he_obss_pd->max_offset =
		nla_get_u32(tb[NL80211_HE_OBSS_PD_ATTR_MAX_OFFSET]);

	if (he_obss_pd->min_offset >= he_obss_pd->max_offset)
		return -EINVAL;

	he_obss_pd->enable = true;

	return 0;
}
