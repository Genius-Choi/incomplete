static void switch_rtp_change_ice_dest(switch_rtp_t *rtp_session, switch_rtp_ice_t *ice, const char *host, switch_port_t port)
{
	int is_rtcp = ice == &rtp_session->rtcp_ice;
	const char *err = "";
	int i;
	uint8_t ice_cand_found_idx = 0;

	for (i = 0; i < ice->ice_params->cand_idx[ice->proto]; i++) {
		if (!strcmp(host, ice->ice_params->cands[i][ice->proto].con_addr) && port == ice->ice_params->cands[i][ice->proto].con_port) {
			ice_cand_found_idx = i;
		}
	}

	if (!ice_cand_found_idx) {
		switch_log_printf(SWITCH_CHANNEL_SESSION_LOG(rtp_session->session), SWITCH_LOG_DEBUG5, "ICE candidate [%s:%d] replaced with [%s:%d]\n",
			ice->ice_params->cands[ice->ice_params->chosen[ice->proto]][ice->proto].con_addr, ice->ice_params->cands[ice->ice_params->chosen[ice->proto]][ice->proto].con_port, host, port);
		ice->ice_params->cands[ice->ice_params->chosen[ice->proto]][ice->proto].con_addr = switch_core_strdup(rtp_session->pool, host);
		ice->ice_params->cands[ice->ice_params->chosen[ice->proto]][ice->proto].con_port = port;
	} else {
		switch_log_printf(SWITCH_CHANNEL_SESSION_LOG(rtp_session->session), SWITCH_LOG_DEBUG5, "ICE chosen candidate [%s:%d] set to idx [%d]\n", host, port, ice_cand_found_idx);
		ice->ice_params->chosen[ice->proto] = ice_cand_found_idx;
	}

	ice->missed_count = 0;

	if (is_rtcp) {
		ice->addr = rtp_session->rtcp_remote_addr;
	} else {
		switch_rtp_set_remote_address(rtp_session, host, port, 0, SWITCH_FALSE, &err);

		if (rtp_session->flags[SWITCH_RTP_FLAG_RTCP_MUX]) {
			ice->addr = rtp_session->remote_addr;
		}
	}

}
