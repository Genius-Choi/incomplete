static int media_address_handler(const struct aco_option *opt, struct ast_variable *var, void *obj)
{
	struct ast_sip_endpoint *endpoint = obj;
	struct ast_sockaddr addr;

	if (ast_sockaddr_parse(&addr, var->value, 0)) {
		/* If we're able to parse as an IP, ensure it's formatted correctly for later */
		ast_string_field_set(endpoint, media.address, ast_sockaddr_stringify_addr_remote(&addr));
	} else {
		/* If we weren't able to parse it as an IP, just assume it's a hostname */
		ast_string_field_set(endpoint, media.address, var->value);
	}

	return 0;
}
