static INLINE void NCrushWriteBits(BYTE** DstPtr, UINT32* accumulator, UINT32* offset, UINT32 _bits,
                                   UINT32 _nbits)
{
	WINPR_ASSERT(DstPtr);
	WINPR_ASSERT(accumulator);
	WINPR_ASSERT(offset);

	*accumulator |= _bits << *offset;
	*offset += _nbits;

	if (*offset >= 16)
	{
		*(*DstPtr)++ = (*accumulator & 0xFF);
		*(*DstPtr)++ = ((*accumulator >> 8) & 0xFF);
		*accumulator >>= 16;
		*offset -= 16;
	}
}
