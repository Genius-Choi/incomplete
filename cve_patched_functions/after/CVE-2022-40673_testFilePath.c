bool Helper::testFilePath(const QString &benchmarkFile)
{
#if (QT_VERSION >= QT_VERSION_CHECK(5, 14, 0))
    if (QFileInfo(benchmarkFile).isSymbolicLink()) {
#else
    // detects *.lnk on Windows, but there's not Windows version, whatever
    if (QFileInfo(benchmarkFile).isSymLink()) {
#endif
        qWarning("The path should not be symbolic link.");
        return false;
    }

    if (!benchmarkFile.endsWith("/.kdiskmark.tmp")) {
        qWarning("The path must end with /.kdiskmark.tmp");
        return false;
    }

    // Actually superfluous because of above, makes the check more obvious
    // Just in case something changes in the backend
    if (benchmarkFile.startsWith("/dev")) {
        qWarning("Cannot specify a raw device.");
        return false;
    }

    return true;
}
