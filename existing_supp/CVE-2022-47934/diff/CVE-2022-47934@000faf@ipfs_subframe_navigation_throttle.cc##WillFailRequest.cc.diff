--- before
+++ after
@@ -0,0 +1,11 @@
+IpfsSubframeNavigationThrottle::WillFailRequest() {
+  // Ignores subframe ipfs:// navigation. It is ok to commit toplevel
+  // navigation.
+  if (!navigation_handle()->IsInMainFrame() &&
+      (navigation_handle()->GetURL().SchemeIs(ipfs::kIPFSScheme) ||
+       navigation_handle()->GetURL().SchemeIs(ipfs::kIPNSScheme))) {
+    return {content::NavigationThrottle::CANCEL_AND_IGNORE,
+            navigation_handle()->GetNetErrorCode()};
+  }
+  return content::NavigationThrottle::PROCEED;
+}
