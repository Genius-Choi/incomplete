[
    {
        "line": 2,
        "fullcodeline": "uri = URI.parse \"http://example.com/foo\""
    },
    {
        "line": 3,
        "fullcodeline": "target = MiniTest::Mock.new"
    },
    {
        "line": 4,
        "fullcodeline": "target.expect :target, \"badexample.com\""
    },
    {
        "line": 6,
        "fullcodeline": "dns = MiniTest::Mock.new"
    },
    {
        "line": 7,
        "fullcodeline": "dns.expect :getresource, target, [String, Object]"
    },
    {
        "line": 9,
        "fullcodeline": "fetch = Gem::RemoteFetcher.new nil, dns"
    },
    {
        "line": 10,
        "fullcodeline": "assert_equal URI.parse(\"http://example.com/foo\"), fetch.api_endpoint(uri)"
    }
]