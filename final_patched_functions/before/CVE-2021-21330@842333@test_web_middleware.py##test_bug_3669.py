async def test_bug_3669(aiohttp_client: Any):
    async def paymethod(request):
        return web.Response(text="OK")

    app = web.Application()
    app.router.add_route("GET", "/paymethod", paymethod)
    app.middlewares.append(
        web.normalize_path_middleware(append_slash=False, remove_slash=True)
    )

    client = await aiohttp_client(app, server_kwargs={"skip_url_asserts": True})

    resp = await client.get("/paymethods")
    assert resp.status == 404
    assert resp.url.path != "/paymethod"
