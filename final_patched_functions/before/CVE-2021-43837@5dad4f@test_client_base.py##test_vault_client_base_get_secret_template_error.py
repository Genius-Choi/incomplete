def test_vault_client_base_get_secret_template_error(vault, caplog):
    vault.db = {"a": {"key": "!template!{{"}}

    with pytest.raises(exceptions.VaultRenderTemplateError) as exc_info:
        vault.get_secret("a")

    assert str(exc_info.value) == 'Error while rendering secret at path "a"'
    assert (
        str(exc_info.value.__cause__)
        == 'Error while rendering secret value for key "key"'
    )
    assert str(exc_info.value.__cause__.__cause__) == "Jinja2 template syntax error"
