def render_description(text, content_type):
    """Render Description field to HTML"""
    if re.match(r'^.+(\n {8}.*)+\n?$', text):
        text = re.sub(r'^ {8}', '', text, flags=re.MULTILINE)

    if content_type == 'text/x-rst':
        html = publish_parts(
            text, writer_name='html',
            settings_overrides={'syntax_highlight': 'short'})['html_body']
    elif content_type == 'text/markdown':
        html = markdown(text, extensions=[GithubFlavoredMarkdownExtension()])
    else:
        html = format_html('<pre>{}</pre>', text)

    return mark_safe(html)
