def fulfillment_canceled_event(
    *, order: Order, user: UserType, fulfillment: Fulfillment
) -> OrderEvent:
    if not _user_is_valid(user):
        user = None
    return OrderEvent.objects.create(
        order=order,
        type=OrderEvents.FULFILLMENT_CANCELED,
        user=user,
        parameters={"composed_id": fulfillment.composed_id},
    )
