  def by_string
    return nil if @q.length < 4

    sql = <<-SQL
        SELECT us.id
          FROM uke_stations us
          JOIN uke_operators uo on (uo.id = us.uke_operator_id)
         WHERE us.uke_import_id = :uke_import_id
           AND (us.location LIKE '%:like%' OR us.name LIKE '%:like%' OR uo.name LIKE '%:like%')
    SQL

    result_to_hash select_using_uke_stations_sql(sql.gsub(':uke_import_id', @active_import.id.to_s).gsub(':like', conn.quote_string(@q)))
  end
