  def move
    Log.add_info(request, params.inspect)

    @item = Item.find(params[:id])

    unless params[:thetisBoxSelKeeper].nil?

      folder_id = params[:thetisBoxSelKeeper].split(':').last

      if Folder.check_user_auth(folder_id, @login_user, 'w', true)

        @item.update_attribute(:folder_id, folder_id)
        flash[:notice] = t('msg.move_success')
      else
        flash[:notice] = 'ERROR:' + t('folder.need_auth_to_write_in')
      end
    end

    render(:partial => 'ajax_move', :layout => false)

  rescue => evar
    Log.add_error(request, evar)

    flash[:notice] = 'ERROR:' + evar.to_s[0, 64]
    render(:partial => 'ajax_move', :layout => false)
  end
