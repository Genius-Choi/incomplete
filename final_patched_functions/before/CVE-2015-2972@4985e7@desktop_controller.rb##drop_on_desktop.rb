  def drop_on_desktop
    Log.add_info(request, params.inspect)

    if @login_user.nil?
      t = Time.now
      render(:text => (t.hour.to_s + t.min.to_s + t.sec.to_s))
      return
    end

    toy = Toy.new

    toy.user_id = @login_user.id
    toy.x = params[:x].to_i
    toy.y = params[:y].to_i
    toy.xtype, toy.target_id = params[:id].split(':')
    toy.save!

    render(:text => toy.id.to_s)
  end
