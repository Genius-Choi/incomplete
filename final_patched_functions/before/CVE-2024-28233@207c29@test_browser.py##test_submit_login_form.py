async def test_submit_login_form(app, browser, user_special_chars):
    user = user_special_chars.user
    login_url = url_path_join(public_host(app), app.hub.base_url, "login")
    await browser.goto(login_url)
    await login(browser, user.name, password=user.name)
    expected_url = ujoin(public_url(app), f"/user/{user_special_chars.urlname}/")
    await expect(browser).to_have_url(expected_url)
