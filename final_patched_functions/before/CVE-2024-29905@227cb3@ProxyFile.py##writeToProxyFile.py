def writeToProxyFile(proxyContents, fileName=False):
    """Write a proxy string to file

    arguments:
      - proxyContents : string object to dump to file
      - fileName : filename to dump to
    """
    if not fileName:
        try:
            fd, proxyLocation = tempfile.mkstemp()
            os.close(fd)
        except OSError:
            return S_ERROR(DErrno.ECTMPF)
        fileName = proxyLocation
    try:
        with open(fileName, "w") as fd:
            fd.write(proxyContents)
    except Exception as e:
        return S_ERROR(DErrno.EWF, f" {fileName}: {repr(e).replace(',)', ')')}")
    try:
        os.chmod(fileName, stat.S_IRUSR | stat.S_IWUSR)
    except Exception as e:
        return S_ERROR(DErrno.ESPF, f"{fileName}: {repr(e).replace(',)', ')')}")
    return S_OK(fileName)
