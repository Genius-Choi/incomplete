def dbLookup(msg):
    if len(msg.split(',')) != 2:
        #procura na lista de paises
        query = 'SELECT id FROM paises WHERE nome == "%s"' % (msg)
        cursor.execute(query)
        if cursor.fetchone():
            return True
        else:
            return False
    else:
        cidade = msg.split(',')[0].strip()
        estado = msg.split(',')[1].strip()
        #check cidade pertence ao estado
        query = 'SELECT estados.id FROM municipios JOIN estados ON municipios.estados_id == estados.id WHERE municipios.nome == "%s" AND estados.uf == "%s";' % (cidade, estado)
        cursor.execute(query)
        if not cursor.fetchone():
            return False
            
    return True
