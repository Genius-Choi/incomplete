def load_data(input_bytes: bytes):
    """
    Try to read the specified data format and deserialize the rest of the stream accordingly. If this fails, assume
    the data format is pickle.

    :param input_bytes:
    :return:
    """
    try:
        input_data = _read_formatted(input_bytes)
    except DeserializationException:
        logger.info('No data format specified. Assuming input data is pickle format')
        try:
            input_data = pickle.loads(input_bytes)
        except pickle.UnpicklingError:
            raise DeserializationException('Could not deserialize input')
    return input_data
