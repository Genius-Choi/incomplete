  def api_search(service_manager, object_type, term)
    service_name, methods = service_and_methods(object_type)

    # service = object_service(service_name)
    unless service_manager.respond_to?(service_name)
      raise StandardError, "Service #{service_name} could not be found."
    end
    service = service_manager.send(service_name)

    methods.each do |m|
      method = m.gsub(":term", term)
      found_items = eval("service.#{method}")

      if found_items
        items =
          if found_items.is_a?(Hash)
            found_items[:items]
          elsif found_items.is_a?(Array)
            found_items
          else
            [found_items]
          end
        return { items: items, service_call: "#{service_name}->#{method}" }
      end
    end

    { items: [], service_call: "" }
  end
