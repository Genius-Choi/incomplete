def set_personality_config(data:PersonalityConfig):
    check_access(lollmsElfServer, data.client_id)
    print("- Recovering personality config")
    category = sanitize_path(data.category)
    name = sanitize_path(data.name)
    config = data.config

    package_path = f"{category}/{name}"
    if category=="custom_personalities":
        package_full_path = lollmsElfServer.lollms_paths.custom_personalities_path/f"{name}"
    else:            
        package_full_path = lollmsElfServer.lollms_paths.personalities_zoo_path/package_path
    
    config_file = package_full_path / "config.yaml"
    if config_file.exists():
        with open(config_file,"w") as f:
            yaml.safe_dump(config, f)

        lollmsElfServer.mounted_personalities = lollmsElfServer.rebuild_personalities(reload_all=True)
        lollmsElfServer.InfoMessage("Personality updated")
        return {"status":True}
    else:
        return {"status":False, "error":"Not found"}
