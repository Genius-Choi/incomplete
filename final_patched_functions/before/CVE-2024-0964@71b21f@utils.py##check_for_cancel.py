async def check_for_cancel(helper: Communicator, cookies: dict[str, str] | None):
    while True:
        await asyncio.sleep(0.05)
        with helper.lock:
            if helper.should_cancel:
                break
    if helper.event_id:
        async with httpx.AsyncClient() as http:
            await http.post(
                helper.reset_url, json={"event_id": helper.event_id}, cookies=cookies
            )
    raise CancelledError()
