async def _websocket_subprotocols():
    url = "ws://localhost:{}/python-websocket/subprotocolsocket".format(PORT)
    conn = await websocket_connect(url, subprotocols=["protocol_1", "protocol_2"])
    await conn.write_message("Hello, world!")
    msg = await conn.read_message()
    assert json.loads(msg) == ["protocol_1", "protocol_2"]
