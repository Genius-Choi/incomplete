  def reset_users
    Log.add_info(request, params.inspect)

    count = 0

    unless params[:check_user].nil?

      params[:check_user].each do |user_id, value|
        if value == '1'
          begin
            Research.destroy_all('user_id=' + user_id.to_s)
            count += 1
          rescue => evar
            Log.add_error(request, evar)
          end
        end
      end
    end

    if count > 0
      flash[:notice] = t('msg.status_of')+ count.to_s + t('user.status_reset')
    end

    redirect_to(:controller => 'researches', :action => 'users')

  rescue => evar
    Log.add_error(request, evar)
    render(:text => evar.to_s)
  end
