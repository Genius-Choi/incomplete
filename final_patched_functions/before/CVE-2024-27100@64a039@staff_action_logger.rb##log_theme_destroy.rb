  def log_theme_destroy(theme, opts = {})
    raise Discourse::InvalidParameters.new(:theme) unless theme
    UserHistory.create!(
      params(opts).merge(
        action: UserHistory.actions[:delete_theme],
        subject: theme.name,
        previous_value: theme_json(theme),
      ),
    )
  end
