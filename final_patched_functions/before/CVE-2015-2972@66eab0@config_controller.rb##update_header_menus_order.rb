  def update_header_menus_order
    Log.add_info(request, params.inspect)

    header_menus = params[:header_menus_order]

    yaml = ApplicationHelper.get_config_yaml

    unless yaml[:general]['header_menus'].nil?
      yaml[:general]['header_menus'].sort! { |h_menu_a, h_menu_b|
        idx_a = header_menus.index h_menu_a[0]
        idx_a = 100 if idx_a.nil?
        idx_b = header_menus.index h_menu_b[0]
        idx_b = 101 if idx_b.nil?

        idx_a - idx_b
      }

      ApplicationHelper.save_config_yaml(yaml)
    end

    render(:text => '')
  end
