def load_user(id):
    if id is None:
        return None

    if id == "_api":
        return userManager.api_user_factory()

    if session and "usersession.id" in session:
        sessionid = session["usersession.id"]
    else:
        sessionid = None

    if sessionid:
        user = userManager.find_user(userid=id, session=sessionid)
    else:
        user = userManager.find_user(userid=id)

    if user and user.is_active:
        return user

    return None
