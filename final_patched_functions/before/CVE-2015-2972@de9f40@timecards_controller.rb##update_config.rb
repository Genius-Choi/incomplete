  def update_config
    Log.add_info(request, params.inspect)

    yaml = ApplicationHelper.get_config_yaml

    unless params[:timecard].nil? or params[:timecard].empty?
      yaml[:timecard] = Hash.new if yaml[:timecard].nil?
      
      params[:timecard].each do |key, val|
        yaml[:timecard][key] = val
      end
      ApplicationHelper.save_config_yaml(yaml)
    end

    @yaml_timecard = yaml[:timecard]
    @yaml_timecard = Hash.new if @yaml_timecard.nil?

    flash[:notice] = t('msg.update_success')
    render(:action => 'configure')
  end
