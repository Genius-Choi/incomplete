  def delete_map
    Log.add_info(request, params.inspect)

    group_id = params[:group_id]
    SqlHelper.validate_token([group_id])

    @office_map = OfficeMap.get_for_group(group_id, false)

    begin
      @office_map.destroy
    rescue => evar
      Log.add_error(request, evar)
    end

    @office_map = OfficeMap.get_for_group(group_id, false)

    flash[:notice] = t('msg.delete_success')
    render(:partial => 'groups/ajax_group_map', :layout => false)
  end
