  def upload(settings = {})
    params[:dimension] = nil if params[:skip_auto_crop].present?
    f = {error: "File not found."}
    if params[:file_upload].present?
      f = upload_file(params[:file_upload], {folder: params[:folder], dimension: params['dimension'], formats: params[:formats], versions: params[:versions], thumb_size: params[:thumb_size]}.merge(settings))
    end
    render(partial: "render_file_item", locals:{ files: [f] }) unless f[:error].present?
    render inline: f[:error] if f[:error].present?
  end
