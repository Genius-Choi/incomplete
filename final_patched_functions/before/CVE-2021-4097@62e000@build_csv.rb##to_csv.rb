def to_csv(function_list,tests)
  function_list.collect do |function_name|
    if v = tests["#{function_name} function"]
      positive_tests = count_tests_in(v["groups"]["success"])
      negative_tests = count_tests_in(v["groups"]["failure"])
      pending_tests  =
        count_pending_tests_in(v["groups"]["failure"]) +
        count_pending_tests_in(v["groups"]["failure"])
    else
      positive_tests = 0
      negative_tests = 0
      pending_tests  = 0
    end
    sprintf("%-25s, %-9d, %-9d, %-9d", function_name,positive_tests,negative_tests,pending_tests)
  end.compact
end
