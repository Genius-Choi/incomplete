def post_group(db, group_name):
    groups_table = db.get_table('groups')
    group_exist = groups_table.find_one(name=group_name)
    #CREATE
    if request.method=='POST':
        if group_exist:
            return error(409, {'error': 'Group already exists'})
        else:
            groups_table.insert(dict(name=group_name, userid=None))
            return {'status': 200}

    #UPDATE
    elif request.method == 'PUT':
        if not group_exist:
            return error(400, {'error': 'Group does not exist'})
        else:
            userids = request.json.get('userids')
            if not userids:
                return error(400, {'error': 'Need a userids key'})

            user_table = get_user_table(db)
            groups_table.delete(name=group_name)
            unknown_users = []
            for userid in userids:
                user = user_table.find_one(userid=userid)
                if not user:
                    unknown_users.append(userid)
                else:
                    groups_table.insert(dict(name=group_name, userid=userid))

            ret = {'status': 200}
            if unknown_users:
                ret = { 'status': 207, 'unknown_users': unknown_users }
            return ret
