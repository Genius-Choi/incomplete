  def build_file_response
    file_info = FileHandler.file_info @file
    body = file_info[:body]
    time = file_info[:time]
    @headers = { 'Last-Modified' => time }

    if time == @request.env['HTTP_IF_MODIFIED_SINCE']
      @response = [304, headers, []]
    else
      return_200 body
    end
  end
