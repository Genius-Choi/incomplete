  def destroy
    Log.add_info(request, params.inspect)

    if params[:check_address].nil?
      list
      render(:action => 'list')
      return
    end

    count = 0
    params[:check_address].each do |address_id, value|
      if value == '1'

        begin
          address = Address.find(address_id)
          address.destroy if address.editable?(@login_user)
        rescue => evar
          Log.add_error(request, evar)
        end

        count += 1
      end
    end
    flash[:notice] = t('address.deleted', :count => count)

    list
    render(:action => 'list')
  end
