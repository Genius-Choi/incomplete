def open_mock(content, **kwargs):
    m = mock_open(read_data=content)
    with patch('__builtin__.open', m, create=True, **kwargs) as m:
        yield m
