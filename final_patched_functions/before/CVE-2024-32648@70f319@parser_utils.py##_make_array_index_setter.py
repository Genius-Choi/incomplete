def _make_array_index_setter(target, target_token, pos, location, offset):
    if location == "memory" and isinstance(target.value, int):
        offset = target.value + 32 * get_size_of_type(target.typ.subtype) * offset
        return LLLnode.from_list([offset], typ=target.typ.subtype, location=location, pos=pos)
    else:
        return add_variable_offset(
            target_token,
            LLLnode.from_list(offset, typ="int256"),
            pos=pos,
            array_bounds_check=False,
        )
