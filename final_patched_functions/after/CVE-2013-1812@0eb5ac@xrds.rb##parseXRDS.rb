    def Yadis::parseXRDS(text)
      disable_entity_expansion do
        if text.nil?
          raise XRDSError.new("Not an XRDS document.")
        end

        begin
          d = REXML::Document.new(text)
        rescue RuntimeError => why
          raise XRDSError.new("Not an XRDS document. Failed to parse XML.")
        end

        if is_xrds?(d)
          return d
        else
          raise XRDSError.new("Not an XRDS document.")
        end
      end
    end
