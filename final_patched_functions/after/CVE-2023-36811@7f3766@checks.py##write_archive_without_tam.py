def write_archive_without_tam(repository, archive_name):
    manifest = Manifest.load(repository, Manifest.NO_OPERATION_CHECK)
    archive_data = msgpack.packb(
        {
            "version": 2,
            "name": archive_name,
            "item_ptrs": [],
            "command_line": "",
            "hostname": "",
            "username": "",
            "time": archive_ts_now().isoformat(timespec="microseconds"),
            "size": 0,
            "nfiles": 0,
        }
    )
    archive_id = manifest.repo_objs.id_hash(archive_data)
    cdata = manifest.repo_objs.format(archive_id, {}, archive_data)
    repository.put(archive_id, cdata)
    manifest.archives[archive_name] = (archive_id, datetime.now())
    manifest.write()
    repository.commit(compact=False)
