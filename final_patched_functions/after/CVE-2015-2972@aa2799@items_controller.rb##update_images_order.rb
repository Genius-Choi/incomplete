  def update_images_order
    Log.add_info(request, params.inspect)

    return unless request.post?

    order_ary = params[:images_order]

    item = Item.find(params[:id])

    item.images_without_content.each do |img|
      class << img
        def record_timestamps; false; end
      end

      img.update_attribute(:xorder, order_ary.index(img.id.to_s) + 1)

      class << img
        remove_method(:record_timestamps)
      end
    end

    render(:text => '')

  rescue => evar
    Log.add_error(request, evar)
    render(:text => evar.to_s)
  end
