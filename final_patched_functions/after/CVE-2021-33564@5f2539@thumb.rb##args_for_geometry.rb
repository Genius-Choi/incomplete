        def args_for_geometry(geometry)
          case geometry
          when RESIZE_GEOMETRY
            resize_args(geometry)
          when CROPPED_RESIZE_GEOMETRY
            resize_and_crop_args($1, $2, $3)
          when CROP_GEOMETRY
            crop_args(
              "width" => $1,
              "height" => $2,
              "x" => $3,
              "y" => $4,
              "gravity" => $5,
            )
          else raise ArgumentError, "Didn't recognise the geometry string #{geometry}"
          end
        end
