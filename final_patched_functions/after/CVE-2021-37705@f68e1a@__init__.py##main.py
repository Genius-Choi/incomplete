def main(req: func.HttpRequest, connectionInfoJson: str) -> func.HttpResponse:
    # NOTE: this is a sub-method because the call_if* do not support callbacks with
    # additional arguments at this time.  Once call_if* supports additional arguments,
    # this should be made a generic function
    def post(req: func.HttpRequest) -> func.HttpResponse:
        return func.HttpResponse(
            connectionInfoJson,
            status_code=200,
            headers={"Content-type": "application/json"},
        )

    methods = {"POST": post}
    method = methods[req.method]

    result = call_if_user(req, method)

    return result
