  def test_unsafe_component
    warnings = capture_warnings { get "/unsafe_component" }
    assert_select("script", false)
    assert(
      warnings.any? { |warning| warning.include?("component rendered HTML-unsafe output") },
      "Rendering UnsafeComponent did not emit an HTML safety warning"
    )
  end
