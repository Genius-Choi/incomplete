async def test_websocket_no_auth_failure(
    a_server_port_and_token: Tuple[int, str]
) -> None:
    PORT = a_server_port_and_token[0]
    # Intentionally do not pass an appropriate token, which should cause a 403
    url = f"ws://{LOCALHOST}:{PORT}/python-websocket/headerssocket"

    with pytest.raises(HTTPClientError, match=r".*HTTP 403: Forbidden.*"):
        await websocket_connect(url)
