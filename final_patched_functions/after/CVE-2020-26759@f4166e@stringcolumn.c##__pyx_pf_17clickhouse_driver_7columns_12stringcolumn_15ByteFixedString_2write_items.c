static PyObject *__pyx_pf_17clickhouse_driver_7columns_12stringcolumn_15ByteFixedString_2write_items(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_self, PyObject *__pyx_v_items, PyObject *__pyx_v_buf) {
  Py_ssize_t __pyx_v_buf_pos;
  Py_ssize_t __pyx_v_length;
  Py_ssize_t __pyx_v_items_buf_size;
  char *__pyx_v_c_value;
  char *__pyx_v_items_buf;
  PyObject *__pyx_v_value = NULL;
  Py_ssize_t __pyx_v_value_len;
  PyObject *__pyx_r = NULL;
  __Pyx_RefNannyDeclarations
  PyObject *__pyx_t_1 = NULL;
  Py_ssize_t __pyx_t_2;
  int __pyx_t_3;
  PyObject *(*__pyx_t_4)(PyObject *);
  PyObject *__pyx_t_5 = NULL;
  Py_ssize_t __pyx_t_6;
  PyObject *__pyx_t_7 = NULL;
  PyObject *__pyx_t_8 = NULL;
  char *__pyx_t_9;
  int __pyx_lineno = 0;
  const char *__pyx_filename = NULL;
  int __pyx_clineno = 0;
  __Pyx_RefNannySetupContext("write_items", 0);

  /* "clickhouse_driver/columns/stringcolumn.pyx":132
 * 
 *     def write_items(self, items, buf):
 *         cdef Py_ssize_t buf_pos = 0             # <<<<<<<<<<<<<<
 *         cdef Py_ssize_t length = self.length
 *         cdef Py_ssize_t items_buf_size = length * len(items)
 */
  __pyx_v_buf_pos = 0;

  /* "clickhouse_driver/columns/stringcolumn.pyx":133
 *     def write_items(self, items, buf):
 *         cdef Py_ssize_t buf_pos = 0
 *         cdef Py_ssize_t length = self.length             # <<<<<<<<<<<<<<
 *         cdef Py_ssize_t items_buf_size = length * len(items)
 * 
 */
  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_self, __pyx_n_s_length); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 133, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __pyx_t_2 = __Pyx_PyIndex_AsSsize_t(__pyx_t_1); if (unlikely((__pyx_t_2 == (Py_ssize_t)-1) && PyErr_Occurred())) __PYX_ERR(0, 133, __pyx_L1_error)
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
  __pyx_v_length = __pyx_t_2;

  /* "clickhouse_driver/columns/stringcolumn.pyx":134
 *         cdef Py_ssize_t buf_pos = 0
 *         cdef Py_ssize_t length = self.length
 *         cdef Py_ssize_t items_buf_size = length * len(items)             # <<<<<<<<<<<<<<
 * 
 *         cdef char* c_value
 */
  __pyx_t_2 = PyObject_Length(__pyx_v_items); if (unlikely(__pyx_t_2 == ((Py_ssize_t)-1))) __PYX_ERR(0, 134, __pyx_L1_error)
  __pyx_v_items_buf_size = (__pyx_v_length * __pyx_t_2);

  /* "clickhouse_driver/columns/stringcolumn.pyx":137
 * 
 *         cdef char* c_value
 *         cdef char* items_buf = <char *>PyMem_Malloc(items_buf_size)             # <<<<<<<<<<<<<<
 *         if not items_buf:
 *             raise MemoryError()
 */
  __pyx_v_items_buf = ((char *)PyMem_Malloc(__pyx_v_items_buf_size));

  /* "clickhouse_driver/columns/stringcolumn.pyx":138
 *         cdef char* c_value
 *         cdef char* items_buf = <char *>PyMem_Malloc(items_buf_size)
 *         if not items_buf:             # <<<<<<<<<<<<<<
 *             raise MemoryError()
 * 
 */
  __pyx_t_3 = ((!(__pyx_v_items_buf != 0)) != 0);
  if (unlikely(__pyx_t_3)) {

    /* "clickhouse_driver/columns/stringcolumn.pyx":139
 *         cdef char* items_buf = <char *>PyMem_Malloc(items_buf_size)
 *         if not items_buf:
 *             raise MemoryError()             # <<<<<<<<<<<<<<
 * 
 *         memset(items_buf, 0, items_buf_size)
 */
    PyErr_NoMemory(); __PYX_ERR(0, 139, __pyx_L1_error)

    /* "clickhouse_driver/columns/stringcolumn.pyx":138
 *         cdef char* c_value
 *         cdef char* items_buf = <char *>PyMem_Malloc(items_buf_size)
 *         if not items_buf:             # <<<<<<<<<<<<<<
 *             raise MemoryError()
 * 
 */
  }

  /* "clickhouse_driver/columns/stringcolumn.pyx":141
 *             raise MemoryError()
 * 
 *         memset(items_buf, 0, items_buf_size)             # <<<<<<<<<<<<<<
 * 
 *         for value in items:
 */
  (void)(memset(__pyx_v_items_buf, 0, __pyx_v_items_buf_size));

  /* "clickhouse_driver/columns/stringcolumn.pyx":143
 *         memset(items_buf, 0, items_buf_size)
 * 
 *         for value in items:             # <<<<<<<<<<<<<<
 *             value_len = len(value)
 *             if length < value_len:
 */
  if (likely(PyList_CheckExact(__pyx_v_items)) || PyTuple_CheckExact(__pyx_v_items)) {
    __pyx_t_1 = __pyx_v_items; __Pyx_INCREF(__pyx_t_1); __pyx_t_2 = 0;
    __pyx_t_4 = NULL;
  } else {
    __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_v_items); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 143, __pyx_L1_error)
    __Pyx_GOTREF(__pyx_t_1);
    __pyx_t_4 = Py_TYPE(__pyx_t_1)->tp_iternext; if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 143, __pyx_L1_error)
  }
  for (;;) {
    if (likely(!__pyx_t_4)) {
      if (likely(PyList_CheckExact(__pyx_t_1))) {
        if (__pyx_t_2 >= PyList_GET_SIZE(__pyx_t_1)) break;
        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_5 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_5); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(0, 143, __pyx_L1_error)
        #else
        __pyx_t_5 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 143, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_5);
        #endif
      } else {
        if (__pyx_t_2 >= PyTuple_GET_SIZE(__pyx_t_1)) break;
        #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
        __pyx_t_5 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_2); __Pyx_INCREF(__pyx_t_5); __pyx_t_2++; if (unlikely(0 < 0)) __PYX_ERR(0, 143, __pyx_L1_error)
        #else
        __pyx_t_5 = PySequence_ITEM(__pyx_t_1, __pyx_t_2); __pyx_t_2++; if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 143, __pyx_L1_error)
        __Pyx_GOTREF(__pyx_t_5);
        #endif
      }
    } else {
      __pyx_t_5 = __pyx_t_4(__pyx_t_1);
      if (unlikely(!__pyx_t_5)) {
        PyObject* exc_type = PyErr_Occurred();
        if (exc_type) {
          if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
          else __PYX_ERR(0, 143, __pyx_L1_error)
        }
        break;
      }
      __Pyx_GOTREF(__pyx_t_5);
    }
    __Pyx_XDECREF_SET(__pyx_v_value, __pyx_t_5);
    __pyx_t_5 = 0;

    /* "clickhouse_driver/columns/stringcolumn.pyx":144
 * 
 *         for value in items:
 *             value_len = len(value)             # <<<<<<<<<<<<<<
 *             if length < value_len:
 *                 raise errors.TooLargeStringSize()
 */
    __pyx_t_6 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_6 == ((Py_ssize_t)-1))) __PYX_ERR(0, 144, __pyx_L1_error)
    __pyx_v_value_len = __pyx_t_6;

    /* "clickhouse_driver/columns/stringcolumn.pyx":145
 *         for value in items:
 *             value_len = len(value)
 *             if length < value_len:             # <<<<<<<<<<<<<<
 *                 raise errors.TooLargeStringSize()
 * 
 */
    __pyx_t_3 = ((__pyx_v_length < __pyx_v_value_len) != 0);
    if (unlikely(__pyx_t_3)) {

      /* "clickhouse_driver/columns/stringcolumn.pyx":146
 *             value_len = len(value)
 *             if length < value_len:
 *                 raise errors.TooLargeStringSize()             # <<<<<<<<<<<<<<
 * 
 *             c_value = PyBytes_AsString(value)
 */
      __Pyx_GetModuleGlobalName(__pyx_t_7, __pyx_n_s_errors); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 146, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_7);
      __pyx_t_8 = __Pyx_PyObject_GetAttrStr(__pyx_t_7, __pyx_n_s_TooLargeStringSize); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 146, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_8);
      __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
      __pyx_t_7 = NULL;
      if (CYTHON_UNPACK_METHODS && unlikely(PyMethod_Check(__pyx_t_8))) {
        __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_8);
        if (likely(__pyx_t_7)) {
          PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_8);
          __Pyx_INCREF(__pyx_t_7);
          __Pyx_INCREF(function);
          __Pyx_DECREF_SET(__pyx_t_8, function);
        }
      }
      __pyx_t_5 = (__pyx_t_7) ? __Pyx_PyObject_CallOneArg(__pyx_t_8, __pyx_t_7) : __Pyx_PyObject_CallNoArg(__pyx_t_8);
      __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
      if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 146, __pyx_L1_error)
      __Pyx_GOTREF(__pyx_t_5);
      __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
      __Pyx_Raise(__pyx_t_5, 0, 0, 0);
      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
      __PYX_ERR(0, 146, __pyx_L1_error)

      /* "clickhouse_driver/columns/stringcolumn.pyx":145
 *         for value in items:
 *             value_len = len(value)
 *             if length < value_len:             # <<<<<<<<<<<<<<
 *                 raise errors.TooLargeStringSize()
 * 
 */
    }

    /* "clickhouse_driver/columns/stringcolumn.pyx":148
 *                 raise errors.TooLargeStringSize()
 * 
 *             c_value = PyBytes_AsString(value)             # <<<<<<<<<<<<<<
 * 
 *             memcpy(&items_buf[buf_pos], c_value, value_len)
 */
    __pyx_t_9 = PyBytes_AsString(__pyx_v_value); if (unlikely(__pyx_t_9 == ((char *)NULL))) __PYX_ERR(0, 148, __pyx_L1_error)
    __pyx_v_c_value = __pyx_t_9;

    /* "clickhouse_driver/columns/stringcolumn.pyx":150
 *             c_value = PyBytes_AsString(value)
 * 
 *             memcpy(&items_buf[buf_pos], c_value, value_len)             # <<<<<<<<<<<<<<
 *             buf_pos += length
 * 
 */
    (void)(memcpy((&(__pyx_v_items_buf[__pyx_v_buf_pos])), __pyx_v_c_value, __pyx_v_value_len));

    /* "clickhouse_driver/columns/stringcolumn.pyx":151
 * 
 *             memcpy(&items_buf[buf_pos], c_value, value_len)
 *             buf_pos += length             # <<<<<<<<<<<<<<
 * 
 *         buf.write(PyBytes_FromStringAndSize(items_buf, items_buf_size))
 */
    __pyx_v_buf_pos = (__pyx_v_buf_pos + __pyx_v_length);

    /* "clickhouse_driver/columns/stringcolumn.pyx":143
 *         memset(items_buf, 0, items_buf_size)
 * 
 *         for value in items:             # <<<<<<<<<<<<<<
 *             value_len = len(value)
 *             if length < value_len:
 */
  }
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "clickhouse_driver/columns/stringcolumn.pyx":153
 *             buf_pos += length
 * 
 *         buf.write(PyBytes_FromStringAndSize(items_buf, items_buf_size))             # <<<<<<<<<<<<<<
 * 
 *         PyMem_Free(items_buf)
 */
  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_buf, __pyx_n_s_write); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 153, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_5);
  __pyx_t_8 = PyBytes_FromStringAndSize(__pyx_v_items_buf, __pyx_v_items_buf_size); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 153, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_8);
  __pyx_t_7 = NULL;
  if (CYTHON_UNPACK_METHODS && likely(PyMethod_Check(__pyx_t_5))) {
    __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_5);
    if (likely(__pyx_t_7)) {
      PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_5);
      __Pyx_INCREF(__pyx_t_7);
      __Pyx_INCREF(function);
      __Pyx_DECREF_SET(__pyx_t_5, function);
    }
  }
  __pyx_t_1 = (__pyx_t_7) ? __Pyx_PyObject_Call2Args(__pyx_t_5, __pyx_t_7, __pyx_t_8) : __Pyx_PyObject_CallOneArg(__pyx_t_5, __pyx_t_8);
  __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
  __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
  if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 153, __pyx_L1_error)
  __Pyx_GOTREF(__pyx_t_1);
  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;

  /* "clickhouse_driver/columns/stringcolumn.pyx":155
 *         buf.write(PyBytes_FromStringAndSize(items_buf, items_buf_size))
 * 
 *         PyMem_Free(items_buf)             # <<<<<<<<<<<<<<
 * 
 * 
 */
  PyMem_Free(__pyx_v_items_buf);

  /* "clickhouse_driver/columns/stringcolumn.pyx":131
 *         return items
 * 
 *     def write_items(self, items, buf):             # <<<<<<<<<<<<<<
 *         cdef Py_ssize_t buf_pos = 0
 *         cdef Py_ssize_t length = self.length
 */

  /* function exit code */
  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  __Pyx_XDECREF(__pyx_t_1);
  __Pyx_XDECREF(__pyx_t_5);
  __Pyx_XDECREF(__pyx_t_7);
  __Pyx_XDECREF(__pyx_t_8);
  __Pyx_AddTraceback("clickhouse_driver.columns.stringcolumn.ByteFixedString.write_items", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  __Pyx_XDECREF(__pyx_v_value);
  __Pyx_XGIVEREF(__pyx_r);
  __Pyx_RefNannyFinishContext();
  return __pyx_r;
}
