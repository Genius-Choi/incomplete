def adv_search_text(q, include_inputs, exclude_inputs, data_value):
    for inp in include_inputs:
        q = q.filter(db.Books.data.any(data_value == inp))
    for excl in exclude_inputs:
        q = q.filter(not_(db.Books.data.any(data_value == excl)))
    return q
