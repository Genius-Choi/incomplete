        def wrapper(*args, **kwargs):
            try:
                if func is not dummy:
                    func(*args, **kwargs)
                else:
                    raise args[0]
            except Exception:
                self.queue.put(sys.exc_info())
            finally:
                self.handler_complete_event.set()
