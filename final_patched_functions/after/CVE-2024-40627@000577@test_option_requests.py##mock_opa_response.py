def mock_opa_response():
    with patch("fastapi_opa.opa.opa_middleware.requests.post") as mock_post:
        mock_post.return_value.status_code = 200
        mock_post.return_value.json.return_value = {"result": {"allow": True}}
        yield mock_post
