static int connect(int fd, uint32_t *client_id) {
	struct vbg_ioctl_hgcm_connect msg = {
		.u = {
			.in = {
				.loc = {
					.type = VMMDEV_HGCM_LOC_LOCALHOST_EXISTING,
					.u = {
						.localhost = {
							.service_name = "VBoxGuestPropSvc",
						},
					},
				},
			},
		},
	};
	init_header(&msg.hdr, sizeof(msg.u.in), sizeof(msg.u.out));
	if (ioctl(fd, VBG_IOCTL_HGCM_CONNECT, &msg)) {
		return VERR_GENERAL_FAILURE;
	}
	if (msg.hdr.rc != VINF_SUCCESS) {
		return msg.hdr.rc;
	}
	*client_id = msg.u.out.client_id;
	return VINF_SUCCESS;
}
