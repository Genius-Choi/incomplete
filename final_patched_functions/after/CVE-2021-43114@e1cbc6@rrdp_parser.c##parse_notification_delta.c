parse_notification_delta(xmlTextReaderPtr reader,
    struct update_notification *update)
{
	struct delta_head delta;
	int error;

	error = parse_long(reader, RRDP_ATTR_SERIAL, &delta.serial);
	if (error)
		return error;
	error = parse_doc_data(reader, true, true, &delta.doc_data);
	if (error)
		return error;

	error = deltas_head_add(&update->deltas_list, &delta);
	if (error)
		doc_data_cleanup(&delta.doc_data);

	return error;
}
