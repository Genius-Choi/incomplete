def process_management_submission(source, management_data, machine, object_queue):
    """Process a single management source's data

    This function first optionally calls any additional processors for
    the management source in question (Munki for example).

    Then it processes Facts.
    Then ManagedItems.
    """
    # Add custom processor funcs to this dictionary.
    # The key should be the same name used in the submission for ManagementSource.
    # The func's signature must be
    # f(management_data: dict, machine: Machine, object_queue: dict)
    processing_funcs = {
        "Machine": process_machine_submission,
        "Sal": process_sal_submission,
        "Munki": process_munki_extra_keys,
    }

    processing_func = processing_funcs.get(source.name)
    if processing_func:
        object_queue = processing_func(management_data, machine, object_queue)

    object_queue = process_facts(source, management_data, machine, object_queue)
    object_queue = process_managed_items(source, management_data, machine, object_queue)
    object_queue = process_messages(source, management_data, machine, object_queue)

    return object_queue
