        def my_exit(self_, exc_type, exc_val, exc_tb):
            did_raise = orig_exit(exc_type, exc_val, exc_tb)
            if did_raise and assert_raises.ext is not None:
                self.assertEqual(assert_raises.ext, assert_raises.exception.extension, 'Unsafe extension  not as unexpected')
            return did_raise
