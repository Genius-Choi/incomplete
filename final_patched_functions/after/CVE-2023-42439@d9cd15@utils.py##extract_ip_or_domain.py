def extract_ip_or_domain(url):
    # Decode the URL to handle percent-encoded characters
    _url = remove_credentials_from_url(unquote(url))

    ip_regex = re.compile("^(?:http://|https://)(\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3})")
    domain_regex = re.compile("^(?:http://|https://)([a-zA-Z0-9.-]+)")

    match = ip_regex.findall(_url)
    if len(match):
        ip_address = match[0]
        try:
            ipaddress.ip_address(ip_address)  # Validate the IP address
            return ip_address
        except ValueError:
            pass

    match = domain_regex.findall(_url)
    if len(match):
        return match[0]

    return None
