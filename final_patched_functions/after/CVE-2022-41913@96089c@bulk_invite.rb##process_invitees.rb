    def process_invitees(invitees)
      invitees = filter_out_unavailable_groups(invitees)

      max_bulk_invitees = SiteSetting.discourse_post_event_max_bulk_invitees

      invitees.each do |invitee|
        break if @processed >= max_bulk_invitees
        process_invitee(invitee)
      end

      if @processed > 0
        @event.publish_update!
        @event.notify_invitees!(predefined_attendance: true)
      end
    rescue Exception => e
      save_log "Bulk Invite Process Failed -- '#{e.message}'"
      @failed += 1
    end
