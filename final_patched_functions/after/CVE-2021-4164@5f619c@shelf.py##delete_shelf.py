def delete_shelf(shelf_id):
    cur_shelf = ub.session.query(ub.Shelf).filter(ub.Shelf.id == shelf_id).first()
    try:
        delete_shelf_helper(cur_shelf)
        flash(_("Shelf successfully deleted"), category="success")
    except InvalidRequestError:
        ub.session.rollback()
        log.error("Settings DB is not Writeable")
        flash(_("Settings DB is not Writeable"), category="error")
    return redirect(url_for('web.index'))
