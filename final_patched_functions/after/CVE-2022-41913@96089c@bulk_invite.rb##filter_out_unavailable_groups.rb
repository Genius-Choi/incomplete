    def filter_out_unavailable_groups(invitees)
      groups = invitee_groups(invitees)
      invitees.filter do |i|
        group = groups.find { |g| g.name === i[:identifier] }

        !group || (@guardian.can_see_group?(group) && @guardian.can_see_group_members?(group))
      end
    end
