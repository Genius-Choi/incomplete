    def cdn(path):
        if not allowed():
            abort(401)
        cache_directory = settings.assets.proxy_cache_dir
        try:
            content = cdn_helper.get_data(Path(cache_directory), path)
        except PermissionError:
            return flask.Response("not found", status=404)
        mime = mimetypes.guess_type(path)
        return flask.Response(content, mimetype=mime[0])
