def review_preview(id: str):
    format = request.args.get("format", default="gif")

    try:
        review: ReviewSegment = ReviewSegment.get(ReviewSegment.id == id)
    except DoesNotExist:
        return make_response(
            jsonify({"success": False, "message": "Review segment not found"}), 404
        )

    padding = 8
    start_ts = review.start_time - padding
    end_ts = (
        review.end_time + padding if review.end_time else datetime.now().timestamp()
    )

    if format == "gif":
        return preview_gif(review.camera, start_ts, end_ts)
    else:
        return preview_mp4(review.camera, start_ts, end_ts)
