def reverse_proxy_test():
    from octoprint.server.util.flask import get_reverse_proxy_info

    authenticated = request.args.get("authenticated", False) is not False
    if authenticated:
        response = require_fresh_login_with(permissions=[Permissions.ADMIN])
        if response:
            return response

    kwargs = get_reverse_proxy_info().dict()

    try:
        return render_template(
            "reverse_proxy_test.jinja2",
            authenticated=authenticated,
            theming=[],
            **kwargs,
        )
    except Exception:
        _logger.exception("Error rendering reverse proxy test page")
        return abort(500)
