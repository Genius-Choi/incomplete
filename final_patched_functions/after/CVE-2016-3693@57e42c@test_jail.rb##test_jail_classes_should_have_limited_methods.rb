  def test_jail_classes_should_have_limited_methods
    expected = ["new", "methods", "name", "inherited", "method_added",
                "allow", "allowed?", "allowed_methods", "init_allowed_methods",
                "<", # < needed in Rails Object#subclasses_of
                "ancestors", "==" # ancestors and == needed in Rails::Generator::Spec#lookup_class
               ]
    objects.each do |object|
      assert_equal expected.sort, reject_pretty_methods(object.to_jail.class.methods.map(&:to_s).sort)
    end
  end
