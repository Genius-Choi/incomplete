TEST(Status, ErasePayloadRemovesIt) {
  Status s(error::INTERNAL, "Error message");
  s.SetPayload("Error key", absl::Cord("Original"));

  bool is_err_erased = s.ErasePayload("Error key");
  ASSERT_EQ(is_err_erased, true);
  is_err_erased = s.ErasePayload("Error key");
  ASSERT_EQ(is_err_erased, false);
  ASSERT_FALSE(s.GetPayload("Error key").has_value());
}
