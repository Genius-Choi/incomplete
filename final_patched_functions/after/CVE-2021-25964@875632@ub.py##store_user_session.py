def store_user_session():
    if flask_session.get('_user_id', ""):
        try:
            if not check_user_session(flask_session.get('_user_id', ""), flask_session.get('_id', "")):
                user_session = User_Sessions(flask_session.get('_user_id', ""), flask_session.get('_id', ""))
                session.add(user_session)
                session.commit()
                log.debug("Login and store session : " + flask_session.get('_id', ""))
            else:
                log.debug("Found stored session: " + flask_session.get('_id', ""))
        except (exc.OperationalError, exc.InvalidRequestError) as e:
            session.rollback()
            log.exception(e)
    else:
        log.error("No user id in session")
