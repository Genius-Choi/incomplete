static void handle_get_accept(struct http_conn *conn,
			      const struct http_msg *msg,
			      struct mbuf *mb, size_t clen)
{
	struct ident_entry *ie = NULL;
	struct pl pl;
	char *key = NULL;
	int err;

	info("handle get accept\n");

	err = re_regex(msg->prm.p, msg->prm.l, "?pairid=[0-9]+", &pl);
	if (err) {
		warning("invalid input\n");
		goto out;
	}

	pl_strdup(&key, &pl);

	ie = dict_lookup(verifyd.idents, key);
	if (!ie) {
		info("accept: pairing-id %s not found\n", key);
		http_ereply(conn, 404, "Not found");
		goto out;
	}

	debug("handle get accept (content=%s)\n", ie->content.accept);

	if (ie->content.accept) {
		http_creply(conn, 200, "OK",
			    "application/json", "%s", ie->content.accept);
	}
	else {
		http_ereply(conn, 404, "Not Yet");
	}

	http_conn_close(conn);

 out:
	mem_deref(key);
}
