    def view!
      ## please see note in write_to_disk on important usage
      ## of quotes to avoid remote command injection.
      write_to_disk do |file|

        @@view_tempfiles.push file # make sure the tempfile is not garbage collected before sup stops

        ret = HookManager.run "mime-view", :content_type => @content_type,
                                           :filename => file.path
        ret || view_default!(file.path)
      end
    end
