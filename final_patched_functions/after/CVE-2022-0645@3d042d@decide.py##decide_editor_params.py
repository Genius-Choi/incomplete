def decide_editor_params(request: HttpRequest) -> Tuple[Dict[str, Any], bool]:
    if request.user.is_anonymous:
        return {}, False

    team = request.user.team
    if team and on_permitted_domain(team, request):
        response: Dict[str, Any] = {"isAuthenticated": True}
        editor_params = {}

        if request.user.toolbar_mode != "disabled":
            editor_params["toolbarVersion"] = "toolbar"

        if settings.JS_URL:
            editor_params["jsURL"] = settings.JS_URL

        response["editorParams"] = editor_params
        return response, not request.user.temporary_token
    else:
        return {}, False
