def get_python_version(env_name):
    from lollms.security import sanitize_shell_code
    env_name = sanitize_shell_code(env_name)
    conda_path = get_conda_path()
    if environment_exists(env_name):
        result = subprocess.run(f'{conda_path} run -n {env_name} python --version', shell=True, capture_output=True, text=True)
        return result.stdout.strip()
    else:
        return "Environment does not exist."
