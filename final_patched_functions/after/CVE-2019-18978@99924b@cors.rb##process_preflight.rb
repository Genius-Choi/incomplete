      def process_preflight(env, path)
        result = Result.preflight(env)

        resource, error = match_resource(path, env)
        unless resource
          result.miss(error)
          return {}
        end

        return resource.process_preflight(env, result)
      end
