      def allowed_public_embed_consultation_action?
        return unless permission_action.action == :embed &&
                      [:consultation, :participatory_space].include?(permission_action.subject) &&
                      consultation

        return disallow! unless consultation.published?

        allow!
      end
