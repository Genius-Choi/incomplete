OFTEST(dcmect_overflow)
{
    /* make sure data dictionary is loaded */
    if (!dcmDataDict.isDictionaryLoaded())
    {
        OFCHECK(dcmDataDict.isDictionaryLoaded());
    }

    // Creation
    EctEnhancedCT *ct = create();
    configureIOD(ct);
    setGenericValues(ct);
    addSharedFGs(ct);
    addFrames(ct);
    addDimensions(ct);

    // Write to dataset and compare its dump with expected result
    DcmFileFormat dcmff;

    OFTempFile tf(O_RDWR, "", "t_overflow", ".dcm");
    OFCondition result;
    result = ct->saveFile("output.dcm", EXS_LittleEndianExplicit);
    OFCHECK_MSG(result == ECT_InvalidPixelInfo, result.text());
}
