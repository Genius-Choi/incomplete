def test_check_access_auth_user_for_different_objects():
    user1 = factories.User()
    user2 = factories.User()
    context = {"user": user1["name"]}

    organization1 = factories.Organization(user=user1)
    organization2 = factories.Organization(user=user2)

    datasets1 = [
        factories.Dataset(owner_org=organization1["id"], private=True)
        for _ in range(0, 1)
    ]
    datasets2 = [
        factories.Dataset(owner_org=organization2["id"], private=True)
        for _ in range(0, 1)
    ]
    dataset3 = datasets1 + datasets2

    with pytest.raises(logic.NotAuthorized):
        for dataset in dataset3:
            logic.check_access("package_show", context, {'id': dataset["id"]})
