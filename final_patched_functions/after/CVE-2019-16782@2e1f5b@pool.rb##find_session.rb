      def find_session(req, sid)
        with_lock(req) do
          unless sid and session = get_session_with_fallback(sid)
            sid, session = generate_sid, {}
            @pool.store sid.private_id, session
          end
          [sid, session]
        end
      end
