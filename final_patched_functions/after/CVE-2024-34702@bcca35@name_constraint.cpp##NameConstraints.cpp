NameConstraints::NameConstraints(std::vector<GeneralSubtree>&& permitted_subtrees,
                                 std::vector<GeneralSubtree>&& excluded_subtrees) :
      m_permitted_subtrees(permitted_subtrees), m_excluded_subtrees(excluded_subtrees) {
   auto contains_unknown = [](const std::vector<GeneralSubtree>& tree) -> bool {
      for(const auto& c : tree) {
         if(c.base().is_unknown_type()) {
            return true;
         }
      }
      return false;
   };

   m_permitted_contains_unknown = contains_unknown(m_permitted_subtrees);
   m_excluded_contains_unknown = contains_unknown(m_excluded_subtrees);
}
