  def destroy
    Log.add_info(request, params.inspect)

    return unless request.post?

    if params[:check_xlog].nil?
      list
      render(:action => 'list')
      return
    end

    count = 0
    SqlHelper.validate_token([params[:check_xlog].keys])
    params[:check_xlog].each do |key, value|
      if value == '1'
        ZeptairXlog.delete(key)
        count += 1
      end
    end

    list
    flash[:notice] = count.to_s + t('log.deleted')
    render(:action => 'list')
  end
