        def parse_memory(data, encoding = "UTF-8")
          raise TypeError unless String === data
          return if data.empty?

          ctx = ParserContext.memory(data, encoding)
          yield ctx if block_given?
          ctx.parse_with(self)
        end
