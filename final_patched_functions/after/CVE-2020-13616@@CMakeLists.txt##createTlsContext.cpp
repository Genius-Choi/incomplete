static auto createTlsContext(api::EgressVO const& vo)
{
  auto ctx = ssl::context{ssl::context::tls_client};
  if (*vo.insecure_) {
    ctx.set_verify_mode(ssl::context::verify_none);
    return ctx;
  }

  ctx.set_verify_mode(ssl::context::verify_peer);
  if (vo.caFile_.has_value())
    ctx.load_verify_file(*vo.caFile_);
  else {
    ctx.set_default_verify_paths();
    ctx.set_verify_callback(ssl::rfc2818_verification{*vo.host_});
  }
  return ctx;
}
