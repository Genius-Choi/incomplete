def get_group(db, group_name):
    groups_table = db.get_table('groups')
    group = groups_table.find(name=group_name)
    rows = [x for x in group]
    if not rows:
        return error(404, {'error': 'Not a valid group'})

    userids = [x['userid'] for x in rows if x['userid']]
    if not userids:
        return {group_name: []}

    params = {}
    for i, userid in enumerate(userids,1):
        params['userid_' + str(i)] = str(userid)
    where_clause = 'userid IN(:' + ",:".join(params.keys()) + ')' # b/c sqlalchemy can't use a list!?
    q = "SELECT * FROM users WHERE " + where_clause
    users = db.executable.execute(q, params).fetchall()
    ret = {group_name: [dict(x.items()) for x in users] }
    return ret
