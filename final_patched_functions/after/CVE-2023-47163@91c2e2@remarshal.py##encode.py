def encode(
    output_format: str,
    data: Document,
    *,
    json_indent: Union[int, None],
    ordered: bool,
    stringify: bool,
    yaml_options: Dict[Any, Any],
) -> bytes:
    if output_format == "json":
        encoded = encode_json(
            data,
            indent=json_indent,
            ordered=ordered,
            stringify=stringify,
        ).encode("utf-8")
    elif output_format == "msgpack":
        encoded = encode_msgpack(data)
    elif output_format == "toml":
        if not isinstance(data, Mapping):
            msg = (
                f"Top-level value of type '{type(data).__name__}' cannot "
                "be encoded as TOML"
            )
            raise TypeError(msg)
        encoded = encode_toml(data, ordered=ordered, stringify=stringify).encode(
            "utf-8"
        )
    elif output_format == "yaml":
        encoded = encode_yaml(data, ordered=ordered, yaml_options=yaml_options).encode(
            "utf-8"
        )
    elif output_format == "cbor":
        encoded = encode_cbor(data)
    else:
        msg = f"Unknown output format: {output_format}"
        raise ValueError(msg)

    return encoded
