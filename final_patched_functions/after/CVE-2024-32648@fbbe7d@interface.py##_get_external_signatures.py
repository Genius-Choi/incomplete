def _get_external_signatures(global_ctx, sig_formatter=lambda x: x):
    ret = []

    for code in global_ctx._defs:
        sig = FunctionSignature.from_definition(
            code, sigs=global_ctx._contracts, custom_structs=global_ctx._structs,
        )
        if not sig.internal:
            ret.append(sig_formatter(sig))
    return ret
