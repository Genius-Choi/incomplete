def test_dynarray_length_no_clobber(get_contract, assert_tx_failed, code):
    # check that length is not clobbered before dynarray data copy happens
    c = get_contract(code)
    assert_tx_failed(lambda: c.should_revert())
