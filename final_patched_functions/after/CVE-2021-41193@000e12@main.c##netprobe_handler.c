static void netprobe_handler(int err, const struct netprobe_result *result,
			     void *arg)
{
	struct probe_entry *np;
	size_t ix = (size_t)arg;

	if (err) {
		warning("netprobe failed (%m)\n", err);
		goto out;
	}

	np = &netprobev[ix];

	re_printf("Network Probe results for %s TURN%s-server at %J\n",
		  net_proto2name(np->proto),
		  np->secure ? "S" : "", &np->turn_srv);
	re_printf("    Average RTT:   %.1f milliseconds\n",
		  result->rtt_avg / 1000.0);
	re_printf("    transmitted:   %u packets\n", result->n_pkt_sent);
	re_printf("    received:      %u packets\n", result->n_pkt_recv);
	re_printf("\n");

 out:
	netprobec_ok++;

	if (netprobec_ok >= netprobec) {
		info("netprobing done. shutting down..\n");
		engine_shutdown(engine);
	}
}
