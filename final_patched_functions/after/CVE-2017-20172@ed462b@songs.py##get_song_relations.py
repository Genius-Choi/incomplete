def get_song_relations(id):
    top_str = request.args.get('top')
    if not top_str.isdigit() or not int(top_str) > 0:
        message = 'top query param must be an int greater than 0'
        return bad_request(message)
    top = int(request.args.get('top'))
    song = Song.query.filter_by(id=id).first()
    if not song:
        return route_not_found(song)
    return make_response(jsonify(song.get_related_songs_json(top)), 200)
